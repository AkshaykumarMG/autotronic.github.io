<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>autocreditco documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">autocreditco documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  UserComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/modules/user/user.component.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>


            <tr>
                <td class="col-md-3">encapsulation</td>
                <td class="col-md-9"><code>ViewEncapsulation.None</code></td>
            </tr>










            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-user</code></td>
            </tr>




            <tr>
                <td class="col-md-3">styles</td>
                <td class="col-md-9"><code>:host ::ng-deep {
        .p-scroller-viewport {
            flex: none;
        }
    }</code></td>
            </tr>


            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./user.component.html</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrl</td>
                <td class="col-md-9"><code>./user.component.scss</code></td>
            </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#arrNotification" >arrNotification</a>
                            </li>
                            <li>
                                <a href="#arrOptionMenu" >arrOptionMenu</a>
                            </li>
                            <li>
                                <a href="#arrSidebarMenu" >arrSidebarMenu</a>
                            </li>
                            <li>
                                <a href="#arrUserStore" >arrUserStore</a>
                            </li>
                            <li>
                                <a href="#isProfileMenuOpen" >isProfileMenuOpen</a>
                            </li>
                            <li>
                                <a href="#isSidebarOpen" >isSidebarOpen</a>
                            </li>
                            <li>
                                <a href="#isSmallScreen" >isSmallScreen</a>
                            </li>
                            <li>
                                <a href="#isStoreInProcess" >isStoreInProcess</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#messaging" >messaging</a>
                            </li>
                            <li>
                                <a href="#objCurrentUser" >objCurrentUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#pageIndex" >pageIndex</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#pageSize" >pageSize</a>
                            </li>
                            <li>
                                <a href="#selectedStore" >selectedStore</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#totalCount" >totalCount</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Public</span>
                                <a href="#uiElement" >uiElement</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteFCMToken" >deleteFCMToken</a>
                            </li>
                            <li>
                                <a href="#getDeviceToken" >getDeviceToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getNotification" >getNotification</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onChangeStore" >onChangeStore</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#OnClickNotification" >OnClickNotification</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#OnLogout" >OnLogout</a>
                            </li>
                            <li>
                                <a href="#onNotificationMessage" >onNotificationMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#onScrollNotificationData" >onScrollNotificationData</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(router: Router, authService: <a href="../injectables/AuthService.html" target="_self">AuthService</a>, httpService: <a href="../injectables/HttpService.html" target="_self">HttpService</a>, eventService: <a href="../injectables/EventService.html" target="_self">EventService</a>, messageService: MessageService, localStorageService: <a href="../injectables/LocalStorageService.html" target="_self">LocalStorageService</a>, breakpointObserver: BreakpointObserver)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="77" class="link-to-prism">src/app/modules/user/user.component.ts:77</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                    <code>Router</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>authService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AuthService.html" target="_self" >AuthService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>httpService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/HttpService.html" target="_self" >HttpService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>eventService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/EventService.html" target="_self" >EventService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>messageService</td>
                                                  
                                                        <td>
                                                                    <code>MessageService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>localStorageService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/LocalStorageService.html" target="_self" >LocalStorageService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>breakpointObserver</td>
                                                  
                                                        <td>
                                                                    <code>BreakpointObserver</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteFCMToken"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>deleteFCMToken</b></span>
                        <a href="#deleteFCMToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteFCMToken()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="350"
                                    class="link-to-prism">src/app/modules/user/user.component.ts:350</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Deletes the Firebase Cloud Messaging (FCM) token associated with the current device.</p>
<p>This function removes the FCM token, which is used for push notifications.
It&#39;s important to note that if you&#39;re storing FCM tokens in your Firestore database,
you should also update the database to reflect this deletion.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the FCM token has been successfully deleted.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDeviceToken"></a>
                    <span class="name">
                        <span ><b>getDeviceToken</b></span>
                        <a href="#getDeviceToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDeviceToken()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="252"
                                    class="link-to-prism">src/app/modules/user/user.component.ts:252</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Requests and retrieves the Firebase Cloud Messaging (FCM) device token for push notifications.</p>
<p>This function performs the following steps:</p>
<ol>
<li>Checks if the platform is a browser.</li>
<li>Requests notification permission from the user.</li>
<li>If permission is granted and no token exists, it registers a service worker.</li>
<li>Generates an FCM token using the registered service worker.</li>
<li>Sends the token to the server for storage and marks it as existing in local storage.</li>
</ol>
<p>The function only executes these steps if the platform is a browser and notification
permission is granted. It also checks if a token already exists to avoid unnecessary
token generation.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">            such as storing the FCM token and updating local storage.</code></pre></div></div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>This function doesn&#39;t return a value, but it performs side effects
such as storing the FCM token and updating local storage.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNotification"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getNotification</b></span>
                        <a href="#getNotification"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getNotification()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="220"
                                    class="link-to-prism">src/app/modules/user/user.component.ts:220</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves notifications from the server and updates the component&#39;s notification data.</p>
<p>This method sends a GET request to the server&#39;s notification endpoint with pagination parameters.
It then updates the component&#39;s notification array with the retrieved data, including the total
count of notifications and the number of unread notifications.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">                     the component&#39;s data has been updated.</code></pre></div></div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the notifications have been retrieved and
the component&#39;s data has been updated.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>ngOnInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="101"
                                    class="link-to-prism">src/app/modules/user/user.component.ts:101</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Initializes the component by fetching necessary data and setting up listeners.</p>
<p>This function performs the following tasks:</p>
<ol>
<li>Retrieves the Firebase Cloud Messaging (FCM) token for the user.</li>
<li>Sets up a listener for incoming push notifications.</li>
<li>Fetches the initial set of notifications from the server.</li>
<li>Determines the user&#39;s role and sets up the navigation menu accordingly.</li>
<li>Checks the status of the user&#39;s store and redirects to the appropriate page.</li>
</ol>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>A promise that resolves when the initialization process is completed.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onChangeStore"></a>
                    <span class="name">
                        <span ><b>onChangeStore</b></span>
                        <a href="#onChangeStore"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onChangeStore(event: DropdownChangeEvent)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="333"
                                    class="link-to-prism">src/app/modules/user/user.component.ts:333</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Handles the change of store selection in the dropdown.
This function updates the local storage with the new store selection,
updates the component&#39;s selected store, and refreshes the page to
reflect the changes across the application.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">   when a new store is selected. It contains the selected store&#39;s data.</code></pre></div></div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>DropdownChangeEvent</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The event object emitted by the dropdown
when a new store is selected. It contains the selected store&#39;s data.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>This function doesn&#39;t return a value.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="OnClickNotification"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>OnClickNotification</b></span>
                        <a href="#OnClickNotification"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>OnClickNotification(data: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="406"
                                    class="link-to-prism">src/app/modules/user/user.component.ts:406</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Handles the navigation to different pages based on the notification type.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The notification data object containing information about the notification.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>A promise that resolves when the navigation to the corresponding page is completed.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="OnLogout"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>OnLogout</b></span>
                        <a href="#OnLogout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>OnLogout()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="362"
                                    class="link-to-prism">src/app/modules/user/user.component.ts:362</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Handles the user logout process.
Deletes the user&#39;s record from the authentication database, removes the Firebase Cloud Messaging (FCM) token,
and redirects the user to the login page.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>A promise that resolves when the logout process is completed.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onNotificationMessage"></a>
                    <span class="name">
                        <span ><b>onNotificationMessage</b></span>
                        <a href="#onNotificationMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onNotificationMessage()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="299"
                                    class="link-to-prism">src/app/modules/user/user.component.ts:299</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Sets up a listener for incoming Firebase Cloud Messaging (FCM) notifications.</p>
<p>This method subscribes to the FCM message stream and handles incoming notifications.
When a new notification is received, it:</p>
<ol>
<li>Extracts relevant information from the payload.</li>
<li>Creates a new notification object.</li>
<li>Adds the new notification to the beginning of the notification list.</li>
<li>Triggers an alert for the new notification.</li>
</ol>
<p>The method also includes error handling and completion logging.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>This method doesn&#39;t return a value.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onScrollNotificationData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>onScrollNotificationData</b></span>
                        <a href="#onScrollNotificationData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onScrollNotificationData()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="380"
                                    class="link-to-prism">src/app/modules/user/user.component.ts:380</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>This function handles the lazy loading of notifications when the user scrolls to the bottom of the notification list.
It checks if the user has scrolled to the bottom of the list and if there are more notifications to load.
If the conditions are met, it calls the <code>getNotification</code> function to fetch the next set of notifications.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>This function does not return any value.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="arrNotification"></a>
                    <span class="name">
                        <span ><b>arrNotification</b></span>
                        <a href="#arrNotification"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">src/app/modules/user/user.component.ts:60</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="arrOptionMenu"></a>
                    <span class="name">
                        <span ><b>arrOptionMenu</b></span>
                        <a href="#arrOptionMenu"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>MenuItem[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    {
      label: &#x27;Profile&#x27;,
      icon: &#x27;pi pi-user&#x27;,
      command: () &#x3D;&gt; { this.router.navigateByUrl(&#x27;/user/profile&#x27;); }
    },
    {
      label: &#x27;Finance Setting&#x27;,
      icon: &#x27;pi pi-building-columns&#x27;,
      command: () &#x3D;&gt; { this.router.navigateByUrl(&#x27;/user/finance-application&#x27;); }
    },
    {
      label: &#x27;Logout&#x27;,
      icon: &#x27;pi pi-power-off&#x27;,
      command: () &#x3D;&gt; { this.OnLogout() }
    }
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/app/modules/user/user.component.ts:37</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="arrSidebarMenu"></a>
                    <span class="name">
                        <span ><b>arrSidebarMenu</b></span>
                        <a href="#arrSidebarMenu"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="77" class="link-to-prism">src/app/modules/user/user.component.ts:77</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="arrUserStore"></a>
                    <span class="name">
                        <span ><b>arrUserStore</b></span>
                        <a href="#arrUserStore"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="72" class="link-to-prism">src/app/modules/user/user.component.ts:72</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isProfileMenuOpen"></a>
                    <span class="name">
                        <span ><b>isProfileMenuOpen</b></span>
                        <a href="#isProfileMenuOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">src/app/modules/user/user.component.ts:68</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isSidebarOpen"></a>
                    <span class="name">
                        <span ><b>isSidebarOpen</b></span>
                        <a href="#isSidebarOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.isSmallScreen ? false : true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">src/app/modules/user/user.component.ts:67</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isSmallScreen"></a>
                    <span class="name">
                        <span ><b>isSmallScreen</b></span>
                        <a href="#isSmallScreen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.breakpointObserver.isMatched(&#x27;(max-width: 599px)&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="56" class="link-to-prism">src/app/modules/user/user.component.ts:56</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isStoreInProcess"></a>
                    <span class="name">
                        <span ><b>isStoreInProcess</b></span>
                        <a href="#isStoreInProcess"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="74" class="link-to-prism">src/app/modules/user/user.component.ts:74</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messaging"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>messaging</b></span>
                        <a href="#messaging"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(Messaging)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="59" class="link-to-prism">src/app/modules/user/user.component.ts:59</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="objCurrentUser"></a>
                    <span class="name">
                        <span ><b>objCurrentUser</b></span>
                        <a href="#objCurrentUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.localStorageService.getObject(&#x27;user&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">src/app/modules/user/user.component.ts:71</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pageIndex"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>pageIndex</b></span>
                        <a href="#pageIndex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">src/app/modules/user/user.component.ts:63</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pageSize"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>pageSize</b></span>
                        <a href="#pageSize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>5</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="64" class="link-to-prism">src/app/modules/user/user.component.ts:64</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedStore"></a>
                    <span class="name">
                        <span ><b>selectedStore</b></span>
                        <a href="#selectedStore"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">src/app/modules/user/user.component.ts:73</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="totalCount"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>totalCount</b></span>
                        <a href="#totalCount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">src/app/modules/user/user.component.ts:62</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="uiElement"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Public</span>
                        <span ><b>uiElement</b></span>
                        <a href="#uiElement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ElementRef</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;scrollNotification&#x27;, {static: false})<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">src/app/modules/user/user.component.ts:61</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, ElementRef, OnInit, ViewChild, ViewEncapsulation, inject } from &#x27;@angular/core&#x27;;
import { Router } from &#x27;@angular/router&#x27;;
import { environment } from &#x27;../../../environments/environment&#x27;;

// layout
import { BreakpointObserver } from &#x27;@angular/cdk/layout&#x27;;

// custom service
import { AuthService } from &#x27;../../utilities/services/auth.service&#x27;;
import { HttpService } from &#x27;../../utilities/services/http.service&#x27;;
import { EventService, INotification } from &#x27;../../utilities/services/event.service&#x27;;
import { LocalStorageService } from &#x27;../../utilities/services/local-storage.service&#x27;;

// firebase messaging
import { Messaging, deleteToken, getToken, onMessage } from &#x27;@angular/fire/messaging&#x27;;

// primeng
import { MenuItem, MessageService } from &#x27;primeng/api&#x27;;
import { DropdownChangeEvent } from &#x27;primeng/dropdown&#x27;;

@Component({
  selector: &#x27;app-user&#x27;,
  templateUrl: &#x27;./user.component.html&#x27;,
  styleUrl: &#x27;./user.component.scss&#x27;,
  styles: [
    &#x60;:host ::ng-deep {
        .p-scroller-viewport {
            flex: none;
        }
    }&#x60;
  ],
  encapsulation: ViewEncapsulation.None
})
export class UserComponent implements OnInit {

  // option menu list
  arrOptionMenu: MenuItem[] &#x3D; [
    {
      label: &#x27;Profile&#x27;,
      icon: &#x27;pi pi-user&#x27;,
      command: () &#x3D;&gt; { this.router.navigateByUrl(&#x27;/user/profile&#x27;); }
    },
    {
      label: &#x27;Finance Setting&#x27;,
      icon: &#x27;pi pi-building-columns&#x27;,
      command: () &#x3D;&gt; { this.router.navigateByUrl(&#x27;/user/finance-application&#x27;); }
    },
    {
      label: &#x27;Logout&#x27;,
      icon: &#x27;pi pi-power-off&#x27;,
      command: () &#x3D;&gt; { this.OnLogout() }
    }
  ];

  // screen dimension
  isSmallScreen &#x3D; this.breakpointObserver.isMatched(&#x27;(max-width: 599px)&#x27;);

  // firebase notification
  private readonly messaging &#x3D; inject(Messaging);
  arrNotification: any;
  @ViewChild(&#x27;scrollNotification&#x27;, { static: false }) public uiElement!: ElementRef;
  public totalCount &#x3D; 0;
  public pageIndex &#x3D; 0;
  public pageSize &#x3D; 5;

  // sidebar visible state
  isSidebarOpen: boolean &#x3D; this.isSmallScreen ? false : true;
  isProfileMenuOpen: boolean &#x3D; false;

  // store
  objCurrentUser &#x3D; this.localStorageService.getObject(&#x27;user&#x27;);
  arrUserStore: any;
  selectedStore: any;
  isStoreInProcess: boolean &#x3D; true;

  // side menu list
  arrSidebarMenu: any;

  constructor(
    private readonly router: Router,
    private readonly authService: AuthService,
    private readonly httpService: HttpService,
    private readonly eventService: EventService,
    private readonly messageService: MessageService,
    readonly localStorageService: LocalStorageService,
    private readonly breakpointObserver: BreakpointObserver,
  ) { }

  /**
 * Initializes the component by fetching necessary data and setting up listeners.
 *
 * This function performs the following tasks:
 * 1. Retrieves the Firebase Cloud Messaging (FCM) token for the user.
 * 2. Sets up a listener for incoming push notifications.
 * 3. Fetches the initial set of notifications from the server.
 * 4. Determines the user&#x27;s role and sets up the navigation menu accordingly.
 * 5. Checks the status of the user&#x27;s store and redirects to the appropriate page.
 *
 * @returns {Promise&lt;void&gt;} - A promise that resolves when the initialization process is completed.
 */
  async ngOnInit(): Promise&lt;void&gt; {
    this.getDeviceToken();
    this.onNotificationMessage();
    this.getNotification();
    this.pageIndex++;

    // setup navigation menu based on user role
    const isUserDealer &#x3D; this.localStorageService.userIsDealer();
    if (isUserDealer) {
      // check store for dealer
      const store: any &#x3D; (await this.httpService.get(&#x27;user/store&#x27;) as any).store;
      if (!store || store.length &#x3D;&#x3D; 0) {
        this.router.navigateByUrl(&#x27;/user/store&#x27;);
      } else {
        this.arrUserStore &#x3D; store;
        const lsStore &#x3D; this.localStorageService.get(&#x27;store&#x27;);
        if (lsStore) {
          const isStoreExist &#x3D; store.find((str: any) &#x3D;&gt; str._id &#x3D;&#x3D;&#x3D; lsStore);
          if (isStoreExist) {
            this.selectedStore &#x3D; isStoreExist;
          } else {
            this.selectedStore &#x3D; this.arrUserStore[0];
            this.localStorageService.set(&#x27;store&#x27;, this.arrUserStore[0]._id);
          }
        } else {
          this.localStorageService.set(&#x27;store&#x27;, this.arrUserStore[0]._id);
          this.selectedStore &#x3D; this.arrUserStore[0];
        }

        // get store id from local storage otherwise default from 0 index of store list
        const storeID &#x3D; lsStore ? lsStore : this.arrUserStore[0]._id;
        // find matched store from list
        const storeDefault &#x3D; store.find((str: any) &#x3D;&gt; str._id &#x3D;&#x3D;&#x3D; storeID);

        // if vefied then show other menu&#x27;s otherwise hide and redirect to store page
        if ([&#x27;verified&#x27;].includes(storeDefault.status)) {
          this.isStoreInProcess &#x3D; false;
        } else {
          this.isStoreInProcess &#x3D; true;
          this.router.navigateByUrl(&#x27;/user/store&#x27;);
        }
        // console.log(&#x27;stopres: &#x27;, store, storeDefault.status, [&#x27;verified&#x27;].includes(storeDefault.status), this.localStorageService.userIsDealer());
      }
    }

    // setup side menu based on user role
    this.arrSidebarMenu &#x3D; [
      {
        name: &#x27;Home&#x27;,
        routerLink: &#x27;/user/home&#x27;,
        icon: &#x27;dashboard&#x27;,
        visible: !this.isStoreInProcess || !this.localStorageService.userIsDealer()
      },
      {
        name: &#x27;Car&#x27;,
        routerLink: &#x27;/user/car-list&#x27;,
        icon: &#x27;directions_car&#x27;,
        visible: !this.isStoreInProcess || !this.localStorageService.userIsDealer()
      },
      {
        name: &#x27;Inquiry&#x27;,
        routerLink: &#x27;/user/inquiry&#x27;,
        icon: &#x27;leaderboard&#x27;,
        visible: this.localStorageService.userIsDealer() &amp;&amp; !this.isStoreInProcess
      },
      {
        name: &#x27;Store&#x27;,
        routerLink: &#x27;/user/store&#x27;,
        // devider: true,
        icon: &#x27;store&#x27;,
        visible: this.localStorageService.userIsDealer()
      },
      {
        name: &#x27;Price Alert&#x27;,
        routerLink: &#x27;/user/price-alert&#x27;,
        icon: &#x27;car_tag&#x27;,
        visible: true
      },
      {
        name: &#x27;Saved Vehicle&#x27;,
        routerLink: &#x27;/user/favourite-vehicle&#x27;,
        icon: &#x27;bookmark_heart&#x27;,
        visible: true
      },
      {
        name: &#x27;Saved Search&#x27;,
        routerLink: &#x27;/user/search-alert&#x27;,
        icon: &#x27;bookmark_star&#x27;,
        visible: true
      },
    ];

    // event listener for notification
    this.eventService.notificationEvent.subscribe(async (data: INotification) &#x3D;&gt; {
      this.arrNotification.unread &#x3D; this.arrNotification.unread + 1;
      this.messageService.add({ severity: &#x27;info&#x27;, summary: data.title, detail: data.description });

      // play sound on notification
      const audio &#x3D; new Audio();
      audio.src &#x3D; &#x27;assets/audio/notification.mp3&#x27;;
      audio.volume &#x3D; 1;
      audio.load();
      await audio.play();
      audio.currentTime &#x3D; 0;
    });
  }

  /**
   * Retrieves notifications from the server and updates the component&#x27;s notification data.
   * 
   * This method sends a GET request to the server&#x27;s notification endpoint with pagination parameters.
   * It then updates the component&#x27;s notification array with the retrieved data, including the total
   * count of notifications and the number of unread notifications.
   * 
   * @returns {Promise&lt;void&gt;} A promise that resolves when the notifications have been retrieved and
   *                          the component&#x27;s data has been updated.
   * 
   * @throws {Error} If there&#x27;s an error in the HTTP request or response processing.
   */
  async getNotification(): Promise&lt;void&gt; {
    // make a GET request to the server&#x27;s notification endpoint with the updated page and limit parameters
    const response: any &#x3D; await this.httpService.get(&#x60;notification?page&#x3D;${this.pageIndex}&amp;limit&#x3D;${this.pageSize}&#x60;);

    // Initialize &#x60;arrNotification&#x60; if it&#x27;s not already defined
    if (!this.arrNotification) {
      this.arrNotification &#x3D; { data: [], unread: 0, total: 0 };
    }

    // Update &#x60;arrNotification&#x60; with the retrieved notifications
    this.arrNotification.data.push(...response.data);
    this.totalCount &#x3D; response.total;
    this.arrNotification.unread &#x3D; response.unread;
  }

  /**
   * Requests and retrieves the Firebase Cloud Messaging (FCM) device token for push notifications.
   * 
   * This function performs the following steps:
   * 1. Checks if the platform is a browser.
   * 2. Requests notification permission from the user.
   * 3. If permission is granted and no token exists, it registers a service worker.
   * 4. Generates an FCM token using the registered service worker.
   * 5. Sends the token to the server for storage and marks it as existing in local storage.
   * 
   * The function only executes these steps if the platform is a browser and notification
   * permission is granted. It also checks if a token already exists to avoid unnecessary
   * token generation.
   * 
   * @returns {void} This function doesn&#x27;t return a value, but it performs side effects
   *                 such as storing the FCM token and updating local storage.
   */
  getDeviceToken(): void {
    if (this.localStorageService.isPlateformBrowser()) {
      // Request notification permission
      Notification.requestPermission().then(
        (notificationPermissions: NotificationPermission) &#x3D;&gt; {
          if (notificationPermissions &#x3D;&#x3D;&#x3D; &quot;granted&quot;) {
            // check notification token is already enabled
            const isTokenExist &#x3D; this.localStorageService.get(&#x27;ne&#x27;);
            if (!isTokenExist) {
              // Register service worker
              navigator.serviceWorker
                .register(&quot;assets/firebase-messaging-sw.js&quot;, {
                  type: &quot;module&quot;,
                })
                .then((serviceWorkerRegistration) &#x3D;&gt; {
                  getToken(this.messaging, {
                    vapidKey: environment.vapidKey,
                    serviceWorkerRegistration,
                  }).then((token) &#x3D;&gt; {
                    // This is a good place to then store it on your database for each user
                    this.httpService.patch(&#x27;authentication/notification-token&#x27;, { token });
                    this.localStorageService.set(&#x27;ne&#x27;, &#x27;true&#x27;);
                  });
                });
            }
          }
          if (notificationPermissions &#x3D;&#x3D;&#x3D; &quot;denied&quot;) {
            // console.log(&quot;Deni ed notification permission&quot;);
          }
        });
    }
  }

  /**
   * Sets up a listener for incoming Firebase Cloud Messaging (FCM) notifications.
   * 
   * This method subscribes to the FCM message stream and handles incoming notifications.
   * When a new notification is received, it:
   * 1. Extracts relevant information from the payload.
   * 2. Creates a new notification object.
   * 3. Adds the new notification to the beginning of the notification list.
   * 4. Triggers an alert for the new notification.
   * 
   * The method also includes error handling and completion logging.
   * 
   * @returns {void} This method doesn&#x27;t return a value.
   */
  onNotificationMessage(): void {
    onMessage(this.messaging, {
      next: (payload) &#x3D;&gt; {
        const notification &#x3D; payload.notification;
        // notification data
        const dataNotification &#x3D; {
          title: notification?.title ?? &#x27;&#x27;,
          description: notification?.body ?? &#x27;&#x27;,
          createdAt: new Date(),
          unread: true,
          type: payload.data?.[&#x27;type&#x27;] ?? &#x27;&#x27;
        };

        // add notification in list
        this.arrNotification.data.unshift(dataNotification);

        // show message
        this.eventService.alertNotification(dataNotification);
      },
      error: (error) &#x3D;&gt; console.log(&#x27;Message error&#x27;, error),
      complete: () &#x3D;&gt; console.log(&#x27;Done listening to messages&#x27;),
    });
  }

  /**
   * Handles the change of store selection in the dropdown.
   * This function updates the local storage with the new store selection,
   * updates the component&#x27;s selected store, and refreshes the page to
   * reflect the changes across the application.
   *
   * @param {DropdownChangeEvent} event - The event object emitted by the dropdown
   *        when a new store is selected. It contains the selected store&#x27;s data.
   * @returns {void} This function doesn&#x27;t return a value.
   */
  onChangeStore(event: DropdownChangeEvent): void {
    this.localStorageService.remove(&#x27;store&#x27;);
    this.localStorageService.set(&#x27;store&#x27;, event.value._id);
    this.selectedStore &#x3D; event.value;
    location.reload(); // refresh forcefully get new store info 
  }

  /**
   * Deletes the Firebase Cloud Messaging (FCM) token associated with the current device.
   * 
   * This function removes the FCM token, which is used for push notifications.
   * It&#x27;s important to note that if you&#x27;re storing FCM tokens in your Firestore database,
   * you should also update the database to reflect this deletion.
   *
   * @returns {Promise&lt;void&gt;} A promise that resolves when the FCM token has been successfully deleted.
   * @throws {Error} If there&#x27;s an error during the token deletion process.
   */
  async deleteFCMToken(): Promise&lt;void&gt; {
    // We can also delete fcm tokens, make sure to also update this on your firestore db if you are storing them as well
    await deleteToken(this.messaging);
  }

  /**
 * Handles the user logout process.
 * Deletes the user&#x27;s record from the authentication database, removes the Firebase Cloud Messaging (FCM) token,
 * and redirects the user to the login page.
 *
 * @returns {Promise&lt;void&gt;} - A promise that resolves when the logout process is completed.
 */
  async OnLogout(): Promise&lt;void&gt; {
    // Delete record from auth db
    await this.authService.OnLogout();

    // Remove FCM token
    this.deleteFCMToken();

    // Redirect to login
    this.router.navigateByUrl(&#x27;/login&#x27;);
  }

  /**
 * This function handles the lazy loading of notifications when the user scrolls to the bottom of the notification list.
 * It checks if the user has scrolled to the bottom of the list and if there are more notifications to load.
 * If the conditions are met, it calls the &#x60;getNotification&#x60; function to fetch the next set of notifications.
 *
 * @returns {void} - This function does not return any value.
 */
  async onScrollNotificationData(): Promise&lt;void&gt; {
    // Get the native element of the notification list using the Angular ElementRef
    const nativeElement &#x3D; this.uiElement.nativeElement;

    // Check if the user has scrolled to the bottom of the list and if there are more notifications to load
    if (
      nativeElement.clientHeight + Math.round(nativeElement.scrollTop) &#x3D;&#x3D;&#x3D; nativeElement.scrollHeight &amp;&amp;
      this.arrNotification.data.length !&#x3D;&#x3D; this.totalCount
    ) {
      // Fetch the next set of notifications
      await this.getNotification();
      // Increment the page index for the next fetch
      this.pageIndex++;
    }
  }

  /**
 * Handles the navigation to different pages based on the notification type.
 *
 * @param data - The notification data object containing information about the notification.
 * @param data._id - The unique identifier of the notification.
 * @param data.type - The type of notification. It can be &#x27;store&#x27;, &#x27;car&#x27;, or &#x27;inquiry&#x27;.
 * @param data.read - A boolean indicating whether the notification is read or unread.
 *
 * @returns {Promise&lt;void&gt;} - A promise that resolves when the navigation to the corresponding page is completed.
 */
  async OnClickNotification(data: any): Promise&lt;void&gt; {

    // Check if the notification is unread
    if (!data.read) {
      // Mark the notification as read by making a PATCH request to the server
      await this.httpService.patch(&#x60;notification/${data._id}&#x60;, { read: true });
      // Update the current list of notifications to reflect the read status
      const notification &#x3D; this.arrNotification.data.find((ntf: any) &#x3D;&gt; ntf._id &#x3D;&#x3D;&#x3D; data._id);
      notification.read &#x3D; true;
    }

    // Determine the notification type and navigate to the corresponding page
    const type &#x3D; data.type;
    if (type &#x3D;&#x3D;&#x3D; &#x27;store&#x27;) {
      this.router.navigateByUrl(&#x27;/user/store&#x27;);
    } else if (type &#x3D;&#x3D;&#x3D; &#x27;car&#x27;) {
      this.router.navigateByUrl(&#x27;/user/car-list&#x27;);
    } else if (type &#x3D;&#x3D;&#x3D; &#x27;inquiry&#x27;) {
      this.router.navigateByUrl(&#x27;/user/inquiry&#x27;);
    } else if (type &#x3D;&#x3D;&#x3D; &#x27;finance_help&#x27;) {
      this.router.navigateByUrl(&#x27;/user/finance_help&#x27;);
    }
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;!-- top bar --&gt;
&lt;div
    class&#x3D;&quot;bg-primary px-4 xl:px-6 shadow-2 flex align-items-center justify-content-between relative h-4rem z-5 sticky top-0&quot;&gt;
    &lt;!-- right side logo &amp; sidebar button --&gt;
    &lt;div class&#x3D;&quot;flex align-items-center&quot;&gt;
        &lt;div class&#x3D;&quot;font-medium text-lg flex justify-content-center cursor-pointer&quot; routerLink&#x3D;&quot;/&quot;&gt;
            &lt;span&gt;Auto Credit Co&lt;/span&gt;
        &lt;/div&gt;
        &lt;p-button (click)&#x3D;&quot;isSidebarOpen &#x3D; !isSidebarOpen&quot; styleClass&#x3D;&quot;ml-3 gradient-primary&quot;
            icon&#x3D;&quot;pi pi-bars&quot;&gt;&lt;/p-button&gt;
    &lt;/div&gt;
    &lt;!-- left side - notification and user options --&gt;
    &lt;div class&#x3D;&quot;flex justify-content-center align-items-center&quot;&gt;
        &lt;!-- notification --&gt;
        &lt;div class&#x3D;&quot;bg-primary-700 mr-3 p-2 border-round&quot;&gt;
            &lt;div class&#x3D;&quot;relative&quot;&gt;
                &lt;div class&#x3D;&quot;pi pi-bell cursor-pointer text-2xl&quot; pStyleClass&#x3D;&quot;@next&quot; enterFromClass&#x3D;&quot;hidden&quot;
                    enterActiveClass&#x3D;&quot;scalein&quot; leaveToClass&#x3D;&quot;hidden&quot; leaveActiveClass&#x3D;&quot;fadeout&quot; [hideOnEscape]&#x3D;&quot;true&quot;
                    [hideOnOutsideClick]&#x3D;&quot;true&quot;&gt;
                    &lt;div class&#x3D;&quot;topbar-badge&quot; *ngIf&#x3D;&quot;arrNotification &amp;&amp; arrNotification.unread &gt; 0&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div
                    class&#x3D;&quot;hidden list-none p-3 m-0 border-round shadow-2 absolute surface-overlay origin-top w-22rem md:w-25rem mt-2 z-5 top-auto&quot;
                    [ngStyle]&#x3D;&quot;{ &#x27;right&#x27;: isSmallScreen ? &#x27;-30px&#x27;: &#x27;0px&#x27;}&quot;&gt;
                    &lt;div class&#x3D;&quot;flex justify-content-between&quot;&gt;
                        &lt;div class&#x3D;&quot;font-medium text-sm text-primary-500 block mb-2&quot;&gt;Notifications&lt;/div&gt;
                    &lt;/div&gt;
                    @if (arrNotification &amp;&amp; arrNotification.data &amp;&amp; arrNotification.data.length &gt; 0) {
                    &lt;div #scrollNotification style&#x3D;&quot;overflow-y: auto; max-height: 305px;&quot;
                        (scroll)&#x3D;&quot;onScrollNotificationData()&quot;&gt;
                        @for (notification of arrNotification.data; track notification; let last &#x3D; $last) {
                        &lt;div class&#x3D;&quot;flex w-full p-1 cursor-pointer hover:surface-hover border-round-lg&quot;
                            (click)&#x3D;&quot;OnClickNotification(notification)&quot;&gt;
                            &lt;div class&#x3D;&quot;p-1&quot;&gt;
                                &lt;span class&#x3D;&quot;material-symbols-outlined text-900&quot;&gt;
                                    add_business
                                &lt;/span&gt;
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;flex flex-column w-full ml-2&quot;&gt;
                                &lt;div class&#x3D;&quot;flex align-items-center justify-content-between&quot;&gt;
                                    &lt;div class&#x3D;&quot;flex align-items-center &quot;&gt;
                                        &lt;div class&#x3D;&quot;text-xs text-900 font-semibold&quot;&gt;{{ notification.title }}&lt;/div&gt;
                                        &lt;div class&#x3D;&quot;bg-primary-500 ml-2 border-circle&quot;
                                            style&#x3D;&quot;width: 0.5rem; height:0.5rem;&quot; *ngIf&#x3D;&quot;!notification.read&quot;&gt;&lt;/div&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;text-xs text-color-secondary mr-2&quot;&gt;
                                        {{ notification.createdAt | date:&#x27;dd/MM/YYYY hh:mm aa&#x27; }}&lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;text-xs text-color-secondary mt-1&quot;&gt;{{ notification.description }}&lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class&#x3D;&quot;border-1 border-solid surface-border hover:bg-white my-1&quot; *ngIf&#x3D;&quot;!last&quot;&gt;&lt;/div&gt;
                        }
                    &lt;/div&gt;
                    } @else {
                    &lt;div class&#x3D;&quot;flex justify-content-center w-full text-900 p-3 font-semibold&quot;&gt;No Nofitication Found
                    &lt;/div&gt;
                    }
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- profile --&gt;
        &lt;p-menu styleClass&#x3D;&quot;shadow-2 p-3 mt-2 lg:mt-0&quot; #optionMenu [model]&#x3D;&quot;arrOptionMenu&quot; [popup]&#x3D;&quot;true&quot;
            (onHide)&#x3D;&quot;isProfileMenuOpen &#x3D; false&quot;&gt;
            &lt;ng-template pTemplate&#x3D;&quot;item&quot; let-item&gt;
                &lt;div class&#x3D;&quot;flex flex-column gap-2 w-full text-sm border-round-md&quot;&gt;
                    &lt;div
                        class&#x3D;&quot;flex p-2 align-items-center w-full border-round-md cursor-pointer hover:bg-primary-100 hover:text-primary-700&quot;&gt;
                        &lt;i [class]&#x3D;&quot;&#x27;mr-2 pi pi-&#x27; + item.icon&quot;&gt;&lt;/i&gt;
                        {{ item.label }}
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/ng-template&gt;
        &lt;/p-menu&gt;
        &lt;div class&#x3D;&quot;hidden xl:flex align-items-center text-white p-2 px-3 border-round-md cursor-pointer gradient-success&quot;
            (click)&#x3D;&quot;optionMenu.toggle($event); isProfileMenuOpen &#x3D; !isProfileMenuOpen&quot;&gt;
            &lt;div class&#x3D;&quot;flex flex-column&quot;&gt;
                &lt;div class&#x3D;&quot;font-medium text-sm&quot;&gt;{{ objCurrentUser.username }}&lt;/div&gt;
                &lt;div class&#x3D;&quot;font-medium text-xs text-primary-100 mt-1&quot;&gt;{{ objCurrentUser.email }}&lt;/div&gt;
            &lt;/div&gt;
            &lt;i [class]&#x3D;&quot;&#x27;ml-3 pi pi-chevron-&#x27; + (isProfileMenuOpen ? &#x27;up&#x27; : &#x27;down&#x27;)&quot;&gt;&lt;/i&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;pi pi-user ml-2 xl:hidden cursor-pointer text-2xl&quot;
            (click)&#x3D;&quot;optionMenu.toggle($event); isProfileMenuOpen &#x3D; !isProfileMenuOpen&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- side bar --&gt;
&lt;p-sidebar styleClass&#x3D;&quot;layout-sidebar bg-white&quot; [showCloseIcon]&#x3D;&quot;false&quot; [(visible)]&#x3D;&quot;isSidebarOpen&quot; [modal]&#x3D;&quot;isSmallScreen ? true : false&quot;
    [closeOnEscape]&#x3D;&quot;false&quot;&gt;
    &lt;ng-template pTemplate&#x3D;&quot;headless&quot;&gt;
        &lt;div class&#x3D;&quot;layout-menu-container flex-column p-2&quot;&gt;
            &lt;p-dropdown [options]&#x3D;&quot;arrUserStore&quot; styleClass&#x3D;&quot;w-full mt-2&quot; [(ngModel)]&#x3D;&quot;selectedStore&quot; optionLabel&#x3D;&quot;name&quot;
                placeholder&#x3D;&quot;Select Store&quot; (onChange)&#x3D;&quot;onChangeStore($event)&quot;
                *ngIf&#x3D;&quot;localStorageService.userIsDealer()&quot;&gt;
                &lt;ng-template pTemplate&#x3D;&quot;selectedItem&quot;&gt;
                    &lt;div class&#x3D;&quot;flex align-items-center gap-2&quot;&gt;
                        &lt;div class&#x3D;&quot;flex&quot;&gt;
                            &lt;img [src]&#x3D;&quot;selectedStore.logo.url&quot; width&#x3D;&quot;20&quot; height&#x3D;&quot;20&quot; alt&#x3D;&quot;store_name&quot; /&gt;
                        &lt;/div&gt;
                        &lt;div class&#x3D;&quot;flex flex-column text-sm&quot;&gt;
                            &lt;div&gt;{{ selectedStore.name }}&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/ng-template&gt;
                &lt;ng-template let-store pTemplate&#x3D;&quot;item&quot;&gt;
                    &lt;div class&#x3D;&quot;flex align-items-center gap-2&quot;&gt;
                        &lt;div class&#x3D;&quot;flex&quot;&gt;
                            &lt;img [src]&#x3D;&quot;store.logo.url&quot; width&#x3D;&quot;25&quot; height&#x3D;&quot;25&quot; [alt]&#x3D;&quot;store.alias&quot; /&gt;
                        &lt;/div&gt;
                        &lt;div class&#x3D;&quot;flex flex-column text-sm&quot;&gt;
                            &lt;div class&#x3D;&quot;text-sm font-semibold&quot;&gt;{{ store.name }}&lt;/div&gt;
                            &lt;div class&#x3D;&quot;text-secondary-color text-xs&quot;&gt;{{ store.alias }}&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/ng-template&gt;
            &lt;/p-dropdown&gt;
            &lt;p-divider *ngIf&#x3D;&quot;localStorageService.userIsDealer()&quot;&gt;&lt;/p-divider&gt;
            @for (section of arrSidebarMenu; track section; let iM &#x3D; $index) {
            &lt;ul class&#x3D;&quot;list-none p-1 m-0&quot; *ngIf&#x3D;&quot;section.visible&quot;&gt;
                &lt;li&gt;
                    &lt;a pRipple [routerLink]&#x3D;&quot;section.routerLink&quot; routerLinkActive&#x3D;&quot;menu-active&quot; (click)&#x3D;&quot;isSmallScreen ? isSidebarOpen &#x3D; false : &#x27;&#x27;&quot;
                        class&#x3D;&quot;flex align-items-center cursor-pointer no-underline p-2 border-round-xl text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple&quot;&gt;
                        &lt;span class&#x3D;&quot;material-symbols-outlined mr-2&quot;&gt;{{ section.icon }}&lt;/span&gt;
                        &lt;span class&#x3D;&quot;font-medium&quot;&gt;{{ section.name }}&lt;/span&gt;
                    &lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
            }
        &lt;/div&gt;
    &lt;/ng-template&gt;
&lt;/p-sidebar&gt;

&lt;div class&#x3D;&quot;layout-wrapper p-1 md:p-2 lg:p-3&quot; [ngStyle]&#x3D;&quot;{ &#x27;margin-left&#x27;: isSidebarOpen ? &#x27;15rem&#x27; : &#x27;0rem&#x27;}&quot;&gt;
    &lt;div class&#x3D;&quot;mt-2 p-3&quot; [ngClass]&#x3D;&quot;{ &#x27;hidden&#x27;: isSidebarOpen &amp;&amp; isSmallScreen }&quot;&gt;
        &lt;router-outlet /&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;p-toast position&#x3D;&quot;top-center&quot;&gt;&lt;/p-toast&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
            <pre class="line-numbers"><code class="language-scss">:host ::ng-deep {
        .p-scroller-viewport {
            flex: none;
        }
    }
</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><!-- top bar --><div    class="bg-primary px-4 xl:px-6 shadow-2 flex align-items-center justify-content-between relative h-4rem z-5 sticky top-0">    <!-- right side logo & sidebar button -->    <div class="flex align-items-center">        <div class="font-medium text-lg flex justify-content-center cursor-pointer" routerLink="/">            <span>Auto Credit Co</span>        </div>        <p-button (click)="isSidebarOpen = !isSidebarOpen" styleClass="ml-3 gradient-primary"            icon="pi pi-bars"></p-button>    </div>    <!-- left side - notification and user options -->    <div class="flex justify-content-center align-items-center">        <!-- notification -->        <div class="bg-primary-700 mr-3 p-2 border-round">            <div class="relative">                <div class="pi pi-bell cursor-pointer text-2xl" pStyleClass="@next" enterFromClass="hidden"                    enterActiveClass="scalein" leaveToClass="hidden" leaveActiveClass="fadeout" [hideOnEscape]="true"                    [hideOnOutsideClick]="true">                    <div class="topbar-badge" *ngIf="arrNotification && arrNotification.unread > 0"></div>                </div>                <div                    class="hidden list-none p-3 m-0 border-round shadow-2 absolute surface-overlay origin-top w-22rem md:w-25rem mt-2 z-5 top-auto"                    [ngStyle]="{ \'right\': isSmallScreen ? \'-30px\': \'0px\'}">                    <div class="flex justify-content-between">                        <div class="font-medium text-sm text-primary-500 block mb-2">Notifications</div>                    </div>                    @if (arrNotification && arrNotification.data && arrNotification.data.length > 0) {                    <div #scrollNotification style="overflow-y: auto; max-height: 305px;"                        (scroll)="onScrollNotificationData()">                        @for (notification of arrNotification.data; track notification; let last = $last) {                        <div class="flex w-full p-1 cursor-pointer hover:surface-hover border-round-lg"                            (click)="OnClickNotification(notification)">                            <div class="p-1">                                <span class="material-symbols-outlined text-900">                                    add_business                                </span>                            </div>                            <div class="flex flex-column w-full ml-2">                                <div class="flex align-items-center justify-content-between">                                    <div class="flex align-items-center ">                                        <div class="text-xs text-900 font-semibold">{{ notification.title }}</div>                                        <div class="bg-primary-500 ml-2 border-circle"                                            style="width: 0.5rem; height:0.5rem;" *ngIf="!notification.read"></div>                                    </div>                                    <div class="text-xs text-color-secondary mr-2">                                        {{ notification.createdAt | date:\'dd/MM/YYYY hh:mm aa\' }}</div>                                </div>                                <div class="text-xs text-color-secondary mt-1">{{ notification.description }}</div>                            </div>                        </div>                        <div class="border-1 border-solid surface-border hover:bg-white my-1" *ngIf="!last"></div>                        }                    </div>                    } @else {                    <div class="flex justify-content-center w-full text-900 p-3 font-semibold">No Nofitication Found                    </div>                    }                </div>            </div>        </div>        <!-- profile -->        <p-menu styleClass="shadow-2 p-3 mt-2 lg:mt-0" #optionMenu [model]="arrOptionMenu" [popup]="true"            (onHide)="isProfileMenuOpen = false">            <ng-template pTemplate="item" let-item>                <div class="flex flex-column gap-2 w-full text-sm border-round-md">                    <div                        class="flex p-2 align-items-center w-full border-round-md cursor-pointer hover:bg-primary-100 hover:text-primary-700">                        <i [class]="\'mr-2 pi pi-\' + item.icon"></i>                        {{ item.label }}                    </div>                </div>            </ng-template>        </p-menu>        <div class="hidden xl:flex align-items-center text-white p-2 px-3 border-round-md cursor-pointer gradient-success"            (click)="optionMenu.toggle($event); isProfileMenuOpen = !isProfileMenuOpen">            <div class="flex flex-column">                <div class="font-medium text-sm">{{ objCurrentUser.username }}</div>                <div class="font-medium text-xs text-primary-100 mt-1">{{ objCurrentUser.email }}</div>            </div>            <i [class]="\'ml-3 pi pi-chevron-\' + (isProfileMenuOpen ? \'up\' : \'down\')"></i>        </div>        <div class="pi pi-user ml-2 xl:hidden cursor-pointer text-2xl"            (click)="optionMenu.toggle($event); isProfileMenuOpen = !isProfileMenuOpen"></div>    </div></div><!-- side bar --><p-sidebar styleClass="layout-sidebar bg-white" [showCloseIcon]="false" [(visible)]="isSidebarOpen" [modal]="isSmallScreen ? true : false"    [closeOnEscape]="false">    <ng-template pTemplate="headless">        <div class="layout-menu-container flex-column p-2">            <p-dropdown [options]="arrUserStore" styleClass="w-full mt-2" [(ngModel)]="selectedStore" optionLabel="name"                placeholder="Select Store" (onChange)="onChangeStore($event)"                *ngIf="localStorageService.userIsDealer()">                <ng-template pTemplate="selectedItem">                    <div class="flex align-items-center gap-2">                        <div class="flex">                            <img [src]="selectedStore.logo.url" width="20" height="20" alt="store_name" />                        </div>                        <div class="flex flex-column text-sm">                            <div>{{ selectedStore.name }}</div>                        </div>                    </div>                </ng-template>                <ng-template let-store pTemplate="item">                    <div class="flex align-items-center gap-2">                        <div class="flex">                            <img [src]="store.logo.url" width="25" height="25" [alt]="store.alias" />                        </div>                        <div class="flex flex-column text-sm">                            <div class="text-sm font-semibold">{{ store.name }}</div>                            <div class="text-secondary-color text-xs">{{ store.alias }}</div>                        </div>                    </div>                </ng-template>            </p-dropdown>            <p-divider *ngIf="localStorageService.userIsDealer()"></p-divider>            @for (section of arrSidebarMenu; track section; let iM = $index) {            <ul class="list-none p-1 m-0" *ngIf="section.visible">                <li>                    <a pRipple [routerLink]="section.routerLink" routerLinkActive="menu-active" (click)="isSmallScreen ? isSidebarOpen = false : \'\'"                        class="flex align-items-center cursor-pointer no-underline p-2 border-round-xl text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple">                        <span class="material-symbols-outlined mr-2">{{ section.icon }}</span>                        <span class="font-medium">{{ section.name }}</span>                    </a>                </li>            </ul>            }        </div>    </ng-template></p-sidebar><div class="layout-wrapper p-1 md:p-2 lg:p-3" [ngStyle]="{ \'margin-left\': isSidebarOpen ? \'15rem\' : \'0rem\'}">    <div class="mt-2 p-3" [ngClass]="{ \'hidden\': isSidebarOpen && isSmallScreen }">        <router-outlet />    </div></div><p-toast position="top-center"></p-toast></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'CarListComponent', 'selector': 'app-car-list'},{'name': 'CarManageComponent', 'selector': 'app-car-manage'},{'name': 'DealerDetailComponent', 'selector': 'app-dealer-detail'},{'name': 'FavouriteVehicleComponent', 'selector': 'app-favourite-vehicle'},{'name': 'FinanceApplicationComponent', 'selector': 'app-finance-application'},{'name': 'ForgetPasswordComponent', 'selector': 'app-forget-password'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'IndexComponent', 'selector': 'app-index'},{'name': 'InquiryComponent', 'selector': 'app-inquiry'},{'name': 'LoaderComponent', 'selector': 'app-loader'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'PageNotFoundComponent', 'selector': 'app-page-not-found'},{'name': 'PrequalifyLoanComponent', 'selector': 'app-prequalify-loan'},{'name': 'PriceAlertComponent', 'selector': 'app-price-alert'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'SearchAlertComponent', 'selector': 'app-search-alert'},{'name': 'SearchComponent', 'selector': 'app-search'},{'name': 'StoreComponent', 'selector': 'app-store'},{'name': 'UserComponent', 'selector': 'app-user'},{'name': 'VehicleDetailComponent', 'selector': 'app-vehicle-detail'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'UserComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'UserComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
