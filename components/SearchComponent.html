<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>autocreditco documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">autocreditco documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  SearchComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/components/search/search.component.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>

            <tr>
                <td class="col-md-3">changeDetection</td>
                <td class="col-md-9"><code>ChangeDetectionStrategy.OnPush</code></td>
            </tr>

            <tr>
                <td class="col-md-3">encapsulation</td>
                <td class="col-md-9"><code>ViewEncapsulation.None</code></td>
            </tr>








            <tr>
                <td class="col-md-3">providers</td>
                <td class="col-md-9">
                            <code>ConfirmationService</code>
                            <code>MessageService</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-search</code></td>
            </tr>

            <tr>
                <td class="col-md-3">standalone</td>
                <td class="col-md-9"><code>true</code></td>
            </tr>

            <tr>
                <td class="col-md-3">imports</td>
                <td class="col-md-9">
                            <code>CommonModule</code>
                            <code>FormsModule</code>
                            <code>ToastModule</code>
                            <code>NgOptimizedImage</code>
                            <code>TooltipModule</code>
                            <code>AvatarModule</code>
                            <code>TabViewModule</code>
                            <code>ReactiveFormsModule</code>
                            <code>ConfirmDialogModule</code>
                            <code>LayoutModule</code>
                            <code>DividerModule</code>
                            <code>InputTextModule</code>
                            <code>KeyFilterModule</code>
                            <code>ChipModule</code>
                            <code>PanelModule</code>
                            <code>DialogModule</code>
                            <code>PaginatorModule</code>
                            <code>InputSwitchModule</code>
                            <code>DropdownModule</code>
                            <code>ButtonModule</code>
                            <code>SkeletonModule</code>
                </td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./search.component.html</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrl</td>
                <td class="col-md-9"><code>./search.component.scss</code></td>
            </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#arrAllCar" >arrAllCar</a>
                            </li>
                            <li>
                                <a href="#arrFilterForm" >arrFilterForm</a>
                            </li>
                            <li>
                                <a href="#arrFilterFormCopy" >arrFilterFormCopy</a>
                            </li>
                            <li>
                                <a href="#arrFilterQueryString" >arrFilterQueryString</a>
                            </li>
                            <li>
                                <a href="#currentFilterData" >currentFilterData</a>
                            </li>
                            <li>
                                <a href="#currentPopUpID" >currentPopUpID</a>
                            </li>
                            <li>
                                <a href="#dataPagination" >dataPagination</a>
                            </li>
                            <li>
                                <a href="#formAlertListing" >formAlertListing</a>
                            </li>
                            <li>
                                <a href="#formPayment" >formPayment</a>
                            </li>
                            <li>
                                <a href="#groupedSortDefault" >groupedSortDefault</a>
                            </li>
                            <li>
                                <a href="#isAlertSubscribeDialogOpen" >isAlertSubscribeDialogOpen</a>
                            </li>
                            <li>
                                <a href="#isFilterLoading" >isFilterLoading</a>
                            </li>
                            <li>
                                <a href="#isFilterPopUpOpen" >isFilterPopUpOpen</a>
                            </li>
                            <li>
                                <a href="#isMobileFilterDialogOpen" >isMobileFilterDialogOpen</a>
                            </li>
                            <li>
                                <a href="#isMobileScreen" >isMobileScreen</a>
                            </li>
                            <li>
                                <a href="#isPaymenShowInSidebar" >isPaymenShowInSidebar</a>
                            </li>
                            <li>
                                <a href="#limit" >limit</a>
                            </li>
                            <li>
                                <a href="#objOuterLocation" >objOuterLocation</a>
                            </li>
                            <li>
                                <a href="#objPaymentInfo" >objPaymentInfo</a>
                            </li>
                            <li>
                                <a href="#page" >page</a>
                            </li>
                            <li>
                                <a href="#regExPostalCode" >regExPostalCode</a>
                            </li>
                            <li>
                                <a href="#selectedFilter" >selectedFilter</a>
                            </li>
                            <li>
                                <a href="#stateHomeDelivery" >stateHomeDelivery</a>
                            </li>
                            <li>
                                <a href="#strDefaultSort" >strDefaultSort</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#calculateDistance" >calculateDistance</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#calculatePayment" >calculatePayment</a>
                            </li>
                            <li>
                                <a href="#calculatorTermByYear" >calculatorTermByYear</a>
                            </li>
                            <li>
                                <a href="#checkFilterQueryMakeExist" >checkFilterQueryMakeExist</a>
                            </li>
                            <li>
                                <a href="#checkFilterQueryMakeModelExist" >checkFilterQueryMakeModelExist</a>
                            </li>
                            <li>
                                <a href="#checkPostalCode" >checkPostalCode</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#clearFilterFromPopUp" >clearFilterFromPopUp</a>
                            </li>
                            <li>
                                <a href="#closeFilterPopUpByID" >closeFilterPopUpByID</a>
                            </li>
                            <li>
                                <a href="#findCarServices" >findCarServices</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getDataByFilter" >getDataByFilter</a>
                            </li>
                            <li>
                                <a href="#getDistanceFromLatLonInKm" >getDistanceFromLatLonInKm</a>
                            </li>
                            <li>
                                <a href="#hideAllPopupFilter" >hideAllPopupFilter</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#loadFilterDataByApplyOrList" >loadFilterDataByApplyOrList</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#onChangeHomeDelivery" >onChangeHomeDelivery</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#onChangeSortOption" >onChangeSortOption</a>
                            </li>
                            <li>
                                <a href="#onClearFilters" >onClearFilters</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Public</span>
                                <a href="#onClick" >onClick</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#onInitValues" >onInitValues</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#onPageChange" >onPageChange</a>
                            </li>
                            <li>
                                <a href="#redirectToCarDetails" >redirectToCarDetails</a>
                            </li>
                            <li>
                                <a href="#replaceStringToCapitalize" >replaceStringToCapitalize</a>
                            </li>
                            <li>
                                <a href="#seachByInputFromFilterList" >seachByInputFromFilterList</a>
                            </li>
                            <li>
                                <a href="#searchByDropDownFilterOperation" >searchByDropDownFilterOperation</a>
                            </li>
                            <li>
                                <a href="#showFilterDialogOptions" >showFilterDialogOptions</a>
                            </li>
                            <li>
                                <a href="#sortPopupElementData" >sortPopupElementData</a>
                            </li>
                            <li>
                                <a href="#strPaymentForShidebar" >strPaymentForShidebar</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#submitFilterForAlert" >submitFilterForAlert</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#submitFilterForAlertDialog" >submitFilterForAlertDialog</a>
                            </li>
                        </ul>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                        <h6><b>HostListeners</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#document:click" >document:click</a>
                            </li>
                        </ul>
                    </td>
                </tr>

        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(router: Router, ngZone: NgZone, route: ActivatedRoute, csvService: <a href="../injectables/CSVService.html" target="_self">CSVService</a>, httpService: <a href="../injectables/HttpService.html" target="_self">HttpService</a>, cdRef: ChangeDetectorRef, platformId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>, messageService: MessageService, breakpointObserver: BreakpointObserver, localStorageService: <a href="../injectables/LocalStorageService.html" target="_self">LocalStorageService</a>, confirmationService: ConfirmationService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="126" class="link-to-prism">src/app/components/search/search.component.ts:126</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructor for the SearchComponent class.
Initializes the component and sets up query parameter handling.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                    <code>Router</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>Angular Router for navigation.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>ngZone</td>
                                                  
                                                        <td>
                                                                    <code>NgZone</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>NgZone service for executing work outside of the Angular zone.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                    <code>ActivatedRoute</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>ActivatedRoute service for accessing route parameters.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>csvService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/CSVService.html" target="_self" >CSVService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>httpService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/HttpService.html" target="_self" >HttpService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>Custom HTTP service for making API calls.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>cdRef</td>
                                                  
                                                        <td>
                                                                    <code>ChangeDetectorRef</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>ChangeDetectorRef for manually triggering change detection.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>platformId</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" >Object</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>Injection token identifying the current platform.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>messageService</td>
                                                  
                                                        <td>
                                                                    <code>MessageService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>PrimeNG MessageService for displaying messages.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>breakpointObserver</td>
                                                  
                                                        <td>
                                                                    <code>BreakpointObserver</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>BreakpointObserver for responsive design.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>localStorageService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/LocalStorageService.html" target="_self" >LocalStorageService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>Custom service for interacting with local storage.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>confirmationService</td>
                                                  
                                                        <td>
                                                                    <code>ConfirmationService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>PrimeNG ConfirmationService for displaying confirmation dialogs.</li>
</ul>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>




    <section data-compodoc="block-methods">
    <h3>HostListeners</h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="document:click"></a>
                    <span class="name">
                        <span ><b>document:click</b></span>
                        <a href="#document:click"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <i>Arguments : </i><code>'$event' '$event.target' </code>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>document:click(event: MouseEvent, targetElement: HTMLElement)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1615"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1615</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>
    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateDistance"></a>
                    <span class="name">
                        <span ><b>calculateDistance</b></span>
                        <a href="#calculateDistance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>calculateDistance()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="535"
                                    class="link-to-prism">src/app/components/search/search.component.ts:535</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calculates the distance between the user&#39;s location and each car&#39;s location.
This function updates the distance property of each car in the arrAllCar.data array.
It only works if the user has given location permission and if running in a browser environment.</p>
<p>The function uses the getPreciseDistance function to calculate the distance,
which is then rounded up to the nearest kilometer and appended with &#39;KM&#39;.</p>
<p>This function doesn&#39;t take any parameters as it uses class properties and methods.
It relies on the localStorageService to get the user&#39;s location and isPlatformBrowser for environment check.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>This function doesn&#39;t return a value, it updates the arrAllCar.data array in place.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculatePayment"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>calculatePayment</b></span>
                        <a href="#calculatePayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>calculatePayment(calculate?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1443"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1443</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calculates the payment settings for the search results.</p>
<p>If true, the function adds the selected values to the sidebar and updates the filter query string.
If false, the function calculates the financing amount for each vehicle in the search results.</p>
<p>If the calculate flag is true, the function adds the selected asking price range to the sidebar and updates the filter query string.
It then calls the <code>getDataByFilter</code> method to update the search results.
If the calculate flag is false, the function calculates the financing amount for each vehicle in the search results.
Finally, it calls the <code>hideAllPopupFilter</code> method to hide any open filter popups.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>calculate</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <ul>
<li>A flag indicating whether to calculate the payment settings based on the form values.
If true, the function adds the selected values to the sidebar and updates the filter query string.
If false, the function calculates the financing amount for each vehicle in the search results.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculatorTermByYear"></a>
                    <span class="name">
                        <span ><b>calculatorTermByYear</b></span>
                        <a href="#calculatorTermByYear"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>calculatorTermByYear(year: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1534"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1534</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calculates the financing terms available for a given vehicle manufacturing year.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>year</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The manufacturing year of the vehicle.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{}</code>

                        </div>
                            <div class="io-description">
                                <p>An array of financing terms in months, sorted in ascending order.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkFilterQueryMakeExist"></a>
                    <span class="name">
                        <span ><b>checkFilterQueryMakeExist</b></span>
                        <a href="#checkFilterQueryMakeExist"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkFilterQueryMakeExist()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="567"
                                    class="link-to-prism">src/app/components/search/search.component.ts:567</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Checks if a &#39;make&#39; filter query exists in the current filter query string array.</p>
<p>This function searches the <code>arrFilterQueryString</code> array for an element with the name &#39;make&#39;.
It&#39;s typically used to determine if a car make has been selected in the filter options.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>Returns true if a &#39;make&#39; filter query exists, false otherwise.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkFilterQueryMakeModelExist"></a>
                    <span class="name">
                        <span ><b>checkFilterQueryMakeModelExist</b></span>
                        <a href="#checkFilterQueryMakeModelExist"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkFilterQueryMakeModelExist()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="579"
                                    class="link-to-prism">src/app/components/search/search.component.ts:579</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Checks if both &#39;make&#39; and &#39;model&#39; filter queries exist in the current filter query string array.</p>
<p>This function searches the <code>arrFilterQueryString</code> array for elements with the names &#39;make&#39; and &#39;model&#39;.
It&#39;s typically used to determine if both a car make and model have been selected in the filter options.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>Returns true if both &#39;make&#39; and &#39;model&#39; filter queries exist, false otherwise.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkPostalCode"></a>
                    <span class="name">
                        <span ><b>checkPostalCode</b></span>
                        <a href="#checkPostalCode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkPostalCode(postal: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, element: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="679"
                                    class="link-to-prism">src/app/components/search/search.component.ts:679</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Validates a Canadian postal code and updates the error state of the associated element.</p>
<p>This function uses a regular expression to check if the given string is a valid
Canadian postal code. If it is valid, any existing error on the element is cleared.
If it&#39;s invalid, an error message is set on the element.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">             This object should have an &#39;error&#39; property that can be set or cleared.</code></pre></div></div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>postal</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The postal code string to be validated.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>element</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The form element or object associated with the postal code input.
This object should have an &#39;error&#39; property that can be set or cleared.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>void This function doesn&#39;t return a value, it updates the &#39;error&#39; property of the element.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearFilterFromPopUp"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>clearFilterFromPopUp</b></span>
                        <a href="#clearFilterFromPopUp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>clearFilterFromPopUp(filter: <a href="../interfaces/FilterFormData.html" target="_self">FilterFormData</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1334"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1334</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Clears the specified filter from the popup and updates the search results accordingly.</p>
<p>This function performs the following tasks:</p>
<ol>
<li>Resets the selected filter and its associated data.</li>
<li>Updates the filter query string array.</li>
<li>Handles special cases for &#39;make&#39; and &#39;model&#39; filters.</li>
<li>Updates the local storage with the new query.</li>
<li>Fetches new data based on the updated filters.</li>
<li>Hides all popup filters and resets the current popup ID.</li>
</ol>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>filter</td>
                                            <td>
                                                            <code><a href="../interfaces/FilterFormData.html" target="_self" >FilterFormData</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The FilterFormData object representing the filter to be cleared.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>A Promise that resolves when all operations are complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeFilterPopUpByID"></a>
                    <span class="name">
                        <span ><b>closeFilterPopUpByID</b></span>
                        <a href="#closeFilterPopUpByID"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closeFilterPopUpByID(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="740"
                                    class="link-to-prism">src/app/components/search/search.component.ts:740</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Closes a filter popup by its ID and removes the blur effect from the filter section.</p>
<p>This function hides the specified popup by adding a &#39;hidden&#39; class to it,
and removes the blur effect from the filter section by removing the
&#39;body-filter-popup&#39; class.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The ID of the popup element to be closed.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>void</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findCarServices"></a>
                    <span class="name">
                        <span ><b>findCarServices</b></span>
                        <a href="#findCarServices"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>findCarServices(services: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, service: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="726"
                                    class="link-to-prism">src/app/components/search/search.component.ts:726</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Searches for a specific car service within an array of services.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>services</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>An array of service objects. Each object is expected to have an &#39;alias&#39; property.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>service</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The alias of the service to search for.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>The service object if found, or false if the service is not found or if the services array is empty or undefined.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDataByFilter"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getDataByFilter</b></span>
                        <a href="#getDataByFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getDataByFilter()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="964"
                                    class="link-to-prism">src/app/components/search/search.component.ts:964</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Fetches and processes car data based on applied filters.</p>
<p>This asynchronous function performs the following tasks:</p>
<ol>
<li>Prepares the filter query based on the current filter state.</li>
<li>Retrieves car data either from local storage or through an API call.</li>
<li>Updates the filter counts and visibility based on the retrieved data.</li>
<li>Calculates distances and payments for the retrieved cars.</li>
<li>Applies any default sorting if specified.</li>
</ol>
<p>The function uses NgZone to run outside Angular&#39;s change detection to improve performance.
It also manages the loading state and triggers change detection after processing.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when all data fetching and processing is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDistanceFromLatLonInKm"></a>
                    <span class="name">
                        <span ><b>getDistanceFromLatLonInKm</b></span>
                        <a href="#getDistanceFromLatLonInKm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDistanceFromLatLonInKm(userLat: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, userLong: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, dealerLat: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, dealerLng: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="646"
                                    class="link-to-prism">src/app/components/search/search.component.ts:646</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calculates the distance between two points on Earth given their latitude and longitude coordinates.
This function uses the Haversine formula to compute the great-circle distance between two points on a sphere.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userLat</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The latitude of the user&#39;s location in decimal degrees.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>userLong</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The longitude of the user&#39;s location in decimal degrees.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>dealerLat</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The latitude of the dealer&#39;s location in decimal degrees.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>dealerLng</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The longitude of the dealer&#39;s location in decimal degrees.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </div>
                            <div class="io-description">
                                <p>The distance between the two points in kilometers.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hideAllPopupFilter"></a>
                    <span class="name">
                        <span ><b>hideAllPopupFilter</b></span>
                        <a href="#hideAllPopupFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hideAllPopupFilter(getCurrentPopUpID: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1741"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1741</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Hides all filter popups except for the one specified by the input ID.
This function manages the visibility of filter popups and updates the current popup state.
It also removes the blur effect from the filter section when all popups are closed.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">                       All other popups will be hidden. If this matches no popup ID,
                       all popups will be hidden.</code></pre></div></div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>getCurrentPopUpID</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The ID of the popup that should remain visible (if any).
All other popups will be hidden. If this matches no popup ID,
all popups will be hidden.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>void This function doesn&#39;t return a value, but modifies the DOM and component state.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadFilterDataByApplyOrList"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>loadFilterDataByApplyOrList</b></span>
                        <a href="#loadFilterDataByApplyOrList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadFilterDataByApplyOrList(filter: <a href="../interfaces/FilterFormData.html" target="_self">FilterFormData</a>, select?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="758"
                                    class="link-to-prism">src/app/components/search/search.component.ts:758</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Loads and processes filter data based on user selection or application.
This function handles various types of filters (textbox, dropdown, multi-select, checkbox, etc.),
updates the filter query string, manages dependent filters, and triggers data fetching based on the new filter state.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>filter</td>
                                            <td>
                                                            <code><a href="../interfaces/FilterFormData.html" target="_self" >FilterFormData</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The filter form data object containing information about the selected filter.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>select</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <ul>
<li>Optional. The selected value for textbox-list type filters.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>A Promise that resolves when all filter processing and data fetching is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>ngOnInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="221"
                                    class="link-to-prism">src/app/components/search/search.component.ts:221</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Initializes the component by setting up filters, handling page refresh on back button press,
managing location data, and fetching car list data.</p>
<p>This method is called automatically when the component is initialized.
It performs the following tasks:</p>
<ol>
<li>Initializes filter values</li>
<li>Sets up a listener for the browser&#39;s back button to refresh the page</li>
<li>Checks for existing location data and sets a default if none exists</li>
<li>Fetches the car list based on current filters</li>
</ol>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when all initialization tasks are complete</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onChangeHomeDelivery"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>onChangeHomeDelivery</b></span>
                        <a href="#onChangeHomeDelivery"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onChangeHomeDelivery(event: InputSwitchChangeEvent)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1221"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1221</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Handles the change event for the home delivery option in the filter.
Updates the filter query string and form data based on the user&#39;s selection.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">           Contains the current state of the switch (checked or unchecked).</code></pre></div></div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>InputSwitchChangeEvent</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The InputSwitchChangeEvent triggered by the home delivery toggle.
Contains the current state of the switch (checked or unchecked).</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A Promise that resolves when the filter data has been updated and new results have been fetched.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onChangeSortOption"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>onChangeSortOption</b></span>
                        <a href="#onChangeSortOption"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onChangeSortOption(event: DropdownChangeEvent)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="597"
                                    class="link-to-prism">src/app/components/search/search.component.ts:597</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Handles the change event of the sort option dropdown.
This function sorts the array of cars (this.arrAllCar.data) based on the selected sort option.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">                 &#39;price_low_to_high&#39;, &#39;price_high_to_low&#39;, &#39;kilometeres_low_to_high&#39;,
                 &#39;kilometeres_high_to_low&#39;, &#39;year_old_to_new&#39;, &#39;year_new_to_old&#39;,
                 &#39;posted_date_new_to_old&#39;, &#39;posted_date_old_to_new&#39;, &#39;nearest_location&#39;, &#39;default&#39;.

     If the &#39;default&#39; option is selected, it triggers a new data fetch using getDataByFilter().</code></pre></div></div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>DropdownChangeEvent</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The DropdownChangeEvent object containing information about the selected sort option.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A Promise that resolves when the sorting operation is complete.
If the &#39;default&#39; option is selected, it triggers a new data fetch using getDataByFilter().</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onClearFilters"></a>
                    <span class="name">
                        <span ><b>onClearFilters</b></span>
                        <a href="#onClearFilters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onClearFilters()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1128"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1128</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Clears all applied filters and resets the filter form to its default state.</p>
<p>This function performs the following tasks:</p>
<ol>
<li>Resets the selected filter value.</li>
<li>Sets the default query string for distance, condition, and seller type.</li>
<li>Updates the local storage with the new query.</li>
<li>Resets all filter form data, except for location, condition, and seller type.</li>
<li>Resets pagination to default values.</li>
<li>Removes payment calculation if it was previously shown.</li>
<li>Fetches new data based on the default filters.</li>
</ol>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>This function doesn&#39;t return a value.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onClick"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Public</span>
                        <span ><b>onClick</b></span>
                        <a href="#onClick"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onClick(event: MouseEvent, targetElement: HTMLElement)</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@HostListener(&#x27;document:click&#x27;, [&#x27;$event&#x27;, &#x27;$event.target&#x27;])<br /></code>
                </td>
            </tr>

                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1615"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1615</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>MouseEvent</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>targetElement</td>
                                            <td>
                                                        <code>HTMLElement</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onInitValues"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>onInitValues</b></span>
                        <a href="#onInitValues"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onInitValues()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="259"
                                    class="link-to-prism">src/app/components/search/search.component.ts:259</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Initializes and sets up various values and configurations for the component.
This includes setting up sort options, loading payment data, fetching and processing filter data,
and applying any previously saved filter settings.</p>
<p>This method performs the following tasks:</p>
<ol>
<li>Sets up the default sort options for the listing.</li>
<li>Loads and applies any saved payment data.</li>
<li>Fetches filter data from the API and processes it.</li>
<li>Applies any previously saved filter settings from the query string.</li>
<li>Sets up dependencies between different filter options.</li>
<li>Handles special cases for certain filter types (e.g., location, condition, seller type, make, model).</li>
</ol>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when all initialization tasks are complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onPageChange"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>onPageChange</b></span>
                        <a href="#onPageChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onPageChange(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1206"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1206</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Pagination on car list</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="redirectToCarDetails"></a>
                    <span class="name">
                        <span ><b>redirectToCarDetails</b></span>
                        <a href="#redirectToCarDetails"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>redirectToCarDetails(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1193"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1193</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Redirects the user to the car details page for a specific car.</p>
<p>This function saves the current page state (including pagination and filter information)
to local storage before navigating to the details page. This allows for a seamless
return to the search results later.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The unique identifier of the car to view details for.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>This function doesn&#39;t return a value.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="replaceStringToCapitalize"></a>
                    <span class="name">
                        <span ><b>replaceStringToCapitalize</b></span>
                        <a href="#replaceStringToCapitalize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>replaceStringToCapitalize(key: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, filter?: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="693"
                                    class="link-to-prism">src/app/components/search/search.component.ts:693</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Converts a string to title case, replacing underscores with spaces.
If a filter is provided, it attempts to find a matching label from the filter data.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>key</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The string to be capitalized or the value to find in the filter data.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>filter</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <ul>
<li>Optional. The name of the filter to search for a matching label.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>string | undefined</code>

                        </div>
                            <div class="io-description">
                                <p>The capitalized string, the matching label from the filter data, or undefined if no match is found or key is falsy.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="seachByInputFromFilterList"></a>
                    <span class="name">
                        <span ><b>seachByInputFromFilterList</b></span>
                        <a href="#seachByInputFromFilterList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>seachByInputFromFilterList(search: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, filter: <a href="../interfaces/FilterFormData.html" target="_self">FilterFormData</a>, index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1273"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1273</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Searches and filters the list of filter options based on user input.</p>
<p>This function performs a case-insensitive search on the filter options,
updates the search results, and triggers change detection to update the UI.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>search</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The search string entered by the user.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>filter</td>
                                            <td>
                                                            <code><a href="../interfaces/FilterFormData.html" target="_self" >FilterFormData</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The FilterFormData object representing the current filter.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>index</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The index of the current filter in the arrFilterForm array.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>This function doesn&#39;t return a value, but updates the filter object and triggers UI updates.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="searchByDropDownFilterOperation"></a>
                    <span class="name">
                        <span ><b>searchByDropDownFilterOperation</b></span>
                        <a href="#searchByDropDownFilterOperation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>searchByDropDownFilterOperation(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, indexParent: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, filter: <a href="../interfaces/FilterFormData.html" target="_self">FilterFormData</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1299"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1299</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Performs a search operation on dropdown filter options based on the specified maximum value.
This function is specifically designed for filters with a &#39;maximum&#39; operation.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>index</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The index of the current filter option within its parent filter.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>indexParent</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The index of the parent filter in the main filter array.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>filter</td>
                                            <td>
                                                            <code><a href="../interfaces/FilterFormData.html" target="_self" >FilterFormData</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The FilterFormData object representing the current filter.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>This function doesn&#39;t return a value, but updates the <code>search</code> property of the filter object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showFilterDialogOptions"></a>
                    <span class="name">
                        <span ><b>showFilterDialogOptions</b></span>
                        <a href="#showFilterDialogOptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>showFilterDialogOptions(key, parent: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, child: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1688"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1688</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Displays a filter dialog options popup for a specific filter.</p>
<p>This function handles the positioning and display of a filter popup dialog.
It calculates the position based on the parent element&#39;s location and adjusts
for screen boundaries. It also applies visual effects like blurring the background.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>key</td>
                                            <td>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The identifier for the current filter. Used to find the filter data.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>parent</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The ID of the parent element that triggers the popup.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>child</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The ID of the child element that represents the popup dialog.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>This function doesn&#39;t return a value, but modifies the DOM to display the popup.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sortPopupElementData"></a>
                    <span class="name">
                        <span ><b>sortPopupElementData</b></span>
                        <a href="#sortPopupElementData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sortPopupElementData(element: Array<any>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="715"
                                    class="link-to-prism">src/app/components/search/search.component.ts:715</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Sorts an array of elements based on their &#39;label&#39; property in ascending order.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>element</td>
                                            <td>
                                                        <code>Array&lt;any&gt;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>An array of objects, each containing a &#39;label&#39; property to be sorted.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Array&lt;any&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A new array with the same elements sorted alphabetically by their &#39;label&#39; property.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="strPaymentForShidebar"></a>
                    <span class="name">
                        <span ><b>strPaymentForShidebar</b></span>
                        <a href="#strPaymentForShidebar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>strPaymentForShidebar()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1556"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1556</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Constructs a string representation of the payment filter settings for the sidebar.</p>
<p>The string includes the minimum and maximum payment amounts, the payment frequency,
the financing term, and the down payment amount.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>A formatted string representing the payment filter settings.
The string includes the minimum and maximum payment amounts, the payment frequency,
the financing term, and the down payment amount.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="submitFilterForAlert"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>submitFilterForAlert</b></span>
                        <a href="#submitFilterForAlert"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>submitFilterForAlert()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1568"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1568</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Submits the filter settings for an alert subscription.</p>
<p>This function logs the current form values and filter query strings,
then sends a POST request to the &#39;alert-subscribe&#39; endpoint with the filter data.
If the response indicates a successful subscription, it sets the &#39;isAlertSuccessDialogOpen&#39; flag to true.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="submitFilterForAlertDialog"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>submitFilterForAlertDialog</b></span>
                        <a href="#submitFilterForAlertDialog"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>submitFilterForAlertDialog()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1597"
                                    class="link-to-prism">src/app/components/search/search.component.ts:1597</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Opens the alert subscription dialog and submits the filter for an alert.</p>
<p>This function sets the <code>isAlertSubscribeDialogOpen</code> flag to true, which likely
triggers the display of an alert subscription dialog in the UI. It then calls
the <code>submitFilterForAlert</code> method to process the filter submission for the alert.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the alert filter has been submitted.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="arrAllCar"></a>
                    <span class="name">
                        <span ><b>arrAllCar</b></span>
                        <a href="#arrAllCar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>undefined</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="70" class="link-to-prism">src/app/components/search/search.component.ts:70</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="arrFilterForm"></a>
                    <span class="name">
                        <span ><b>arrFilterForm</b></span>
                        <a href="#arrFilterForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/FilterFormData.html" target="_self" >FilterFormData[] | undefined</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="83" class="link-to-prism">src/app/components/search/search.component.ts:83</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="arrFilterFormCopy"></a>
                    <span class="name">
                        <span ><b>arrFilterFormCopy</b></span>
                        <a href="#arrFilterFormCopy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/FilterFormData.html" target="_self" >FilterFormData[] | undefined</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="84" class="link-to-prism">src/app/components/search/search.component.ts:84</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="arrFilterQueryString"></a>
                    <span class="name">
                        <span ><b>arrFilterQueryString</b></span>
                        <a href="#arrFilterQueryString"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    { name: &#x27;Distance&#x27;, value: &#x27;national&#x27; },
    { name: &#x27;condition&#x27;, value: [&#x27;new&#x27;, &#x27;used&#x27;] },
    { name: &#x27;seller_type&#x27;, value: [&#x27;dealer&#x27;, &#x27;private_person&#x27;] }
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="122" class="link-to-prism">src/app/components/search/search.component.ts:122</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentFilterData"></a>
                    <span class="name">
                        <span ><b>currentFilterData</b></span>
                        <a href="#currentFilterData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/FilterFormData.html" target="_self" >FilterFormData | undefined</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="85" class="link-to-prism">src/app/components/search/search.component.ts:85</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentPopUpID"></a>
                    <span class="name">
                        <span ><b>currentPopUpID</b></span>
                        <a href="#currentPopUpID"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1612" class="link-to-prism">src/app/components/search/search.component.ts:1612</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Handles click events on the document to manage filter popups.
This method controls the opening and closing of filter popups, handles interactions
with popup elements, and manages the state of filters and query strings.</p>
</div>
                </td>
            </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">
                                <b>Parameters :</b>
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                            <tr>
                                                    <td>event</td>
                                                    <td>
                                                            <code><ul>
<li>The mouse event triggered by the click.</li>
</ul>
</code>
                                                    </td>
                                            </tr>
                                            <tr>
                                                    <td>targetElement</td>
                                                    <td>
                                                            <code><ul>
<li>The HTML element that was clicked.</li>
</ul>
</code>
                                                    </td>
                                            </tr>
                                    </tbody>
                                </table>
                        </div>
                    </td>
                </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dataPagination"></a>
                    <span class="name">
                        <span ><b>dataPagination</b></span>
                        <a href="#dataPagination"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[15, 30, 50, 100]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="77" class="link-to-prism">src/app/components/search/search.component.ts:77</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formAlertListing"></a>
                    <span class="name">
                        <span ><b>formAlertListing</b></span>
                        <a href="#formAlertListing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new FormGroup({
    email: new FormControl&lt;string | null&gt;(null, [Validators.required, Validators.email])
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="100" class="link-to-prism">src/app/components/search/search.component.ts:100</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formPayment"></a>
                    <span class="name">
                        <span ><b>formPayment</b></span>
                        <a href="#formPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new FormGroup({
    min: new FormControl&lt;number | null&gt;(0, [Validators.required]),
    max: new FormControl&lt;number | null&gt;(null, [Validators.required]),
    frequency: new FormControl(&#x27;Bi-Weekly&#x27;),
    term: new FormControl&lt;number | null&gt;(36),
    down_payment: new FormControl&lt;number | null&gt;(0),
    apr: new FormControl&lt;number | null&gt;(4.99),
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="105" class="link-to-prism">src/app/components/search/search.component.ts:105</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="groupedSortDefault"></a>
                    <span class="name">
                        <span ><b>groupedSortDefault</b></span>
                        <a href="#groupedSortDefault"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>SelectItem[] | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">src/app/components/search/search.component.ts:76</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isAlertSubscribeDialogOpen"></a>
                    <span class="name">
                        <span ><b>isAlertSubscribeDialogOpen</b></span>
                        <a href="#isAlertSubscribeDialogOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="97" class="link-to-prism">src/app/components/search/search.component.ts:97</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isFilterLoading"></a>
                    <span class="name">
                        <span ><b>isFilterLoading</b></span>
                        <a href="#isFilterLoading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="87" class="link-to-prism">src/app/components/search/search.component.ts:87</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isFilterPopUpOpen"></a>
                    <span class="name">
                        <span ><b>isFilterPopUpOpen</b></span>
                        <a href="#isFilterPopUpOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1613" class="link-to-prism">src/app/components/search/search.component.ts:1613</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isMobileFilterDialogOpen"></a>
                    <span class="name">
                        <span ><b>isMobileFilterDialogOpen</b></span>
                        <a href="#isMobileFilterDialogOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="93" class="link-to-prism">src/app/components/search/search.component.ts:93</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isMobileScreen"></a>
                    <span class="name">
                        <span ><b>isMobileScreen</b></span>
                        <a href="#isMobileScreen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.breakpointObserver.isMatched(&#x27;(max-width: 599px)&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="94" class="link-to-prism">src/app/components/search/search.component.ts:94</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isPaymenShowInSidebar"></a>
                    <span class="name">
                        <span ><b>isPaymenShowInSidebar</b></span>
                        <a href="#isPaymenShowInSidebar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="119" class="link-to-prism">src/app/components/search/search.component.ts:119</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="limit"></a>
                    <span class="name">
                        <span ><b>limit</b></span>
                        <a href="#limit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>15</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">src/app/components/search/search.component.ts:80</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="objOuterLocation"></a>
                    <span class="name">
                        <span ><b>objOuterLocation</b></span>
                        <a href="#objOuterLocation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{ count: 0, make: &#x27;Car&#x27;, condition: &#x27;New &amp; Used&#x27;, city: &#x27;&#x27; }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">src/app/components/search/search.component.ts:73</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="objPaymentInfo"></a>
                    <span class="name">
                        <span ><b>objPaymentInfo</b></span>
                        <a href="#objPaymentInfo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    term: [12, 24, 36, 48, 60, 72, 84, 96],
    frequency: [&#x27;Weekly&#x27;, &#x27;Bi-Weekly&#x27;, &#x27;Monthly&#x27;],
    apr: 8,
    down_payment: 0,
  }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="113" class="link-to-prism">src/app/components/search/search.component.ts:113</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="page"></a>
                    <span class="name">
                        <span ><b>page</b></span>
                        <a href="#page"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="79" class="link-to-prism">src/app/components/search/search.component.ts:79</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="regExPostalCode"></a>
                    <span class="name">
                        <span ><b>regExPostalCode</b></span>
                        <a href="#regExPostalCode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>RegExp</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="89" class="link-to-prism">src/app/components/search/search.component.ts:89</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedFilter"></a>
                    <span class="name">
                        <span ><b>selectedFilter</b></span>
                        <a href="#selectedFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">src/app/components/search/search.component.ts:86</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stateHomeDelivery"></a>
                    <span class="name">
                        <span ><b>stateHomeDelivery</b></span>
                        <a href="#stateHomeDelivery"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="90" class="link-to-prism">src/app/components/search/search.component.ts:90</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="strDefaultSort"></a>
                    <span class="name">
                        <span ><b>strDefaultSort</b></span>
                        <a href="#strDefaultSort"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;default&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">src/app/components/search/search.component.ts:78</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { ChangeDetectionStrategy, ChangeDetectorRef, Component, HostListener, Inject, NgZone, OnInit, PLATFORM_ID, ViewEncapsulation } from &#x27;@angular/core&#x27;;
import { CommonModule, isPlatformBrowser, NgOptimizedImage } from &#x27;@angular/common&#x27;;
import { ActivatedRoute, Router } from &#x27;@angular/router&#x27;;
import { FormControl, FormGroup, FormsModule, ReactiveFormsModule, Validators } from &#x27;@angular/forms&#x27;;

// custom service
import { HttpService } from &#x27;../../utilities/services/http.service&#x27;;
import { LocalStorageService } from &#x27;../../utilities/services/local-storage.service&#x27;;

// primeng
import { SelectItem, ConfirmationService, MessageService } from &#x27;primeng/api&#x27;;
import { ButtonModule } from &#x27;primeng/button&#x27;;
import { DividerModule } from &#x27;primeng/divider&#x27;;
import { DropdownModule, DropdownChangeEvent } from &#x27;primeng/dropdown&#x27;;
import { InputTextModule } from &#x27;primeng/inputtext&#x27;;
import { InputSwitchChangeEvent, InputSwitchModule } from &#x27;primeng/inputswitch&#x27;;
import { ChipModule } from &#x27;primeng/chip&#x27;;
import { KeyFilterModule } from &#x27;primeng/keyfilter&#x27;;
import { SkeletonModule } from &#x27;primeng/skeleton&#x27;;
import { PaginatorModule } from &#x27;primeng/paginator&#x27;;
import { DialogModule } from &#x27;primeng/dialog&#x27;;
import { ConfirmDialogModule } from &#x27;primeng/confirmdialog&#x27;;
import { ToastModule } from &#x27;primeng/toast&#x27;;
import { TooltipModule } from &#x27;primeng/tooltip&#x27;;
import { AvatarModule } from &#x27;primeng/avatar&#x27;;
import { TabViewModule } from &#x27;primeng/tabview&#x27;;

// geo lib
import { getPreciseDistance } from &#x27;geolib&#x27;;
import { PanelModule } from &#x27;primeng/panel&#x27;;

// responsive
import { BreakpointObserver, LayoutModule } from &#x27;@angular/cdk/layout&#x27;;
import { fromEvent } from &#x27;rxjs&#x27;;
import { CSVService } from &#x27;../../utilities/services/csv.service&#x27;;

interface FilterFormData {
  _id: string,
  name: { label: string, value: string },
  type: string,
  format?: string | undefined, // check which type data user can write or enter
  error?: string, // set error message
  searchDependant?: string, // front-side set to operation in dependant element
  dependant: boolean, // check dependant on any element
  dependant_field: string, // get dependant field if dependant
  default_hide: boolean, // check option default hide or not
  temp_hide: boolean, // store option  default hide value
  button?: boolean, // apply button to fetch data as per perticuler filter option
  operation?: string, // add operator related perticular element condition
  search?: any, // for search by input in list
  temp?: any, // store temporary select value by 2 way
  select?: any, // store final selection by query
  data: any // detail about that perticular element
  collapsed: boolean, // small device collapse state
}

@Component({
  selector: &#x27;app-search&#x27;,
  standalone: true,
  imports: [CommonModule, FormsModule, ToastModule, NgOptimizedImage, TooltipModule, AvatarModule, TabViewModule, ReactiveFormsModule, ConfirmDialogModule, LayoutModule, DividerModule, InputTextModule, KeyFilterModule, ChipModule, PanelModule, DialogModule, PaginatorModule, InputSwitchModule, DropdownModule, ButtonModule, SkeletonModule],
  templateUrl: &#x27;./search.component.html&#x27;,
  styleUrl: &#x27;./search.component.scss&#x27;,
  encapsulation: ViewEncapsulation.None,
  providers: [ConfirmationService, MessageService],
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class SearchComponent implements OnInit {

  // car
  arrAllCar: any &#x3D; undefined;

  // city - postalcode
  objOuterLocation &#x3D; { count: 0, make: &#x27;Car&#x27;, condition: &#x27;New &amp; Used&#x27;, city: &#x27;&#x27; };

  // filter
  groupedSortDefault: SelectItem[] | undefined;
  dataPagination &#x3D; [15, 30, 50, 100];
  strDefaultSort &#x3D; &#x27;default&#x27;;
  page &#x3D; 0;
  limit &#x3D; 15;

  // filter
  arrFilterForm: FilterFormData[] | undefined; // FilterFormData[]
  arrFilterFormCopy: FilterFormData[] | undefined;
  currentFilterData: FilterFormData | undefined;
  selectedFilter: any;
  isFilterLoading: boolean &#x3D; false;

  regExPostalCode: RegExp &#x3D; /^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i;  // regex for postal code
  stateHomeDelivery: boolean &#x3D; false;

  // mobile filter section
  isMobileFilterDialogOpen: boolean &#x3D; false;
  isMobileScreen &#x3D; this.breakpointObserver.isMatched(&#x27;(max-width: 599px)&#x27;);

  // alert subscribe model
  isAlertSubscribeDialogOpen: boolean &#x3D; false;

  // form price &amp; list alert
  formAlertListing &#x3D; new FormGroup({
    email: new FormControl&lt;string | null&gt;(null, [Validators.required, Validators.email])
  });

  // form payment
  formPayment &#x3D; new FormGroup({
    min: new FormControl&lt;number | null&gt;(0, [Validators.required]),
    max: new FormControl&lt;number | null&gt;(null, [Validators.required]),
    frequency: new FormControl(&#x27;Bi-Weekly&#x27;),
    term: new FormControl&lt;number | null&gt;(36),
    down_payment: new FormControl&lt;number | null&gt;(0),
    apr: new FormControl&lt;number | null&gt;(4.99),
  });
  objPaymentInfo: any &#x3D; {
    term: [12, 24, 36, 48, 60, 72, 84, 96],
    frequency: [&#x27;Weekly&#x27;, &#x27;Bi-Weekly&#x27;, &#x27;Monthly&#x27;],
    apr: 8,
    down_payment: 0,
  };
  isPaymenShowInSidebar: boolean &#x3D; false;

  // handle selected filters data values on apply button or from list selection 
  arrFilterQueryString: any &#x3D; [
    { name: &#x27;Distance&#x27;, value: &#x27;national&#x27; },
    { name: &#x27;condition&#x27;, value: [&#x27;new&#x27;, &#x27;used&#x27;] },
    { name: &#x27;seller_type&#x27;, value: [&#x27;dealer&#x27;, &#x27;private_person&#x27;] }
  ];

  /**
   * Constructor for the SearchComponent class.
   * Initializes the component and sets up query parameter handling.
   *
   * @param router - Angular Router for navigation.
   * @param ngZone - NgZone service for executing work outside of the Angular zone.
   * @param route - ActivatedRoute service for accessing route parameters.
   * @param httpService - Custom HTTP service for making API calls.
   * @param cdRef - ChangeDetectorRef for manually triggering change detection.
   * @param platformId - Injection token identifying the current platform.
   * @param messageService - PrimeNG MessageService for displaying messages.
   * @param breakpointObserver - BreakpointObserver for responsive design.
   * @param localStorageService - Custom service for interacting with local storage.
   * @param confirmationService - PrimeNG ConfirmationService for displaying confirmation dialogs.
   */
  constructor(
    private readonly router: Router,
    private readonly ngZone: NgZone,
    private readonly route: ActivatedRoute,
    private readonly csvService: CSVService,
    private readonly httpService: HttpService,
    private readonly cdRef: ChangeDetectorRef,
    @Inject(PLATFORM_ID) private platformId: Object,
    private readonly messageService: MessageService,
    private readonly breakpointObserver: BreakpointObserver,
    private readonly localStorageService: LocalStorageService,
    private readonly confirmationService: ConfirmationService,
  ) {
    this.route.queryParams.subscribe(params &#x3D;&gt; {
      if (params &amp;&amp; Object.keys(params).length &gt; 0) {
        this.arrFilterQueryString &#x3D; [];
        const paramsObject &#x3D; Object.keys(params);
        paramsObject.forEach(async key &#x3D;&gt; {
          if ([&#x27;condition&#x27;, &#x27;seller_type&#x27;, &#x27;body_type&#x27;].includes(key)) {
            this.arrFilterQueryString.push({ name: key, value: params[key].split(&#x27;,&#x27;) })
          } else if (key &#x3D;&#x3D;&#x3D; &#x27;code&#x27;) {
            const code &#x3D; params[key].match(/.{1,3}/g).join(&#x27; &#x27;).toUpperCase().trim();
            // find address by postal code using google map
            const response: any &#x3D; await this.httpService.getWithOutsideURL(&#x60;https://geogratis.gc.ca/services/geolocation/en/locate?q&#x3D;${code.trim()}&#x60;);
            const newLocation &#x3D; {
              lat: response[0].geometry.coordinates[1],
              lng: response[0].geometry.coordinates[0]
            };
            this.localStorageService.setObject(&#x27;location&#x27;, newLocation);
            this.localStorageService.set(&#x27;code&#x27;, code);
            this.arrFilterQueryString.push({ name: key, value: code })
          } else {
            // prevent to store finance data
            if ([&#x27;amount&#x27;, &#x27;apr&#x27;, &#x27;term&#x27;, &#x27;dp&#x27;].includes(key)) return
            this.arrFilterQueryString.push({ name: key, value: params[key] });
          }
        });
        if (paramsObject.includes(&#x27;amount&#x27;)) {
          this.formPayment.patchValue({
            min: 0,
            max: Number(params[&#x27;amount&#x27;]),
            apr: Number(params[&#x27;apr&#x27;]),
            frequency: &#x27;Monthly&#x27;,
            term: Number(params[&#x27;term&#x27;]),
            down_payment: Number(params[&#x27;dp&#x27;])
          });
          this.isPaymenShowInSidebar &#x3D; true;
        }
        if (!paramsObject.includes(&#x27;condition&#x27;)) {
          this.arrFilterQueryString.push({ name: &#x27;condition&#x27;, value: [&#x27;new&#x27;, &#x27;used&#x27;] });
        }
        if (!paramsObject.includes(&#x27;seller_type&#x27;)) {
          this.arrFilterQueryString.push({ name: &#x27;seller_type&#x27;, value: [&#x27;dealer&#x27;, &#x27;private_person&#x27;] });
        }
      } else {
        // set query parameter for future referance
        const query &#x3D; this.localStorageService.getObject(&#x27;query&#x27;);
        if (query) {
          this.arrFilterQueryString &#x3D; JSON.parse(query)
        }
      }
    });
  }


  /**
   * Initializes the component by setting up filters, handling page refresh on back button press,
   * managing location data, and fetching car list data.
   * 
   * This method is called automatically when the component is initialized.
   * It performs the following tasks:
   * 1. Initializes filter values
   * 2. Sets up a listener for the browser&#x27;s back button to refresh the page
   * 3. Checks for existing location data and sets a default if none exists
   * 4. Fetches the car list based on current filters
   * 
   * @returns A promise that resolves when all initialization tasks are complete
   */
  async ngOnInit(): Promise&lt;void&gt; {
    // init filters 
    await this.onInitValues();

    // refresh page if user press back button for call api car list with previos query
    fromEvent(window, &#x27;popstate&#x27;).subscribe((e) &#x3D;&gt; {
      location.reload();
    });

    // check already have code then find data by filter
    const code &#x3D; this.localStorageService.get(&#x27;code&#x27;);
    if (!code) {
      this.localStorageService.setObject(&#x27;location&#x27;, {
        &quot;lat&quot;: 43.7594778,
        &quot;lng&quot;: -79.5490934
      });
    }

    // car list by filter
    await this.getDataByFilter();
  }

  /**
 * Initializes and sets up various values and configurations for the component.
 * This includes setting up sort options, loading payment data, fetching and processing filter data,
 * and applying any previously saved filter settings.
 * 
 * This method performs the following tasks:
 * 1. Sets up the default sort options for the listing.
 * 2. Loads and applies any saved payment data.
 * 3. Fetches filter data from the API and processes it.
 * 4. Applies any previously saved filter settings from the query string.
 * 5. Sets up dependencies between different filter options.
 * 6. Handles special cases for certain filter types (e.g., location, condition, seller type, make, model).
 * 
 * @async
 * @returns {Promise&lt;void&gt;} A promise that resolves when all initialization tasks are complete.
 */
  async onInitValues(): Promise&lt;void&gt; {
    // fetch make option from API
    this.groupedSortDefault &#x3D; [
      {
        label: &#x27;Default&#x27;,
        value: &#x27;default&#x27;,
      },
      {
        label: &#x27;Price: Low to High&#x27;,
        value: &#x27;price_low_to_high&#x27;,
      },
      {
        label: &#x27;Price: High to Low&#x27;,
        value: &#x27;price_high_to_low&#x27;,
      },
      {
        label: &#x27;Posted Date: New to old&#x27;,
        value: &#x27;posted_date_new_to_old&#x27;,
      },
      {
        label: &#x27;Posted Date: Old to New&#x27;,
        value: &#x27;posted_date_old_to_new&#x27;,
      },
      {
        label: &#x27;Kilometeres: Low to High&#x27;,
        value: &#x27;kilometeres_low_to_high&#x27;,
      },
      {
        label: &#x27;Kilometeres: High to Low&#x27;,
        value: &#x27;kilometeres_high_to_low&#x27;,
      },
      {
        label: &#x27;Year: New to Old&#x27;,
        value: &#x27;year_new_to_old&#x27;,
      },
      {
        label: &#x27;Year: Old to New&#x27;,
        value: &#x27;year_old_to_new&#x27;,
      },
      {
        label: &#x27;Nearest Location&#x27;,
        value: &#x27;nearest_location&#x27;,
        disabled: this.localStorageService.getObject(&#x27;location&#x27;) ? false : true
      },
    ];

    // set payment in form and finance
    const payment &#x3D; this.localStorageService.getObject(&#x27;payment&#x27;);
    if (payment) {
      this.formPayment.patchValue(payment);
      this.isPaymenShowInSidebar &#x3D; true;
    }

    // set selected filter
    this.ngZone.runOutsideAngular(async () &#x3D;&gt; {

      // get filters from api
      this.arrFilterForm &#x3D; (await this.httpService.get(&#x27;filter&#x27;) as any).data.sort((a: any, b: any) &#x3D;&gt; a.position - b.position);

      // reomve features from filter array
      this.arrFilterForm &#x3D; this.arrFilterForm?.filter((ele: any) &#x3D;&gt; ele.name.value !&#x3D;&#x3D; &#x27;features&#x27;);
      this.arrFilterForm?.forEach((element: any) &#x3D;&gt; {
        if ([&#x27;location&#x27;, &#x27;year&#x27;, &#x27;features&#x27;, &#x27;mileage&#x27;, &#x27;asking_price&#x27;].includes(element.name.value)) return
        element.data?.sort((a: any, b: any) &#x3D;&gt; a.value.localeCompare(b.value));
      });
      this.arrFilterFormCopy &#x3D; JSON.parse(JSON.stringify(this.arrFilterForm));

      // manage hide and show filter section
      this.arrFilterForm?.forEach(async (element: FilterFormData) &#x3D;&gt; {

        // small device collapse state
        element.collapsed &#x3D; false;

        // check if section is dependant then on which element it&#x27;s depended and set child depend field in parent dependent
        if (element.dependant) {
          const selectFilterIndex &#x3D; this.arrFilterForm?.findIndex((eleDependant: any) &#x3D;&gt; element.dependant_field &#x3D;&#x3D;&#x3D; eleDependant.name.value);
          this.arrFilterForm![selectFilterIndex!].searchDependant &#x3D; element.name.value;
        }

        // set default distance &amp; postal code if user added before
        if (element.type &#x3D;&#x3D;&#x3D; &#x27;multi&#x27;) {
          const eleCode &#x3D; element.data.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;Code&#x27;);
          if (eleCode) {
            const code &#x3D; this.localStorageService.get(&#x27;code&#x27;);
            if (code) {
              // set value in form filter panel
              element.select &#x3D; true;
              eleCode.select &#x3D; code;
              eleCode.temp &#x3D; code;

              // find city as per postal code from static CSV file
              const csv: any &#x3D; await this.httpService.getWithOutsideURLCSV(&#x27;assets/csv/canadacities.csv&#x27;);
              const city &#x3D; this.csvService.CSVToJSON(csv).find((city: any) &#x3D;&gt; city.postal?.includes(code?.split(&#x27; &#x27;)[0].toUpperCase())).city;
              if (city) {
                this.objOuterLocation.city &#x3D; &#x60;In ${city}&#x60;;
              } else {
                this.objOuterLocation.city &#x3D; &#x27;At Your Location&#x27;;
              }

              // if has already postal code then set temp hide true to show other options - reverse boolean condition
              element.temp_hide &#x3D; true;
            }
          }

          if (element.data.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;Distance&#x27;)) {
            // check filter query has ditance element
            const distance &#x3D; this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;distance&#x27;);
            const eleDistanceData &#x3D; element.data.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;Distance&#x27;);
            element.select &#x3D; !!eleCode.select;
            // if filter query found then set distance otherwise set default distance
            eleDistanceData.select &#x3D; distance ? distance.value : &#x27;National&#x27;; // eleDistanceData.data[1].value
            eleDistanceData.temp &#x3D; distance ? distance.value : &#x27;national&#x27;; // eleDistanceData.data[1].value
          }
        } else if (element.name.value &#x3D;&#x3D;&#x3D; &#x27;condition&#x27;) {
          const defaultCondition &#x3D; [
            {
              &quot;label&quot;: &quot;New&quot;,
              &quot;value&quot;: &quot;new&quot;,
              &quot;checked&quot;: true
            },
            {
              &quot;label&quot;: &quot;Used&quot;,
              &quot;value&quot;: &quot;used&quot;,
              &quot;checked&quot;: true
            }
          ];
          const condition &#x3D; this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;condition&#x27;)?.value;
          // add selected option as chip in side panel
          element.select &#x3D; condition?.map((ele: any) &#x3D;&gt; { return defaultCondition.find((element: any) &#x3D;&gt; element.value &#x3D;&#x3D;&#x3D; ele) }) || defaultCondition;
          // mark checked in popup
          element.data.forEach((ele: any) &#x3D;&gt; {
            if (element.select.find((slt: any) &#x3D;&gt; slt.value &#x3D;&#x3D;&#x3D; ele.value)) {
              ele.checked &#x3D; true;
            }
          });
          // set temp hide so other option visible after make and model selected
          element.temp_hide &#x3D; true;
        } else if (element.name.value &#x3D;&#x3D;&#x3D; &#x27;seller_type&#x27;) {
          const defaultSellerType &#x3D; [
            {
              &quot;label&quot;: &quot;Dealer&quot;,
              &quot;value&quot;: &quot;dealer&quot;,
              &quot;checked&quot;: true
            },
            {
              &quot;label&quot;: &quot;Private Person&quot;,
              &quot;value&quot;: &quot;private_person&quot;,
              &quot;checked&quot;: true
            }
          ];
          const seller_type &#x3D; this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;seller_type&#x27;)?.value;
          // add selected option as chip in side panel
          element.select &#x3D; seller_type?.map((ele: any) &#x3D;&gt; { return defaultSellerType.find((element: any) &#x3D;&gt; element.value &#x3D;&#x3D;&#x3D; ele) }) || defaultSellerType;
          // mark checked in popup
          element.data.forEach((ele: any) &#x3D;&gt; {
            if (element.select.find((slt: any) &#x3D;&gt; slt.value &#x3D;&#x3D;&#x3D; ele.value)) {
              ele.checked &#x3D; true;
            }
          });
          // set temp hide so other option visible after make and model selected
          element.temp_hide &#x3D; true;
        } else if (element.name.value &#x3D;&#x3D;&#x3D; &#x27;make&#x27;) {
          // check make available in query string array
          const make &#x3D; this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;make&#x27;);
          if (make) {
            element.select &#x3D; make.value;
            element.temp &#x3D; make.value;
            element.temp_hide &#x3D; true;

            // make model enable
            const model &#x3D; this.arrFilterForm!.filter((ele: any) &#x3D;&gt; ele.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27;);
            model[0].default_hide &#x3D; false;

            // find related models to make and set
            const searchDependantData &#x3D; this.arrFilterFormCopy!.findIndex((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27;);
            const dependantData &#x3D; this.arrFilterFormCopy![searchDependantData].data.filter((element: any) &#x3D;&gt; element.join &#x3D;&#x3D;&#x3D; make.value);
            this.arrFilterForm![searchDependantData].data &#x3D; dependantData;
          }
        } else if (element.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27;) {
          // check model available in query string array
          const model &#x3D; this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;model&#x27;);
          if (model) {
            element.select &#x3D; model.value;
            element.temp &#x3D; model.value;
            this.arrFilterForm?.forEach((element: any) &#x3D;&gt; element.default_hide &#x3D; false)
          }
        } else if (element.name.value &#x3D;&#x3D;&#x3D; &#x27;home_services&#x27;) {
          // unhide from side panel
          element.temp_hide &#x3D; true;

          // check home service available in saved query
          const home_services &#x3D; this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;home_services&#x27;);
          if (home_services) {
            home_services.value.forEach((ele: any) &#x3D;&gt; {
              // set in side panel
              if (ele.value &#x3D;&#x3D;&#x3D; &#x27;home_delivery&#x27;) {
                this.stateHomeDelivery &#x3D; true;
                // this.onChangeHomeDelivery({ checked: true, originalEvent: {} as any })
              }
              const home_service &#x3D; element.data.find((element: any) &#x3D;&gt; element.value &#x3D;&#x3D;&#x3D; ele.value);
              home_service!.checked &#x3D; true;
              if (element.select) {
                element.select.push(home_service);
              } else {
                element.select &#x3D; [home_service];
              }
            })
          }
        } else {
          // check filter available in saved query
          const filter &#x3D; this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; element.name.value);
          if (filter &amp;&amp; element.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27;) {
            filter.value.forEach((item: any) &#x3D;&gt; {
              const home_service &#x3D; element.data.find((element: any) &#x3D;&gt; element.value &#x3D;&#x3D;&#x3D; item);
              home_service!.checked &#x3D; true;
              if (element.select) {
                element.select.push(home_service);
              } else {
                element.select &#x3D; [home_service];
              }
            })
          }
          if (filter &amp;&amp; element.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27; &amp;&amp; element.name.value &#x3D;&#x3D;&#x3D; &#x27;year&#x27;) {
            // set selected year in side panel
            element.select &#x3D; true;
            filter.value.forEach((item: any) &#x3D;&gt; {
              const findFilterType &#x3D; element.data.find((element: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; item.name);
              if (findFilterType) {
                findFilterType.temp &#x3D; item.value;
                findFilterType.select &#x3D; item.value;
              }
            });
          }
          if (filter &amp;&amp; element.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; &amp;&amp; element.name.value &#x3D;&#x3D;&#x3D; &#x27;mileage&#x27;) {
            // set selected mileage in side panel
            element.select &#x3D; true;
            filter.value.forEach((item: any) &#x3D;&gt; {
              const findFilterType &#x3D; element.data.find((element: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; item.name);
              if (findFilterType) {
                findFilterType.temp &#x3D; item.value;
                findFilterType.select &#x3D; item.value + &#x27; km&#x27;;
              }
            });
          }
          if (filter &amp;&amp; element.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; &amp;&amp; element.name.value &#x3D;&#x3D;&#x3D; &#x27;asking_price&#x27;) {
            // set selected price in side panel
            element.select &#x3D; true;
            filter.value.forEach((item: any) &#x3D;&gt; {
              const findFilterType &#x3D; element.data.find((element: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; item.name);
              if (findFilterType) {
                findFilterType.temp &#x3D; item.value;
                findFilterType.select &#x3D; &#x27;$&#x27; + item.value;
              }
            });
          }

          element.temp_hide &#x3D; element.default_hide ?? false
        }
      });
    });
  }

  /**
   * Calculates the distance between the user&#x27;s location and each car&#x27;s location.
   * This function updates the distance property of each car in the arrAllCar.data array.
   * It only works if the user has given location permission and if running in a browser environment.
   * 
   * The function uses the getPreciseDistance function to calculate the distance,
   * which is then rounded up to the nearest kilometer and appended with &#x27;KM&#x27;.
   * 
   * @remarks
   * This function doesn&#x27;t take any parameters as it uses class properties and methods.
   * It relies on the localStorageService to get the user&#x27;s location and isPlatformBrowser for environment check.
   * 
   * @returns {void} This function doesn&#x27;t return a value, it updates the arrAllCar.data array in place.
   */
  calculateDistance(): void {
    // check user give location permission
    const location &#x3D; this.localStorageService.getObject(&#x27;location&#x27;);
    if (location) {
      // set distance
      if (this.arrAllCar?.data &amp;&amp; this.arrAllCar.data.length &gt; 0) {
        // check it&#x27;s browser
        if (isPlatformBrowser(this.platformId)) {
          this.arrAllCar.data.map(async (element: any) &#x3D;&gt; {
            // distance by library
            element.distance &#x3D; Math.ceil(getPreciseDistance(
              { latitude: location.lat, longitude: location.lng },
              {
                latitude: element.user.length &gt; 0 ? element.user[0].location.coordinates[1] : element.store.location.coordinates[1],
                longitude: element.user.length &gt; 0 ? element.user[0].location.coordinates[0] : element.store.location.coordinates[0]
              }
            ) / 1000) + &#x27; KM&#x27;;
          })
        }
      }
    }
  }


  /**
   * Checks if a &#x27;make&#x27; filter query exists in the current filter query string array.
   * 
   * This function searches the &#x60;arrFilterQueryString&#x60; array for an element with the name &#x27;make&#x27;.
   * It&#x27;s typically used to determine if a car make has been selected in the filter options.
   * 
   * @returns {boolean} Returns true if a &#x27;make&#x27; filter query exists, false otherwise.
   */
  checkFilterQueryMakeExist(): boolean {
    return !!this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;make&#x27;);
  }

  /**
   * Checks if both &#x27;make&#x27; and &#x27;model&#x27; filter queries exist in the current filter query string array.
   * 
   * This function searches the &#x60;arrFilterQueryString&#x60; array for elements with the names &#x27;make&#x27; and &#x27;model&#x27;.
   * It&#x27;s typically used to determine if both a car make and model have been selected in the filter options.
   * 
   * @returns {boolean} Returns true if both &#x27;make&#x27; and &#x27;model&#x27; filter queries exist, false otherwise.
   */
  checkFilterQueryMakeModelExist(): boolean {
    return !!this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;make&#x27;) &amp;&amp;
      !!this.arrFilterQueryString.find((ele: any) &#x3D;&gt; ele.name &#x3D;&#x3D;&#x3D; &#x27;model&#x27;);
  }

  /**
   * Handles the change event of the sort option dropdown.
   * This function sorts the array of cars (this.arrAllCar.data) based on the selected sort option.
   * 
   * @param event - The DropdownChangeEvent object containing information about the selected sort option.
   * @param event.value - The value of the selected sort option. Possible values include:
   *                      &#x27;price_low_to_high&#x27;, &#x27;price_high_to_low&#x27;, &#x27;kilometeres_low_to_high&#x27;,
   *                      &#x27;kilometeres_high_to_low&#x27;, &#x27;year_old_to_new&#x27;, &#x27;year_new_to_old&#x27;,
   *                      &#x27;posted_date_new_to_old&#x27;, &#x27;posted_date_old_to_new&#x27;, &#x27;nearest_location&#x27;, &#x27;default&#x27;.
   * 
   * @returns A Promise that resolves when the sorting operation is complete.
   *          If the &#x27;default&#x27; option is selected, it triggers a new data fetch using getDataByFilter().
   */
  async onChangeSortOption(event: DropdownChangeEvent): Promise&lt;void&gt; {
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;price_low_to_high&#x27;) {
      this.arrAllCar.data &#x3D; this.arrAllCar.data.sort((a: any, b: any) &#x3D;&gt; Number(a.asking_price) - Number(b.asking_price));
    }
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;price_high_to_low&#x27;) {
      this.arrAllCar.data &#x3D; this.arrAllCar.data.sort((a: any, b: any) &#x3D;&gt; Number(b.asking_price) - Number(a.asking_price));
    }
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;kilometeres_low_to_high&#x27;) {
      this.arrAllCar.data &#x3D; this.arrAllCar.data.sort((a: any, b: any) &#x3D;&gt; Number(a.odometer) - Number(b.odometer));
    }
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;kilometeres_high_to_low&#x27;) {
      this.arrAllCar.data &#x3D; this.arrAllCar.data.sort((a: any, b: any) &#x3D;&gt; Number(b.odometer) - Number(a.odometer));
    }
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;year_old_to_new&#x27;) {
      this.arrAllCar.data &#x3D; this.arrAllCar.data.sort((a: any, b: any) &#x3D;&gt; Number(a.year) - Number(b.year));
    }
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;year_new_to_old&#x27;) {
      this.arrAllCar.data &#x3D; this.arrAllCar.data.sort((a: any, b: any) &#x3D;&gt; Number(b.year) - Number(a.year));
    }
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;posted_date_new_to_old&#x27;) {
      this.arrAllCar.data &#x3D; this.arrAllCar.data.sort((a: any, b: any) &#x3D;&gt; new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());
    }
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;posted_date_old_to_new&#x27;) {
      this.arrAllCar.data &#x3D; this.arrAllCar.data.sort((b: any, a: any) &#x3D;&gt; new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());
    }
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;nearest_location&#x27;) {
      const location &#x3D; this.localStorageService.getObject(&#x27;location&#x27;);
      if (location) {
        this.arrAllCar.data.forEach((element: any) &#x3D;&gt; {
          element.nearBy &#x3D; this.getDistanceFromLatLonInKm(location.lat, location.lng, element.store.location.lat, element.store.location.lng)
        });
        this.arrAllCar.data &#x3D; this.arrAllCar.data.sort((a: any, b: any) &#x3D;&gt; Number(a.nearBy) - Number(b.nearBy));
      }
    }
    if (event.value &#x3D;&#x3D;&#x3D; &#x27;default&#x27;) {
      await this.getDataByFilter();
    }
  }

  /**
   * Calculates the distance between two points on Earth given their latitude and longitude coordinates.
   * This function uses the Haversine formula to compute the great-circle distance between two points on a sphere.
   *
   * @param userLat - The latitude of the user&#x27;s location in decimal degrees.
   * @param userLong - The longitude of the user&#x27;s location in decimal degrees.
   * @param dealerLat - The latitude of the dealer&#x27;s location in decimal degrees.
   * @param dealerLng - The longitude of the dealer&#x27;s location in decimal degrees.
   * @returns The distance between the two points in kilometers.
   */
  getDistanceFromLatLonInKm(userLat: number, userLong: number, dealerLat: number, dealerLng: number): number {
    const earthRadius: number &#x3D; 6371; // Radius of the earth in km

    const dLat &#x3D; Math.abs(userLat - dealerLat) * Math.PI / 180.0;
    const dLon &#x3D; Math.abs(userLong - dealerLng) * Math.PI / 180.0;

    // convert to radians
    const lat &#x3D; (userLat) * Math.PI / 180.0;
    const clat &#x3D; (dealerLat) * Math.PI / 180.0;

    // apply formula
    const a &#x3D; Math.pow(Math.sin(dLat / 2), 2) +
      Math.pow(Math.sin(dLon / 2), 2) *
      Math.cos(lat) *
      Math.cos(clat);

    const c &#x3D; 2 * Math.asin(Math.sqrt(a));
    return earthRadius * c; // Distance in km
  };

  /**
   * Validates a Canadian postal code and updates the error state of the associated element.
   * 
   * This function uses a regular expression to check if the given string is a valid
   * Canadian postal code. If it is valid, any existing error on the element is cleared.
   * If it&#x27;s invalid, an error message is set on the element.
   * 
   * @param postal - The postal code string to be validated.
   * @param element - The form element or object associated with the postal code input.
   *                  This object should have an &#x27;error&#x27; property that can be set or cleared.
   * 
   * @returns void This function doesn&#x27;t return a value, it updates the &#x27;error&#x27; property of the element.
   */
  checkPostalCode(postal: string, element: any): void {
      const regex &#x3D; new RegExp(/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ][ ]?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i);
      const isPostalCode &#x3D; regex.test(postal);
      element.error &#x3D; isPostalCode ? undefined : &quot;Enter Valid Postal Code&quot;;
  }

  /**
   * Converts a string to title case, replacing underscores with spaces.
   * If a filter is provided, it attempts to find a matching label from the filter data.
   *
   * @param key - The string to be capitalized or the value to find in the filter data.
   * @param filter - Optional. The name of the filter to search for a matching label.
   * @returns The capitalized string, the matching label from the filter data, or undefined if no match is found or key is falsy.
   */
  replaceStringToCapitalize(key: any, filter?: any): string | undefined {
    // get uppercase letter by label
    if (filter) {
      const filterExist &#x3D; this.arrFilterForm?.find((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; filter);
      if (filterExist) {
        const labelFilter &#x3D; filterExist.data.find((element: any) &#x3D;&gt; element.value &#x3D;&#x3D;&#x3D; key);
        return labelFilter.label
      }
    }

    if (!key) return
    return key.toLowerCase().replace(/_/g, &#x27; &#x27;).replace(/(?: |\b)(\w)/g, (key: string, p1: string) &#x3D;&gt; {
      return key.toUpperCase();
    })
  }

  /**
   * Sorts an array of elements based on their &#x27;label&#x27; property in ascending order.
   * 
   * @param element - An array of objects, each containing a &#x27;label&#x27; property to be sorted.
   * @returns A new array with the same elements sorted alphabetically by their &#x27;label&#x27; property.
   */
  sortPopupElementData(element: Array&lt;any&gt;): Array&lt;any&gt; {
    return element.sort((a: any, b: any) &#x3D;&gt; (a.label &gt; b.label) ? 1 : ((a.label &gt; b.label) ? -1 : 0));
  }

  /**
   * Searches for a specific car service within an array of services.
   * 
   * @param services - An array of service objects. Each object is expected to have an &#x27;alias&#x27; property.
   * @param service - The alias of the service to search for.
   * @returns The service object if found, or false if the service is not found or if the services array is empty or undefined.
   */
  findCarServices(services: any, service: string) {
    return services &amp;&amp; services.length &gt; 0 ? services.find((srvc: any) &#x3D;&gt; srvc.alias &#x3D;&#x3D;&#x3D; service) : false;
  }

  /**
   * Closes a filter popup by its ID and removes the blur effect from the filter section.
   * 
   * This function hides the specified popup by adding a &#x27;hidden&#x27; class to it,
   * and removes the blur effect from the filter section by removing the
   * &#x27;body-filter-popup&#x27; class.
   *
   * @param id - The ID of the popup element to be closed.
   * @returns void
   */
  closeFilterPopUpByID(id: string): void {
    // hide popup by add hidden class from element of popup
    const currentPopup &#x3D; document.getElementById(id);
    currentPopup?.classList.add(&#x27;hidden&#x27;);
    // remove blur on filter section
    const eleFilterSection &#x3D; document.getElementById(&#x27;filter-section&#x27;);
    eleFilterSection!.classList.remove(&#x27;body-filter-popup&#x27;);
  }

  /**
 * Loads and processes filter data based on user selection or application.
 * This function handles various types of filters (textbox, dropdown, multi-select, checkbox, etc.),
 * updates the filter query string, manages dependent filters, and triggers data fetching based on the new filter state.
 *
 * @param filter - The filter form data object containing information about the selected filter.
 * @param select - Optional. The selected value for textbox-list type filters.
 * @returns A Promise that resolves when all filter processing and data fetching is complete.
 */
  async loadFilterDataByApplyOrList(filter: FilterFormData, select?: string) {

    this.selectedFilter &#x3D; filter;
    if (filter.type !&#x3D;&#x3D; &#x27;multi&#x27;) {
      // check it&#x27;s already in search list or not, if then remove
      const findIsExist &#x3D; this.arrFilterQueryString.findIndex((element: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; filter.name.value);
      if (findIsExist &gt; -1) {
        this.arrFilterQueryString.splice(findIsExist, 1);
      }
    }

    // textbox or dropdown
    if (filter.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; || filter.type &#x3D;&#x3D; &#x27;dropdown&#x27;) {
      if (filter.operation &amp;&amp; filter.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; &amp;&amp; (filter.data[0].temp &amp;&amp; filter.data[1].temp)) {
        if (filter.operation &#x3D;&#x3D;&#x3D; &#x27;maximum&#x27;) {
          if (Number(filter.data[0].temp) &gt; Number(filter.data[1].temp)) {
            filter.error &#x3D; &#x27;Min value should be less than max value&#x27;;
            return
          }
          filter.error &#x3D; undefined;
        }
        if (filter.operation &#x3D;&#x3D;&#x3D; &#x27;minimum&#x27;) {
          if (Number(filter.data[0].temp) &lt; Number(filter.data[1].temp)) {
            filter.error &#x3D; &#x27;Min value should be higher than max value&#x27;;
            return
          }
          filter.error &#x3D; undefined;
        }
      }
      filter.data.forEach((element: any) &#x3D;&gt; {
        if (element.temp) {
          const findCondition &#x3D; this.arrFilterQueryString.findIndex((element: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; filter.name.value);
          if (findCondition &gt; -1) {
            this.arrFilterQueryString[findCondition].value.push({ name: element.name, operation: !!filter.operation, value: element.temp })
          } else {
            this.arrFilterQueryString.push({ name: filter.name.value, value: [{ name: element.name, operation: !!filter.operation, value: element.temp }] })
          }
          filter.select &#x3D; true; // to show current filter chips in side menu
          const suffix &#x3D; filter.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; &amp;&amp; filter.name.value &#x3D;&#x3D;&#x3D; &#x27;mileage&#x27; ? &#x60;${element.temp} km&#x60; :
            filter.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; &amp;&amp; filter.name.value &#x3D;&#x3D;&#x3D; &#x27;asking_price&#x27; ? &#x60;$${element.temp}&#x60; : &#x27;&#x27;;
          element.select &#x3D; filter.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; ? suffix : element.temp; // set final value to elements to show in chips
        } else {
          element.select &#x3D; undefined;
          element.temp &#x3D; undefined;
        }
      });
    }
    // multi
    if (filter.type &#x3D;&#x3D;&#x3D; &#x27;multi&#x27;) {
      filter.data.forEach(async (element: any) &#x3D;&gt; {
        // check it&#x27;s already in search list or not, if then remove
        const findIsExist &#x3D; this.arrFilterQueryString.findIndex((ele: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; ele.name);
        if (findIsExist &gt; -1) {
          this.arrFilterQueryString.splice(findIsExist, 1);
        }

        if (element.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
          // check element is code textbox
          if (element.name &#x3D;&#x3D;&#x3D; &#x27;Code&#x27;) {
            const strCode &#x3D; element.temp.indexOf(&#x27; &#x27;) &gt;&#x3D; 0 ? element.temp.toUpperCase() : element.temp.match(/.{1,3}/g).join(&#x27; &#x27;).toUpperCase();
            const code &#x3D; this.localStorageService.get(&#x27;code&#x27;);
            if (code) {
              if (code !&#x3D;&#x3D; strCode.toUpperCase()) {
                // canadian site
                const response: any &#x3D; await this.httpService.getWithOutsideURL(&#x60;https://geogratis.gc.ca/services/geolocation/en/locate?q&#x3D;${strCode.toUpperCase().trim()}&#x60;);
                const newLocation &#x3D; {
                  lat: response[0].geometry.coordinates[1],
                  lng: response[0].geometry.coordinates[0]
                };
                this.localStorageService.setObject(&#x27;location&#x27;, newLocation);
                this.localStorageService.set(&#x27;code&#x27;, strCode.toUpperCase());
              }
            } else {
              const response: any &#x3D; await this.httpService.getWithOutsideURL(&#x60;https://geogratis.gc.ca/services/geolocation/en/locate?q&#x3D;${strCode.toUpperCase().trim()}&#x60;);
              const newLocation &#x3D; {
                lat: response[0].geometry.coordinates[1],
                lng: response[0].geometry.coordinates[0]
              };
              this.localStorageService.setObject(&#x27;location&#x27;, newLocation);
              this.localStorageService.set(&#x27;code&#x27;, strCode.toUpperCase());
            }
            this.arrFilterQueryString.push({ name: element.name, oprator: element.operator, value: element.temp });
          }
        } else {
          this.arrFilterQueryString.push({ name: element.name, value: element.temp });
        }
        filter.select &#x3D; true; // to show current filter chips in side menu 
        element.select &#x3D; element.temp; // set final value to elements to show in chips
      });
    }

    // checkbox
    if ([&#x27;checkbox&#x27;, &#x27;multi-select&#x27;, &#x27;multi-choice&#x27;].includes(filter.type)) {
      const tempChecked: any &#x3D; [];
      const resultSidebarChip: any &#x3D; [];
      // take temp data
      filter.data.forEach((element: any) &#x3D;&gt; {
        // modify as per status
        if (element.checked) {
          tempChecked.push(filter.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27; ? element.value : { value: element.value });
          resultSidebarChip.push(element);
        } else if (&#x27;checked&#x27; in element) {
          const findIndex &#x3D; tempChecked.findIndex((x: any) &#x3D;&gt; x &#x3D;&#x3D; element.value);
          if (findIndex &gt; -1) {
            tempChecked.temp.splice(findIndex, 1);
          }
        }
      });

      // arrange for final set
      this.arrFilterQueryString.push({ name: filter.name.value, value: tempChecked });
      filter.select &#x3D; resultSidebarChip; // set final value to elements to show in chips

      // manage home delivery both state 
      if (filter.type &#x3D;&#x3D;&#x3D; &#x27;multi-choice&#x27;) {
        if (tempChecked.find((x: any) &#x3D;&gt; x.value &#x3D;&#x3D;&#x3D; &#x27;home_delivery&#x27;)) {
          this.stateHomeDelivery &#x3D; true;
        } else {
          this.stateHomeDelivery &#x3D; false;
        }
      }
    }

    // textbox-list
    if (filter.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27;) {

      // check filter is make - if then delete model from query if model exist
      if (filter.name.value &#x3D;&#x3D;&#x3D; &#x27;make&#x27;) {
        // make default filter with reset
        this.arrFilterForm?.forEach((element: any) &#x3D;&gt; {
          if ([&#x27;location&#x27;, &#x27;distance&#x27;, &#x27;condition&#x27;, &#x27;seller_type&#x27;, &#x27;home_services&#x27;, &#x27;make&#x27;].includes(element.name.value.toLowerCase())) return
          // find model index and clear from query
          if (element.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27;) {
            const filterModelIndex &#x3D; this.arrFilterQueryString.findIndex((fltr: any) &#x3D;&gt; fltr.name &#x3D;&#x3D;&#x3D; &#x27;model&#x27;);
            if (filterModelIndex &gt; -1) {
              // remove filter from query and sidebar
              this.arrFilterQueryString.splice(filterModelIndex, 1);
              if (Array.isArray(element.select)) {
                element.select.forEach((data: any) &#x3D;&gt; {
                  data.checked &#x3D; false;
                });
              }
              element.select &#x3D; undefined;
            }
          }
          if (element.name.value &#x3D;&#x3D;&#x3D; &#x27;trim&#x27;) {
            const filterTrimIndex &#x3D; this.arrFilterQueryString.findIndex((fltr: any) &#x3D;&gt; fltr.name &#x3D;&#x3D;&#x3D; &#x27;trim&#x27;);
            if (filterTrimIndex &gt; -1) {
              // remove filter from query and sidebar
              this.arrFilterQueryString.splice(filterTrimIndex, 1);
              if (Array.isArray(element.select)) {
                element.select.forEach((data: any) &#x3D;&gt; {
                  data.checked &#x3D; false;
                });
              }
              element.select &#x3D; undefined;
            }
          }
        })
      }

      // check search dependant
      if (filter.searchDependant) {
        const searchDependantData &#x3D; this.arrFilterFormCopy!.findIndex((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; filter.searchDependant);
        const dependantData &#x3D; this.arrFilterFormCopy![searchDependantData].data.filter((element: any) &#x3D;&gt; element.join &#x3D;&#x3D;&#x3D; select);
        this.arrFilterForm![searchDependantData].data &#x3D; dependantData;
      }

      filter.select &#x3D; select; // set final value to elements to show in chips
      this.arrFilterQueryString.push({ name: filter.name.value, value: select })
    }

    // get data by filter
    await this.getDataByFilter();

    // remove query string if exist
    if (this.router.url.includes(&#x27;?&#x27;)) {
      const url: string &#x3D; this.router.url.substring(0, this.router.url.indexOf(&quot;?&quot;));
      this.router.navigateByUrl(url);
    }

    // manage hide &amp; show filter - set temp hide true so meet condition all true and make selectable other filters
    if (!filter.temp_hide) {
      const selectFilterIndex &#x3D; this.arrFilterForm?.findIndex((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; filter.name.value);
      this.arrFilterForm![selectFilterIndex!].temp_hide &#x3D; true;
    }

    this.hideAllPopupFilter(&#x27;any&#x27;);
    this.currentPopUpID &#x3D; undefined;
  }

  /**
 * Fetches and processes car data based on applied filters.
 * 
 * This asynchronous function performs the following tasks:
 * 1. Prepares the filter query based on the current filter state.
 * 2. Retrieves car data either from local storage or through an API call.
 * 3. Updates the filter counts and visibility based on the retrieved data.
 * 4. Calculates distances and payments for the retrieved cars.
 * 5. Applies any default sorting if specified.
 * 
 * The function uses NgZone to run outside Angular&#x27;s change detection to improve performance.
 * It also manages the loading state and triggers change detection after processing.
 * 
 * @returns {Promise&lt;void&gt;} A promise that resolves when all data fetching and processing is complete.
 */
  async getDataByFilter() {
    // set filter in query
    const objRequest: any &#x3D; {};
    this.arrFilterQueryString.forEach((query: any) &#x3D;&gt; {
      objRequest[&#x60;${query.name.toLowerCase()}&#x60;] &#x3D; query.value;
    });

    // add default distance if it&#x27;s not exist
    if (!objRequest.distance) {
      objRequest.distance &#x3D; &#x27;national&#x27;;
    }

    if (objRequest.distance &#x3D;&#x3D;&#x3D; &#x27;national&#x27;) {
      objRequest.distance &#x3D; &#x27;100000&#x27;
    }

    // load skeleton
    this.arrAllCar &#x3D; undefined;

    // loading filtr
    this.isFilterLoading &#x3D; true;

    // load outside zone js to make app stable
    this.ngZone.runOutsideAngular(async () &#x3D;&gt; {

      if (this.localStorageService.get(&#x27;page&#x27;)) {
        this.page &#x3D; Number(this.localStorageService.get(&#x27;page&#x27;));
        this.limit &#x3D; Number(this.localStorageService.get(&#x27;limit&#x27;));

        // remove unnecessary page limit to maintain previous state to manage back records
        this.localStorageService.remove(&#x27;page&#x27;);
        this.localStorageService.remove(&#x27;limit&#x27;);

        // check car is available
        const car &#x3D; this.localStorageService.getObject(&#x27;car&#x27;);
        if (car) {
          this.arrAllCar &#x3D; car;
          this.arrFilterForm &#x3D; this.localStorageService.getObject(&#x27;filter&#x27;);
          this.localStorageService.remove(&#x27;car&#x27;);
          this.localStorageService.remove(&#x27;filter&#x27;);
        } else {
          location.reload();
        }
      } else {
        // find car from api by filters
        this.arrAllCar &#x3D; await this.httpService.post(&#x60;car/client/filter?page&#x3D;${this.page}&amp;list&#x3D;${this.limit}&#x60;, { ...this.localStorageService.getObject(&#x27;location&#x27;), ...objRequest })
      }

      // set total found result
      this.objOuterLocation.count &#x3D; this.arrAllCar.total;

      // set query parameter for future referance
      const query &#x3D; this.localStorageService.getObject(&#x27;query&#x27;);
      // if selected another filter then only change query list in saved preferance
      if (this.selectedFilter) {
        if (query) {
          this.localStorageService.remove(&#x27;query&#x27;);
        }
        // save updated filter from query array li storage
        this.localStorageService.setObject(&#x27;query&#x27;, JSON.stringify(this.arrFilterQueryString));
      }

      // set calculation for count
      this.arrAllCar.filters.forEach((car: any) &#x3D;&gt; {

        // set dynamic year
        if (car.name &#x3D;&#x3D;&#x3D; &#x27;year&#x27;) {
          const filterYear &#x3D; this.arrFilterForm?.find((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; car.name);
          filterYear?.data.forEach((element: any) &#x3D;&gt; {
            element.data &#x3D; car.count.map((ele: any) &#x3D;&gt; { return { label: ele, value: ele } });
          });
          return
        }

        // if not selected filter then return when filter is model or trim
        if (!query &amp;&amp; !this.selectedFilter &amp;&amp; [&#x27;model&#x27;, &#x27;trim&#x27;].includes(car.name)) return

        // check current filter is same then return we not make change in current filter
        if (this.selectedFilter &amp;&amp; car.name &#x3D;&#x3D;&#x3D; this.selectedFilter.name.value) return

        if (![&#x27;condition&#x27;, &#x27;seller_type&#x27;].includes(car.name)) {
          // check filter already included in query
          const filterExist &#x3D; this.arrFilterQueryString.find((element: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; car.name);
          if (filterExist) {
            if (car.count.length !&#x3D;&#x3D; filterExist.value.length &amp;&amp; ![&#x27;make&#x27;, &#x27;model&#x27;].includes(filterExist.name)) {
              const filterGet &#x3D; car.count.map((ele: any) &#x3D;&gt; { return ele._id });
              const missingElements &#x3D; filterExist.value.filter((element: any) &#x3D;&gt; !filterGet.includes(element));
              missingElements.forEach((ele: any) &#x3D;&gt; {
                const findMissingFilter &#x3D; this.arrFilterForm?.find((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; car.name);
                const findFilterCount &#x3D; findMissingFilter?.data.find((element: any) &#x3D;&gt; element.value &#x3D;&#x3D; ele);
                findFilterCount.count &#x3D; 0;
                findFilterCount.include &#x3D; true;
              });
            }
            const filterPrevious &#x3D; this.arrFilterForm?.find((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; car.name);
            if (filterPrevious) {
              filterPrevious.data.forEach((flt: any) &#x3D;&gt; {
                const filterCount &#x3D; car.count.find((ele: any) &#x3D;&gt; ele._id &#x3D;&#x3D;&#x3D; flt.value);
                if (filterCount) {
                  flt.count &#x3D; filterCount.count;
                  flt.include &#x3D; false;
                } else {
                  flt.count &#x3D; 0;
                }
              });
            }
            return
          }
        }

        const filter &#x3D; this.arrFilterForm?.find((filter: any) &#x3D;&gt; filter.name.value &#x3D;&#x3D;&#x3D; car.name);
        if (filter &amp;&amp; (filter.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27; || filter.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27;)) {
          if (filter.data.length &#x3D;&#x3D;&#x3D; 0) {
            const filterCopy &#x3D; this.arrFilterFormCopy?.find((filter: any) &#x3D;&gt; filter.name.value &#x3D;&#x3D;&#x3D; car.name);
            filter.data &#x3D; filterCopy?.data;
          }
          filter.data.forEach((multi: any) &#x3D;&gt; {
            const dataCount &#x3D; car.count.find((flt: any) &#x3D;&gt; flt._id &#x3D;&#x3D;&#x3D; multi.value);
            if (dataCount) {
              multi.count &#x3D; dataCount.count;
            } else {
              multi.count &#x3D; 0;
              if (multi.include) {
                multi.include &#x3D; false;
              }
            }
          });
        }
      });

      // changed array calculate distance
      this.calculateDistance();

      // calculate payment
      this.calculatePayment();

      // stop loading in popup
      this.isFilterLoading &#x3D; false;

      // check there is sort oprtation available or not
      if (this.strDefaultSort !&#x3D;&#x3D; &#x27;default&#x27;) {
        // change sort option default
        this.onChangeSortOption({ value: this.strDefaultSort, originalEvent: null as any })
      }

      // apply change in UI
      this.cdRef.detectChanges();
    });
  }

  /**
 * Clears all applied filters and resets the filter form to its default state.
 * 
 * This function performs the following tasks:
 * 1. Resets the selected filter value.
 * 2. Sets the default query string for distance, condition, and seller type.
 * 3. Updates the local storage with the new query.
 * 4. Resets all filter form data, except for location, condition, and seller type.
 * 5. Resets pagination to default values.
 * 6. Removes payment calculation if it was previously shown.
 * 7. Fetches new data based on the default filters.
 * 
 * @returns {void} This function doesn&#x27;t return a value.
 */
  onClearFilters(): void {
    // reset selected filter value
    this.selectedFilter &#x3D; undefined;

    // set default query 
    this.arrFilterQueryString &#x3D; [
      { name: &#x27;Distance&#x27;, value: &#x27;national&#x27; },
      { name: &#x27;condition&#x27;, value: [&#x27;new&#x27;, &#x27;used&#x27;] },
      { name: &#x27;seller_type&#x27;, value: [&#x27;dealer&#x27;, &#x27;private_person&#x27;] },
    ];

    // set query parameter for future referance
    const query &#x3D; this.localStorageService.getObject(&#x27;query&#x27;);
    if (query) {
      this.localStorageService.remove(&#x27;query&#x27;);
    }
    // save updated filter from query array li storage
    this.localStorageService.setObject(&#x27;query&#x27;, JSON.stringify(this.arrFilterQueryString));

    // reset filter, all data to 0
    this.arrFilterForm!.forEach((filter: any) &#x3D;&gt; {
      if ([&#x27;location&#x27;, &#x27;condition&#x27;, &#x27;seller_type&#x27;].includes(filter.name.value)) return
      filter.select &#x3D; undefined;
      filter.temp &#x3D; undefined;
      if ([&#x27;checkbox&#x27;, &#x27;text-box&#x27;, &#x27;textbox-list&#x27;, &#x27;multi-select&#x27;].includes(filter.type)) {
        filter.data.forEach(async (data: any) &#x3D;&gt; {
          data.checked &#x3D; false;
        });
      }
    });

    // reset paginiation
    this.page &#x3D; 0;
    this.limit &#x3D; 15;

    // remove payment calculation if available
    if (this.isPaymenShowInSidebar) {
      this.isPaymenShowInSidebar &#x3D; false;
      this.formPayment.reset({
        min: null,
        max: null,
        down_payment: 0,
        frequency: &#x27;Bi-Weekly&#x27;,
        term: 36,
        apr: 9
      });

      // remove payment storage
      this.localStorageService.remove(&#x27;payment&#x27;);
    }

    // get data by default filter
    this.getDataByFilter();
  }

  /**
   * Redirects the user to the car details page for a specific car.
   * 
   * This function saves the current page state (including pagination and filter information)
   * to local storage before navigating to the details page. This allows for a seamless
   * return to the search results later.
   *
   * @param id - The unique identifier of the car to view details for.
   * @returns {void} This function doesn&#x27;t return a value.
   */
  redirectToCarDetails(id: string): void {
    if (this.currentPopUpID) return;
    this.localStorageService.set(&#x27;page&#x27;, String(this.page));
    this.localStorageService.set(&#x27;limit&#x27;, String(this.limit));
    this.localStorageService.setObject(&#x27;car&#x27;, this.arrAllCar);
    this.localStorageService.setObject(&#x27;filter&#x27;, this.arrFilterForm!);
    this.router.navigateByUrl(&#x60;/detail/${id}&#x60;);
  }

  /**
   * Pagination on car list
   * @param event 
   */
  async onPageChange(event: any) {
    this.page &#x3D; event.page;
    this.limit &#x3D; event.rows;
    await this.getDataByFilter();
  }

  /**
   * Handles the change event for the home delivery option in the filter.
   * Updates the filter query string and form data based on the user&#x27;s selection.
   * 
   * @param event - The InputSwitchChangeEvent triggered by the home delivery toggle.
   *                Contains the current state of the switch (checked or unchecked).
   * 
   * @returns A Promise that resolves when the filter data has been updated and new results have been fetched.
   */
  async onChangeHomeDelivery(event: InputSwitchChangeEvent): Promise&lt;void&gt; {
      const home_services &#x3D; this.arrFilterQueryString.find((element: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; &#x27;home_services&#x27;);
      const home_service_form &#x3D; this.arrFilterForm?.find((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; &#x27;home_services&#x27;);
      const home_delivery &#x3D; home_service_form?.data.find((element: any) &#x3D;&gt; element.value &#x3D;&#x3D;&#x3D; &#x27;home_delivery&#x27;);
      if (event.checked) {
        home_delivery.checked &#x3D; true;
        if (home_services) {
          home_services.value.push({ value: &#x27;home_delivery&#x27; });
          if (home_service_form?.select) {
            home_service_form.select.push(home_delivery);
          } else {
            home_service_form!.select &#x3D; [home_delivery];
          }
        } else {
          this.arrFilterQueryString.push({ name: &#x27;home_services&#x27;, value: [{ value: &#x27;home_delivery&#x27; }] });
          if (home_service_form?.select) {
            home_service_form.select.push(home_delivery);
          } else {
            home_service_form!.select &#x3D; [home_delivery];
          }
        }
      } else {
        home_delivery.checked &#x3D; false;
        if (home_services) {
          home_services.value.splice(home_services.value.findIndex((element: any) &#x3D;&gt; element.value &#x3D;&#x3D;&#x3D; &#x27;home_delivery&#x27;), 1);
          home_service_form?.select.splice(home_service_form.select.findIndex((element: any) &#x3D;&gt; element.value &#x3D;&#x3D;&#x3D; &#x27;home_delivery&#x27;), 1);
        } else {
          this.arrFilterQueryString.splice(this.arrFilterQueryString.findIndex((element: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; &#x27;home_services&#x27;), 1);
          if (home_service_form?.select) {
            home_service_form.select.splice(home_service_form.select.findIndex((element: any) &#x3D;&gt; element.value &#x3D;&#x3D;&#x3D; &#x27;home_delivery&#x27;), 1);
          } else {
            home_service_form!.select &#x3D; undefined;
          }
        }
      }

      await this.getDataByFilter();
  }

  // serach from list by input serach bar
  /**
   * Searches and filters the list of filter options based on user input.
   * 
   * This function performs a case-insensitive search on the filter options,
   * updates the search results, and triggers change detection to update the UI.
   * 
   * @param search - The search string entered by the user.
   * @param filter - The FilterFormData object representing the current filter.
   * @param index - The index of the current filter in the arrFilterForm array.
   * 
   * @returns {void} This function doesn&#x27;t return a value, but updates the filter object and triggers UI updates.
   */
  seachByInputFromFilterList(search: string, filter: FilterFormData, index: number): void {
    // copy main array for search
    const arrTempFilter &#x3D; this.arrFilterForm![index].data.map((element: any) &#x3D;&gt; element);
    // find data as per search string from copy array
    filter.search &#x3D; arrTempFilter.filter((element: any) &#x3D;&gt; {
      return this.replaceStringToCapitalize(element.label)!.toLowerCase().includes(search.toLowerCase());
    });
    // refill array if search string is empty
    if (!search) {
      filter.data &#x3D; this.arrFilterForm![index].data;
    }

    // display matched data in list &amp; show detected changes
    this.cdRef.detectChanges();
  }

  /**
   * Performs a search operation on dropdown filter options based on the specified maximum value.
   * This function is specifically designed for filters with a &#x27;maximum&#x27; operation.
   * 
   * @param index - The index of the current filter option within its parent filter.
   * @param indexParent - The index of the parent filter in the main filter array.
   * @param filter - The FilterFormData object representing the current filter.
   * 
   * @returns {void} This function doesn&#x27;t return a value, but updates the &#x60;search&#x60; property of the filter object.
   */
  searchByDropDownFilterOperation(index: number, indexParent: number, filter: FilterFormData): void {

    // check is operation apply on the dropdown? not then return
    if (!filter.operation) return

    if (filter.operation &#x3D;&#x3D;&#x3D; &#x27;maximum&#x27;) {
      if (index &#x3D;&#x3D; 0) {
        // copy main array for search
        const arrTempFilter &#x3D; this.arrFilterForm![indexParent].data[1].data.map((element: any) &#x3D;&gt; element);
        // find data as per search string from copy array
        filter.search &#x3D; arrTempFilter.filter((element: any) &#x3D;&gt; {
          return Number(element.value) &gt; this.arrFilterForm![indexParent].data[0].temp;
        });
        // refill array if search string is empty
        if (!this.arrFilterForm![indexParent].data[0].temp) {
          filter.search &#x3D; this.arrFilterForm![indexParent].data[1].data;
        }
      }
    }
  }

  /**
 * Clears the specified filter from the popup and updates the search results accordingly.
 * 
 * This function performs the following tasks:
 * 1. Resets the selected filter and its associated data.
 * 2. Updates the filter query string array.
 * 3. Handles special cases for &#x27;make&#x27; and &#x27;model&#x27; filters.
 * 4. Updates the local storage with the new query.
 * 5. Fetches new data based on the updated filters.
 * 6. Hides all popup filters and resets the current popup ID.
 *
 * @param filter - The FilterFormData object representing the filter to be cleared.
 * @returns A Promise that resolves when all operations are complete.
 */
  async clearFilterFromPopUp(filter: FilterFormData) {

    // remove selected filter so we can update last filter count value&#x27;s
    this.selectedFilter &#x3D; undefined;

    if (filter.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27; || filter.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
      filter.data[0].temp &#x3D; undefined;
      filter.data[1].temp &#x3D; undefined;
      filter.data[0].select &#x3D; undefined;
      filter.data[1].select &#x3D; undefined;
      filter.select &#x3D; undefined;

      // reset asking price - payment if it&#x27;s displayed
      if (filter.name.value &#x3D;&#x3D;&#x3D; &#x27;asking_price&#x27;) {
        this.isPaymenShowInSidebar &#x3D; false;
        this.formPayment.reset({
          min: null,
          max: null,
          down_payment: 0,
          frequency: &#x27;Bi-Weekly&#x27;,
          term: 36,
          apr: 9
        });

        // remove payment storage
        this.localStorageService.remove(&#x27;payment&#x27;);
      }
    }
    if ([&#x27;checkbox&#x27;, &#x27;multi-choice&#x27;, &#x27;multi-select&#x27;].includes(filter.type)) {
      filter.select &#x3D; undefined;
      filter.temp &#x3D; undefined;
      filter.data.forEach((element: any) &#x3D;&gt; {
        element.checked &#x3D; false;
      });
    }
    if (filter.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27;) {
      if (filter.name.value &#x3D;&#x3D;&#x3D; &#x27;make&#x27;) {
        // remove model if it&#x27;s already selected 
        const filterModelIndex &#x3D; this.arrFilterQueryString.findIndex((fltr: any) &#x3D;&gt; fltr.name &#x3D;&#x3D;&#x3D; &#x27;model&#x27;);
        if (filterModelIndex &gt; -1) {
          // remove filter from query and sidebar
          this.arrFilterQueryString.splice(filterModelIndex, 1);
          const model &#x3D; this.arrFilterForm?.find((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27;);
          model!.select &#x3D; undefined;
        }
      }
      filter.select &#x3D; undefined;
      filter.temp &#x3D; undefined;
    }

    // check it&#x27;s already in search list or not, if thenremove selected reset filter entry from query string array
    const findIsExist &#x3D; this.arrFilterQueryString.findIndex((element: any) &#x3D;&gt; element.name.toLowerCase() &#x3D;&#x3D;&#x3D; filter.name.value);
    if (findIsExist &gt; -1) {
      this.arrFilterQueryString.splice(findIsExist, 1);
    }

    if (filter.name.value &#x3D;&#x3D;&#x3D; &#x27;make&#x27; || filter.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27;) {
      // unhide location and make field for further selection
      const allTrue &#x3D; this.arrFilterForm?.every((element: any) &#x3D;&gt; element.temp_hide &#x3D;&#x3D;&#x3D; true);
      if (allTrue) {
        this.arrFilterForm?.forEach((element: any) &#x3D;&gt; {
          if (filter.name.value &#x3D;&#x3D;&#x3D; &#x27;make&#x27;) {
            if ([&#x27;location&#x27;, &#x27;make&#x27;, &#x27;seller_type&#x27;, &#x27;condition&#x27;, &#x27;home_services&#x27;].includes(element.name.value)) return
          } else if (filter.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27;) {
            if ([&#x27;location&#x27;, &#x27;make&#x27;, &#x27;model&#x27;, &#x27;seller_type&#x27;, &#x27;condition&#x27;, &#x27;home_services&#x27;].includes(element.name.value)) return
          }
          element.default_hide &#x3D; true;
          if (element.select || element.temp) {
            //delete entry from arr query string if multiple entries to remove
            const findIsExist &#x3D; this.arrFilterQueryString.findIndex((flt: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; flt.name);
            if (findIsExist &gt; -1) {
              this.arrFilterQueryString.splice(findIsExist, 1);
            }
            element.select &#x3D; undefined;
            element.temp &#x3D; undefined;
          }
        })
      }
    }

    // set query parameter for future referance
    const query &#x3D; this.localStorageService.getObject(&#x27;query&#x27;);
    if (query) {
      this.localStorageService.remove(&#x27;query&#x27;);
    }

    // save updated filter from query array li storage
    this.localStorageService.setObject(&#x27;query&#x27;, JSON.stringify(this.arrFilterQueryString));

    // get data by filter
    await this.getDataByFilter();

    this.hideAllPopupFilter(&#x27;any&#x27;);
    this.currentPopUpID &#x3D; undefined;
  }

  /**
 * Calculates the payment settings for the search results.
 *
 * @param calculate - A flag indicating whether to calculate the payment settings based on the form values.
 * If true, the function adds the selected values to the sidebar and updates the filter query string.
 * If false, the function calculates the financing amount for each vehicle in the search results.
 *
 * @remarks The function first checks if the form values are valid. If not, it returns without performing any calculations.
 * If the calculate flag is true, the function adds the selected asking price range to the sidebar and updates the filter query string.
 * It then calls the &#x60;getDataByFilter&#x60; method to update the search results.
 * If the calculate flag is false, the function calculates the financing amount for each vehicle in the search results.
 * Finally, it calls the &#x60;hideAllPopupFilter&#x60; method to hide any open filter popups.
 */
  async calculatePayment(calculate?: boolean) {
    // return if payment is invalid
    if (this.formPayment.invalid) return

    // get payment data
    const data &#x3D; this.formPayment.value;

    // get requency of payment
    const frequency &#x3D; data.frequency &#x3D;&#x3D;&#x3D; &#x27;Weekly&#x27; ? 4 : data.frequency &#x3D;&#x3D;&#x3D; &#x27;Bi-Weekly&#x27; ? 2 : 1;

    // if it&#x27;s new form payment then call api by dynamic total - else just calculate finance amount
    if (calculate) {

      // sum dynamic maximum by form payment max
      const maxAmount &#x3D; data.max!;
      const maxSubTotal &#x3D; maxAmount * data.term! * frequency;
      const maxAprTotal &#x3D; maxSubTotal * data.apr! / 100;
      const maxTotal &#x3D; maxSubTotal + maxAprTotal + data.down_payment!;

      // sum dynamic maximum by form payment min
      const minAmount &#x3D; data.min!;
      const minSubTotal &#x3D; minAmount * data.term! * frequency;
      const minAprTotal &#x3D; minAmount * data.apr!;
      const minTotal &#x3D; minSubTotal + minAprTotal;

      // add selected value in sidebar by chip
      const findAskingPrice &#x3D; this.arrFilterForm?.find((element: any) &#x3D;&gt; element.name.value &#x3D;&#x3D;&#x3D; &#x27;asking_price&#x27;);
      findAskingPrice!.select &#x3D; true;
      findAskingPrice!.data.forEach((item: any) &#x3D;&gt; {
        if (item.name &#x3D;&#x3D;&#x3D; &quot;Maximum&quot;) {
          item.temp &#x3D; maxTotal;
          item.select &#x3D; &#x60;$${maxTotal}&#x60;;
        }
        if (item.name &#x3D;&#x3D;&#x3D; &quot;Minimum&quot;) {
          item.temp &#x3D; minTotal;
          item.select &#x3D; &#x60;$${minTotal}&#x60;;
        }
      });

      // add min max price in query list
      this.arrFilterQueryString.push({
        name: &#x27;asking_price&#x27;,
        value: [
          { name: &quot;Maximum&quot;, operation: true, value: maxTotal },
          { name: &quot;Minimum&quot;, operation: true, value: minTotal }
        ]
      });

      // set query parameter for future referance
      const query &#x3D; this.localStorageService.getObject(&#x27;query&#x27;);
      if (query) {
        this.localStorageService.remove(&#x27;query&#x27;);
      }
      // save updated filter from query list storage
      this.localStorageService.setObject(&#x27;query&#x27;, JSON.stringify(this.arrFilterQueryString));

      // save updated form payment storage
      this.localStorageService.setObject(&#x27;payment&#x27;, data);

      // call api to get data between min max price
      await this.getDataByFilter();

      // display payment detail in side panel
      this.isPaymenShowInSidebar &#x3D; true;
    } else {
      this.arrAllCar.data.forEach((element: any) &#x3D;&gt; {
        const yearTerm &#x3D; this.calculatorTermByYear(Number(element.name.split(&#x27; &#x27;)[0]))
        const term &#x3D; data.term! &lt; yearTerm.pop()! ? data.term : yearTerm.pop()!;
        const amount &#x3D; (element.asking_price - data.down_payment!) / term! / frequency;
        if (amount &lt; data.max! &amp;&amp; element.asking_price &gt; data.down_payment!) {
          element.finance &#x3D; {
            apr: data.apr,
            frequency: data.frequency,
            amount
          }
        }
      });
    }

    this.hideAllPopupFilter(&#x27;any&#x27;);
    this.currentPopUpID &#x3D; undefined;
  }

  /**
 * Calculates the financing terms available for a given vehicle manufacturing year.
 *
 * @param year - The manufacturing year of the vehicle.
 * @returns An array of financing terms in months, sorted in ascending order.
 *
 * @remarks The financing terms are based on the manufacturing year and are specific to the vehicle financing industry.
 */
  calculatorTermByYear(year: number) {
    if (year &gt;&#x3D; 2013 &amp;&amp; year &lt;&#x3D; 2015) {
      return [12, 24, 36, 48]
    } else if (year &#x3D;&#x3D; 2016) {
      return [12, 24, 36, 48, 60]
    } else if (year &#x3D;&#x3D; 2017) {
      return [12, 24, 36, 48, 60, 72]
    } else if (year &#x3D;&#x3D; 2018) {
      return [12, 24, 36, 48, 60, 72, 84]
    } else if (year &gt;&#x3D; 2019) {
      return [12, 24, 36, 48, 60, 72, 84, 96]
    }
    return [12, 24, 36]
  }

  /**
 * Constructs a string representation of the payment filter settings for the sidebar.
 *
 * @returns {string} - A formatted string representing the payment filter settings.
 * The string includes the minimum and maximum payment amounts, the payment frequency,
 * the financing term, and the down payment amount.
 */
  strPaymentForShidebar(): string {
    const dataPayment &#x3D; this.formPayment.value;
    return &#x60;$${dataPayment.min} - $${dataPayment.max}, ${dataPayment.frequency}, ${dataPayment.term} Months, $${dataPayment.down_payment} Down Payment&#x60;;
  }

  /**
 * Submits the filter settings for an alert subscription.
 * 
 * This function logs the current form values and filter query strings,
 * then sends a POST request to the &#x27;alert-subscribe&#x27; endpoint with the filter data.
 * If the response indicates a successful subscription, it sets the &#x27;isAlertSuccessDialogOpen&#x27; flag to true.
 */
  async submitFilterForAlert() {
    const code &#x3D; this.localStorageService.get(&#x27;code&#x27;);
    if (!code) {
      this.messageService.add({ severity: &#x27;error&#x27;, detail: &#x27;Add location in search panel.&#x27;, summary: &#x27;Postal Code&#x27;, life: 5000 });
      return
    }
    await this.httpService.post(&#x27;alert-subscribe&#x27;, {
      postal_code: this.localStorageService.get(&#x27;code&#x27;),
      filter: this.arrFilterQueryString.filter((element: any) &#x3D;&gt; [&#x27;Distance&#x27;, &#x27;condition&#x27;, &#x27;seller_type&#x27;, &#x27;make&#x27;, &#x27;model&#x27;].includes(element.name)),
      ...this.formAlertListing.value
    })
      .then((res: any) &#x3D;&gt; {
        if (res.success) {
          this.formAlertListing.reset();
          this.confirmationService.confirm({});
          this.isAlertSubscribeDialogOpen &#x3D; false;
        }
      });
  }

  /**
   * Opens the alert subscription dialog and submits the filter for an alert.
   * 
   * This function sets the &#x60;isAlertSubscribeDialogOpen&#x60; flag to true, which likely
   * triggers the display of an alert subscription dialog in the UI. It then calls
   * the &#x60;submitFilterForAlert&#x60; method to process the filter submission for the alert.
   * 
   * @returns {Promise&lt;void&gt;} A promise that resolves when the alert filter has been submitted.
   */
  async submitFilterForAlertDialog(): Promise&lt;void&gt; {
    this.isAlertSubscribeDialogOpen &#x3D; true;
    await this.submitFilterForAlert();
  }

  // set global page event - anywhere click on page
  /**
 * Handles click events on the document to manage filter popups.
 * This method controls the opening and closing of filter popups, handles interactions
 * with popup elements, and manages the state of filters and query strings.
 *
 * @param {MouseEvent} event - The mouse event triggered by the click.
 * @param {HTMLElement} targetElement - The HTML element that was clicked.
 * @returns {void}
 */
  currentPopUpID: string | undefined; // set current open popup filter id
  isFilterPopUpOpen: boolean &#x3D; false; // toggle condition when popup will be open
  @HostListener(&#x27;document:click&#x27;, [&#x27;$event&#x27;, &#x27;$event.target&#x27;])
  public onClick(event: MouseEvent, targetElement: HTMLElement): void {

    // check is click to open popup filter menu
    const isOpenForFilter &#x3D; targetElement.classList.contains(&#x27;open-filter-popup&#x27;);
    // check element depend on above filters then it&#x27;s hide by major filters by return
    if (isOpenForFilter &amp;&amp; targetElement.getAttribute(&#x27;disabled&#x27;)) return;
    // get id of current popup menu
    const getCurrentPopUpID &#x3D; targetElement.nextElementSibling?.getAttribute(&#x27;id&#x27;);
    // check it&#x27;s click on menu to open open and it&#x27;s already opened or not
    if (isOpenForFilter &amp;&amp; !this.isFilterPopUpOpen) {
      // settrue so know popup is opened before
      this.isFilterPopUpOpen &#x3D; true;
      // hide all another popup if there is one open otherwise all popup will be close
      this.hideAllPopupFilter(getCurrentPopUpID);
      // set blur on filter section
      const eleFilterSection &#x3D; document.getElementById(&#x27;filter-section&#x27;);
      eleFilterSection!.classList.add(&#x27;body-filter-popup&#x27;);
    } else {
      // check click is on popup or not
      const filterBody &#x3D; document.getElementById(this.currentPopUpID!)?.contains(targetElement);
      if (filterBody) return // if click on popup then return
      if (this.currentPopUpID &amp;&amp; !filterBody &amp;&amp; targetElement.classList.contains(&#x27;p-dropdown-item&#x27;)) return // return if value select from popup dropdown
      if (this.currentPopUpID &amp;&amp; !filterBody &amp;&amp; targetElement.classList.contains(&#x27;p-checkbox-icon&#x27;)) return // return if value select from popup checkbox
      if (this.currentPopUpID &amp;&amp; !filterBody &amp;&amp; targetElement.getAttribute(&#x27;type&#x27;) &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27;) return // return if value select from popup checkbox
      this.isFilterPopUpOpen &#x3D; false;
      // reset unselected option if user close popup without apply option to comapre current query string options
      if (this.currentPopUpID) {
        const filter &#x3D; this.currentPopUpID?.split(&#x27;_&#x27;).slice(0, -1).join(&#x27;_&#x27;);
        const queryExist &#x3D; this.arrFilterQueryString.find((element: any) &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; filter);
        const selectedFilter &#x3D; this.arrFilterForm?.find((form: any) &#x3D;&gt; form.name.value &#x3D;&#x3D;&#x3D; filter);
        if (selectedFilter?.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27;) {
          selectedFilter?.data.forEach((element: any) &#x3D;&gt; {
            if (!queryExist?.value.includes(element.value)) {
              element.checked &#x3D; false;
            }
          });
        }
        if (selectedFilter?.type &#x3D;&#x3D;&#x3D; &#x27;multi-choice&#x27;) {
          const selectedValues &#x3D; queryExist?.value.map((value: any) &#x3D;&gt; { return value.value });
          selectedFilter?.data.forEach((element: any) &#x3D;&gt; {
            if (!selectedValues.includes(element.value)) {
              element.checked &#x3D; false;
            }
          });
        }
        if (selectedFilter?.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27; || selectedFilter?.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
          selectedFilter?.data.forEach((element: any) &#x3D;&gt; {
            if (element.temp &amp;&amp; !element.select) {
              element.temp &#x3D; undefined;
            }
          });
        }
      }
      // reset current popup ID
      this.currentPopUpID &#x3D; undefined;
      // hide all another popup if there is one open otherwise all popup will be close
      this.hideAllPopupFilter(getCurrentPopUpID);
    }
  }

  /**
 * Displays a filter dialog options popup for a specific filter.
 * 
 * This function handles the positioning and display of a filter popup dialog.
 * It calculates the position based on the parent element&#x27;s location and adjusts
 * for screen boundaries. It also applies visual effects like blurring the background.
 *
 * @param key - The identifier for the current filter. Used to find the filter data.
 * @param parent - The ID of the parent element that triggers the popup.
 * @param child - The ID of the child element that represents the popup dialog.
 * 
 * @returns {void} This function doesn&#x27;t return a value, but modifies the DOM to display the popup.
 */
  showFilterDialogOptions(key: unknown, parent: string, child: string): void {

    // set current filter to display popup
    this.currentFilterData &#x3D; this.arrFilterForm?.find((element: FilterFormData) &#x3D;&gt; element.name &#x3D;&#x3D; key);

    // show popup by reomve hidden class from element of popup
    const currentPopup &#x3D; document.getElementById(child);
    currentPopup?.classList.remove(&#x27;hidden&#x27;);

    // find parent, child and filter body elements
    const eleParent &#x3D; document.getElementById(parent);
    const eleChild &#x3D; document.getElementById(child);
    const eleFilterBody &#x3D; document.getElementById(&#x27;filter-body&#x27;);
    // if all element find then move ahed otherwise stop
    if (!(eleParent &amp;&amp; eleChild &amp;&amp; eleFilterBody)) {
      return;
    }
    // get posiition of parent, child and filter body elements
    const eleParentReact &#x3D; eleParent.getBoundingClientRect();
    const eleChildReact &#x3D; eleChild.getBoundingClientRect();
    const eleFilterBodydReact &#x3D; eleFilterBody.getBoundingClientRect();
    if (eleParentReact &amp;&amp; eleChildReact) {
      // check popup height more than sceen height then move popup top by dynamic calculation
      const isFitInScreen &#x3D; (eleParentReact.x + eleParentReact.y + eleChildReact.height) - 50;
      // default top if popup fit in window sceen hieght
      let defaultTop &#x3D; eleParentReact.y - eleFilterBodydReact.y - 50;
      // if popup height more than window height
      if (isFitInScreen &gt; window.screen.height) {
        // substract height distance from actual top 
        const difference &#x3D; isFitInScreen - window.screen.height;
        defaultTop -&#x3D; difference
      }
      // set filter popup menu position for individual filter
      const childLeft &#x3D; eleParentReact.width + 40;
      eleChild.style.left &#x3D; &#x60;${childLeft}px&#x60;;
      eleChild.style.top &#x3D; &#x60;${defaultTop}px&#x60;;

      // add class to blur filter section during modification of any filter
      const eleFilterSection &#x3D; document.getElementById(&#x27;filter-section&#x27;);
      eleFilterSection!.classList.add(&#x27;body-filter-popup&#x27;);
    }
  }

  /**
   * Hides all filter popups except for the one specified by the input ID.
   * This function manages the visibility of filter popups and updates the current popup state.
   * It also removes the blur effect from the filter section when all popups are closed.
   *
   * @param getCurrentPopUpID - The ID of the popup that should remain visible (if any).
   *                            All other popups will be hidden. If this matches no popup ID,
   *                            all popups will be hidden.
   * @returns void This function doesn&#x27;t return a value, but modifies the DOM and component state.
   */
  hideAllPopupFilter(getCurrentPopUpID: any): void {
    // check all popup type and disbale other if already displayed
    const getAllPopUp &#x3D; document.querySelectorAll(&#x27;.filter-popup&#x27;);
    getAllPopUp.forEach(element &#x3D;&gt; {
      if (getCurrentPopUpID &#x3D;&#x3D;&#x3D; element.getAttribute(&#x27;id&#x27;)) {
        this.currentPopUpID &#x3D; getCurrentPopUpID!;
      } else {
        element.classList.add(&#x27;hidden&#x27;);
        this.isFilterPopUpOpen &#x3D; false;
      }
    });
  
    // remove blur on filter section
    const eleFilterSection &#x3D; document.getElementById(&#x27;filter-section&#x27;);
    if (eleFilterSection) {
      eleFilterSection.classList.remove(&#x27;body-filter-popup&#x27;);
    }
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;relative&quot;&gt;
    &lt;!-- main section --&gt;
    &lt;div class&#x3D;&quot;flex flex-column w-full xl:w-11 p-3 xl:p-0 mx-auto mt-1 xl:mt-3&quot;&gt;
        &lt;!-- title serach panel --&gt;
        &lt;div
            class&#x3D;&quot;flex flex-column align-items-center bg-white border-1 border-solid border-200 border-round-xl p-3 w-full&quot;&gt;
            &lt;div class&#x3D;&quot;text-lg font-bold text-black-alpha-60 w-full&quot;&gt;
                {{ objOuterLocation.count }} {{ objOuterLocation.condition }} {{ objOuterLocation.make }} for sale
                {{ objOuterLocation.city }}
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;flex flex-column md:flex-row align-items-center md:justify-content-between w-full mt-3&quot;&gt;
                &lt;div class&#x3D;&quot;flex align-items-center w-full md:w-5&quot;&gt;
                    &lt;span&gt;Home Delivery&lt;/span&gt;
                    &lt;i class&#x3D;&quot;pi pi-info-circle ml-2&quot;
                        pTooltip&#x3D;&quot;Only show cars that can be delivered to you at your address.&quot;
                        tooltipPosition&#x3D;&quot;bottom&quot;&gt;&lt;/i&gt;
                    &lt;p-inputSwitch styleClass&#x3D;&quot;ml-5&quot; (onChange)&#x3D;&quot;onChangeHomeDelivery($event)&quot;
                        [ngModel]&#x3D;&quot;stateHomeDelivery&quot;&gt;&lt;/p-inputSwitch&gt;
                &lt;/div&gt;
                &lt;div
                    class&#x3D;&quot;flex flex-column md:flex-row justify-content-start md:justify-content-end w-full md:w-7 mt-2 md:mt-0&quot;&gt;
                    &lt;p-dropdown [options]&#x3D;&quot;groupedSortDefault&quot; placeholder&#x3D;&quot;Select a sort&quot; [filter]&#x3D;&quot;true&quot;
                        filterBy&#x3D;&quot;name&quot; styleClass&#x3D;&quot;w-full menu_left&quot; [(ngModel)]&#x3D;&quot;strDefaultSort&quot;
                        (onChange)&#x3D;&quot;onChangeSortOption($event)&quot;&gt;
                    &lt;/p-dropdown&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- body filter &amp; car list --&gt;
        &lt;div class&#x3D;&quot;flex w-full my-3 relative text-sm xl:text-md&quot; id&#x3D;&quot;filter-body&quot;&gt;
            &lt;!-- filter list --&gt;
            &lt;div *ngIf&#x3D;&quot;!isMobileScreen&quot;
                class&#x3D;&quot;hidden xl:flex flex-column align-items-center bg-white border-1 border-solid border-200 border-round-xl p-3 w-3 mr-2 min-h-content&quot;&gt;
                &lt;div class&#x3D;&quot;flex flex-column w-full&quot;&gt;
                    &lt;div class&#x3D;&quot;flex justify-content-between align-items-center w-full&quot;&gt;
                        &lt;div class&#x3D;&quot;flex font-semibold text-xl align-items-center&quot;&gt;
                            {{ objOuterLocation.count }} &lt;div class&#x3D;&quot;ml-2 text-xs&quot;&gt;Found&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;p-button label&#x3D;&quot;Clear&quot; [outlined]&#x3D;&quot;true&quot; [text]&#x3D;&quot;true&quot; (onClick)&#x3D;&quot;onClearFilters()&quot;
                            *ngIf&#x3D;&quot;arrAllCar&quot;&gt;&lt;/p-button&gt;
                    &lt;/div&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                &lt;/div&gt;
                @for (item of arrFilterForm; track item._id; let i &#x3D; $index; let last &#x3D; $last) {
                &lt;div class&#x3D;&quot;flex flex-column w-full justify-content-start&quot;
                    [attr.disabled]&#x3D;&quot;item.default_hide ? true : null&quot;&gt;
                    &lt;div
                        [ngClass]&#x3D;&quot;{ &#x27;border-left-3 border-right-none border-top-none border-bottom-none border-solid border-primary border-round-lg&#x27;: item.select &amp;&amp; item.select !&#x3D;&#x3D; undefined &amp;&amp; item.select.length !&#x3D;&#x3D; 0 }&quot;&gt;
                        &lt;div class&#x3D;&quot;p-2 open-filter-popup&quot; [id]&#x3D;&quot;item.name.value +&#x27;_0&#x27; + i&quot;
                            [attr.disabled]&#x3D;&quot;item.default_hide ? true : null&quot;
                            [ngClass]&#x3D;&quot;{ &#x27;text-primary surface-50 shadow-1 relative arrow-filter-popup&#x27;: item.name.value +&#x27;_&#x27; + i &#x3D;&#x3D;&#x3D; currentPopUpID, &#x27;opacity-50 select-none&#x27;: item.default_hide, &#x27;hover:text-primary hover:surface-50 hover:shadow-1 border-round-md cursor-pointer&#x27;: !item.default_hide}&quot;
                            (click)&#x3D;&quot;item.default_hide ? null : showFilterDialogOptions(item.name.value, item.name.value +&#x27;_0&#x27; + i, item.name.value +&#x27;_&#x27; + i)&quot;&gt;
                            {{ item.name.label }}
                        &lt;/div&gt;
                        &lt;div class&#x3D;&quot;hidden animation-duration-500 absolute z-2 w-3 filter-popup&quot;
                            [id]&#x3D;&quot;item.name.value +&#x27;_&#x27; + i&quot; [ngClass]&#x3D;&quot;item.name.value +&#x27;_&#x27; + i&quot;
                            [ngClass]&#x3D;&quot;{ &#x27;w-6&#x27;: item.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27; }&quot;&gt;
                            &lt;div class&#x3D;&quot;flex flex-column pl-3 pr-3 pt-1 pb-3 gap-2 w-full border-round-2xl shadow-2 bg-white&quot;
                                style&#x3D;&quot;background-image: radial-gradient(circle at left top, var(--surface-ground), var(--surface-c))&quot;
                                [ngClass]&#x3D;&quot;{ &#x27;max-w-25rem&#x27;: item.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;multi-select&#x27; }&quot;&gt;
                                &lt;!-- header section --&gt;
                                &lt;div class&#x3D;&quot;flex justify-content-between  align-items-center w-full py-2&quot;&gt;
                                    &lt;div class&#x3D;&quot;font-semibold text-lg&quot;&gt;{{ item.name.label }}&lt;/div&gt;
                                    &lt;div class&#x3D;&quot;flex align-items-center&quot;&gt;
                                        &lt;p-button *ngIf&#x3D;&quot;item.name.value !&#x3D;&#x3D; &#x27;location&#x27; &amp;&amp; !isFilterLoading&quot;
                                            size&#x3D;&quot;small&quot; label&#x3D;&quot;Clear&quot; aria-label&#x3D;&quot;clear-popup&quot; [outlined]&#x3D;&quot;true&quot;
                                            styleClass&#x3D;&quot;mr-2 p-2&quot; (onClick)&#x3D;&quot;clearFilterFromPopUp(item)&quot;&gt;&lt;/p-button&gt;
                                        &lt;p-button icon&#x3D;&quot;pi pi-times&quot; severity&#x3D;&quot;secondary&quot; size&#x3D;&quot;small&quot; [rounded]&#x3D;&quot;true&quot;
                                            [text]&#x3D;&quot;true&quot; aria-label&#x3D;&quot;close-popup&quot;
                                            (onClick)&#x3D;&quot;closeFilterPopUpByID(item.name.value +&#x27;_&#x27; + i)&quot;&gt;&lt;/p-button&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;p-divider styleClass&#x3D;&quot;-m-1&quot;&gt;&lt;/p-divider&gt;
                                &lt;!-- check query load successfully or not --&gt;
                                @if(isFilterLoading) {
                                @if (item.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;multi-select&#x27; || item.type &#x3D;&#x3D;&#x3D;
                                &#x27;multi-choice&#x27;) {
                                &lt;div class&#x3D;&quot;flex gap-2 mt-2&quot;&gt;
                                    &lt;p-skeleton size&#x3D;&quot;1rem&quot; /&gt;
                                    &lt;p-skeleton width&#x3D;&quot;15rem&quot; height&#x3D;&quot;1rem&quot; styleClass&#x3D;&quot;mb-2&quot; /&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;flex gap-2 mt-2&quot;&gt;
                                    &lt;p-skeleton size&#x3D;&quot;1rem&quot; /&gt;
                                    &lt;p-skeleton width&#x3D;&quot;15rem&quot; height&#x3D;&quot;1rem&quot; styleClass&#x3D;&quot;mb-2&quot; /&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;flex gap-2 mt-2&quot;&gt;
                                    &lt;p-skeleton size&#x3D;&quot;1rem&quot; /&gt;
                                    &lt;p-skeleton width&#x3D;&quot;15rem&quot; height&#x3D;&quot;1rem&quot; styleClass&#x3D;&quot;mb-2&quot; /&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;flex gap-2 my-2&quot;&gt;
                                    &lt;p-skeleton size&#x3D;&quot;1rem&quot; /&gt;
                                    &lt;p-skeleton width&#x3D;&quot;15rem&quot; height&#x3D;&quot;1rem&quot; styleClass&#x3D;&quot;mb-2&quot; /&gt;
                                &lt;/div&gt;
                                }
                                @if (item.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;multi&#x27;) {
                                &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
                                &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
                                }
                                @if (item.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27;) {
                                &lt;div class&#x3D;&quot;formgrid grid&quot;&gt;
                                    &lt;div class&#x3D;&quot;col-4&quot;&gt;
                                        &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-4&quot;&gt;
                                        &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-4&quot;&gt;
                                        &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-4&quot;&gt;
                                        &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-4&quot;&gt;
                                        &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-4&quot;&gt;
                                        &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                }
                                } @else {
                                @if(item.name.value &#x3D;&#x3D;&#x3D; &#x27;asking_price&#x27;) {
                                &lt;div class&#x3D;&quot;tab-price mt-2&quot;&gt;
                                    &lt;p-tabView&gt;
                                        &lt;!-- price tab section --&gt;
                                        &lt;p-tabPanel header&#x3D;&quot;Price&quot;&gt;
                                            &lt;div class&#x3D;&quot;mt-3&quot;&gt;
                                                @if (item.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
                                                &lt;div class&#x3D;&quot;flex flex-column gap-2&quot;&gt;
                                                    @for (element of item.data; track element;let iT &#x3D; $index) {
                                                    &lt;input pInputText
                                                        [attr.aria-describedby]&#x3D;&quot;item.name.value + &#x27;-help-&#x27; + iT&quot;
                                                        [(ngModel)]&#x3D;&quot;element.temp&quot; [pKeyFilter]&#x3D;&quot;$any(item.format)&quot;
                                                        [placeholder]&#x3D;&quot;element.placeholder&quot; class&#x3D;&quot;w-full&quot; /&gt;
                                                    }
                                                &lt;/div&gt;
                                                }
                                                &lt;!-- error section --&gt;
                                                @if(item.error) {
                                                &lt;div
                                                    class&#x3D;&quot;flex align-items-center my-2 p-3 bg-primary-100 border-round-xl&quot;&gt;
                                                    &lt;i class&#x3D;&quot;pi pi-times-circle text-primary-500 text-2xl mr-2&quot;&gt;&lt;/i&gt;
                                                    &lt;div class&#x3D;&quot;text-primary-500 text-sm&quot;&gt;{{ item.error }}&lt;/div&gt;
                                                &lt;/div&gt;
                                                }
                                                &lt;!-- footer section --&gt;
                                                &lt;div
                                                    class&#x3D;&quot;flex justify-content-center align-items-center w-full mt-3 filter-footer&quot;&gt;
                                                    @if (item.button) {
                                                    &lt;div class&#x3D;&quot;flex w-6 align-items-center&quot;&gt;
                                                        &lt;p-button label&#x3D;&quot;Apply&quot; aria-label&#x3D;&quot;Submit&quot;
                                                            (onClick)&#x3D;&quot;loadFilterDataByApplyOrList(item)&quot;
                                                            styleClass&#x3D;&quot;flex button-primary w-full&quot;
                                                            [style]&#x3D;&quot;{ &#x27;width&#x27;: &#x27;100%;&#x27; }&quot;&gt;&lt;/p-button&gt;
                                                    &lt;/div&gt;
                                                    }
                                                &lt;/div&gt;
                                            &lt;/div&gt;
                                        &lt;/p-tabPanel&gt;
                                        &lt;!-- payment tab section --&gt;
                                        &lt;p-tabPanel header&#x3D;&quot;Payment&quot;&gt;
                                            &lt;form [formGroup]&#x3D;&quot;formPayment&quot;
                                                class&#x3D;&quot;formgrid w-full mt-3 p-2 pb-3 border-round-lg surface-border border-1 surface-hover&quot;&gt;
                                                &lt;div class&#x3D;&quot;mb-2 col-12 p-0&quot;&gt;
                                                    &lt;label for&#x3D;&quot;min&quot; class&#x3D;&quot;ml-2 text-xs mb-1&quot;&gt;Min&lt;/label&gt;
                                                    &lt;input pInputText id&#x3D;&quot;min&quot; formControlName&#x3D;&quot;min&quot; class&#x3D;&quot;w-full&quot;
                                                        type&#x3D;&quot;number&quot; /&gt;
                                                &lt;/div&gt;
                                                &lt;div class&#x3D;&quot;mb-2 col-12 p-0&quot;&gt;
                                                    &lt;label for&#x3D;&quot;max&quot; class&#x3D;&quot;ml-2 text-xs mb-1&quot;&gt;Max&lt;/label&gt;
                                                    &lt;input pInputText id&#x3D;&quot;max&quot; formControlName&#x3D;&quot;max&quot; class&#x3D;&quot;w-full&quot;
                                                        type&#x3D;&quot;number&quot; /&gt;
                                                &lt;/div&gt;
                                                &lt;div class&#x3D;&quot;mb-2 col-12 p-0&quot;&gt;
                                                    &lt;label for&#x3D;&quot;frequency&quot; class&#x3D;&quot;ml-2 text-xs mb-1&quot;&gt;Frequency&lt;/label&gt;
                                                    &lt;p-dropdown [options]&#x3D;&quot;objPaymentInfo.frequency&quot;
                                                        formControlName&#x3D;&quot;frequency&quot; inputId&#x3D;&quot;frequency&quot;
                                                        styleClass&#x3D;&quot;w-full&quot;&gt;&lt;/p-dropdown&gt;
                                                &lt;/div&gt;
                                                &lt;div class&#x3D;&quot;mb-2 col-12 p-0&quot;&gt;
                                                    &lt;label for&#x3D;&quot;term&quot; class&#x3D;&quot;ml-2 text-xs mb-1&quot;&gt;Term&lt;/label&gt;
                                                    &lt;p-dropdown [options]&#x3D;&quot;objPaymentInfo.term&quot; formControlName&#x3D;&quot;term&quot;
                                                        inputId&#x3D;&quot;term&quot; styleClass&#x3D;&quot;w-full&quot;&gt;&lt;/p-dropdown&gt;
                                                &lt;/div&gt;
                                                &lt;div class&#x3D;&quot;mb-2 col-12 p-0&quot;&gt;
                                                    &lt;label for&#x3D;&quot;down_payment&quot; class&#x3D;&quot;ml-2 text-xs mb-1&quot;&gt;Down
                                                        Payment&lt;/label&gt;
                                                    &lt;input pInputText id&#x3D;&quot;down_payment&quot; formControlName&#x3D;&quot;down_payment&quot;
                                                        class&#x3D;&quot;w-full&quot; id&#x3D;&quot;down_payment&quot; type&#x3D;&quot;number&quot; /&gt;
                                                &lt;/div&gt;
                                                &lt;div class&#x3D;&quot;mb-2 col-12 p-0&quot;&gt;
                                                    &lt;label for&#x3D;&quot;apr&quot; class&#x3D;&quot;ml-2 text-xs mb-1&quot;&gt;Apr (%)&lt;/label&gt;
                                                    &lt;input pInputText id&#x3D;&quot;apr&quot; formControlName&#x3D;&quot;apr&quot; class&#x3D;&quot;w-full&quot;
                                                        id&#x3D;&quot;apr&quot; type&#x3D;&quot;number&quot; /&gt;
                                                &lt;/div&gt;
                                                &lt;!-- footer section --&gt;
                                                &lt;div
                                                    class&#x3D;&quot;flex justify-content-center align-items-center w-full mt-3 filter-footer&quot;&gt;
                                                    @if (item.button) {
                                                    &lt;div class&#x3D;&quot;flex w-6 align-items-center&quot;&gt;
                                                        &lt;p-button label&#x3D;&quot;Calculate&quot; aria-label&#x3D;&quot;Submit&quot;
                                                            (onClick)&#x3D;&quot;calculatePayment(true)&quot;
                                                            styleClass&#x3D;&quot;flex button-primary w-full&quot;
                                                            [disabled]&#x3D;&quot;formPayment.invalid&quot;
                                                            [style]&#x3D;&quot;{ &#x27;width&#x27;: &#x27;100%;&#x27; }&quot;&gt;&lt;/p-button&gt;
                                                    &lt;/div&gt;
                                                    }
                                                &lt;/div&gt;
                                            &lt;/form&gt;
                                        &lt;/p-tabPanel&gt;
                                    &lt;/p-tabView&gt;
                                &lt;/div&gt;
                                } @else {
                                @let isMake &#x3D; item.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27; &amp;&amp; !checkFilterQueryMakeExist();
                                @let isMakeModel &#x3D; item.name.value &#x3D;&#x3D;&#x3D; &#x27;trim&#x27; &amp;&amp; !checkFilterQueryMakeModelExist();
                                &lt;!-- body section --&gt;
                                @if (item.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
                                &lt;div class&#x3D;&quot;flex flex-column gap-2&quot;&gt;
                                    @for (element of item.data; track element;let iT &#x3D; $index) {
                                    &lt;input pInputText [attr.aria-describedby]&#x3D;&quot;item.name.value + &#x27;-help-&#x27; + iT&quot;
                                        [(ngModel)]&#x3D;&quot;element.temp&quot;
                                        [pKeyFilter]&#x3D;&quot;item.name.value &#x3D;&#x3D;&#x3D; &#x27;mileage&#x27; ? &#x27;int&#x27; : $any(item.format)&quot;
                                        [placeholder]&#x3D;&quot;element.placeholder&quot; class&#x3D;&quot;w-full&quot; /&gt;
                                    }
                                &lt;/div&gt;
                                }
                                @if (item.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27;) {
                                &lt;div class&#x3D;&quot;flex flex-column gap-2&quot;&gt;
                                    @for (dropdown of item.data; track dropdown;let iM &#x3D; $index) {
                                    &lt;p-dropdown appendTo&#x3D;&quot;body&quot;
                                        [options]&#x3D;&quot;item.operation &amp;&amp; iM &#x3D;&#x3D;&#x3D; 1 &amp;&amp; item.search ? sortPopupElementData(item.search) : sortPopupElementData(dropdown.data)&quot;
                                        [placeholder]&#x3D;&quot;dropdown.placeholder&quot; [(ngModel)]&#x3D;&quot;dropdown.temp&quot; [filter]&#x3D;&quot;true&quot;
                                        filterBy&#x3D;&quot;label&quot; [autoDisplayFirst]&#x3D;&quot;true&quot; styleClass&#x3D;&quot;w-full&quot;
                                        (onChange)&#x3D;&quot;searchByDropDownFilterOperation(iM, i, item)&quot;&gt;&lt;/p-dropdown&gt;
                                    }
                                &lt;/div&gt;
                                }
                                @if (item.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;multi-select&#x27; || item.type &#x3D;&#x3D;&#x3D;
                                &#x27;multi-choice&#x27;) {
                                @if(item.name.value &#x3D;&#x3D;&#x3D; &#x27;trim&#x27; &amp;&amp; !checkFilterQueryMakeModelExist()) {
                                &lt;div class&#x3D;&quot;flex justify-content-center w-full font-bold mt-2&quot;&gt;
                                    Please select a make and model first
                                &lt;/div&gt;
                                } @else {
                                &lt;div class&#x3D;&quot;flex flex-wrap gap-2 max-h-20rem overflow-y-auto&quot;&gt;
                                    @for (element of item.data; track element;let iC &#x3D; $index) {
                                    &lt;div class&#x3D;&quot;checkbox flex align-items-center gap-2 ml-1 w-full&quot;
                                        *ngIf&#x3D;&quot;((element.count &amp;&amp; element.count !&#x3D;&#x3D; 0) || element.include) || (item.name.value &#x3D;&#x3D;&#x3D; &#x27;condition&#x27; || item.name.value &#x3D;&#x3D;&#x3D; &#x27;seller_type&#x27; || item.name.value &#x3D;&#x3D;&#x3D; &#x27;home_services&#x27;)&quot;&gt;
                                        &lt;!-- &lt;p-checkbox [binary]&#x3D;&quot;true&quot; [inputId]&#x3D;&quot;element.value&quot;
                                                    [(ngModel)]&#x3D;&quot;element.checked&quot; styleClass&#x3D;&quot;outline-none&quot;&gt;&lt;/p-checkbox&gt; --&gt;
                                        &lt;input [(ngModel)]&#x3D;&quot;element.checked&quot; [id]&#x3D;&quot;element.label + iC + i&quot;
                                            type&#x3D;&quot;checkbox&quot; /&gt;
                                        &lt;label class&#x3D;&quot;flex align-items-center text-sm cursor-pointer&quot;
                                            [for]&#x3D;&quot;element.label + iC + i&quot;&gt;
                                            &lt;div class&#x3D;&quot;text-sm ml-2&quot;&gt;{{ element.label }}&lt;/div&gt;
                                            &lt;span class&#x3D;&quot;text-xs ml-1 text-900 font-bold&quot;
                                                *ngIf&#x3D;&quot;item.name.value !&#x3D;&#x3D; &#x27;condition&#x27; &amp;&amp; item.name.value !&#x3D;&#x3D; &#x27;seller_type&#x27; &amp;&amp; item.name.value !&#x3D;&#x3D; &#x27;home_services&#x27;&quot;&gt;
                                                ({{ element.count }})
                                            &lt;/span&gt;
                                        &lt;/label&gt;
                                    &lt;/div&gt;
                                    }
                                &lt;/div&gt;
                                }
                                }
                                @if (item.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27;) {
                                &lt;input pInputText [attr.aria-describedby]&#x3D;&quot;item.name.value + &#x27;-help&#x27;&quot;
                                    placeholder&#x3D;&quot;Search ...&quot; class&#x3D;&quot;w-full&quot; pKeyFilter&#x3D;&quot;alphanum&quot; *ngIf&#x3D;&quot;!isMake&quot;
                                    (keyup)&#x3D;&quot;seachByInputFromFilterList($any($event.target).value, item, i)&quot; /&gt;
                                &lt;div class&#x3D;&quot;formgrid grid max-h-30rem overflow-y-auto&quot;&gt;
                                    @if((item.search ? item.search : item.data).length &#x3D;&#x3D;&#x3D; 0) {
                                    &lt;div class&#x3D;&quot;flex justify-content-center w-full font-bold mt-2&quot;&gt;No Data Found&lt;/div&gt;
                                    } @else if(item.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27; &amp;&amp; !checkFilterQueryMakeExist()) {
                                    &lt;div class&#x3D;&quot;flex justify-content-center w-full font-bold mt-2&quot;&gt;Please select a make
                                        first&lt;/div&gt;
                                    } @else {
                                    @for (element of item.search ? sortPopupElementData(item.search) :
                                    sortPopupElementData(item.data); track element;let iS &#x3D; $index) {
                                    &lt;div class&#x3D;&quot;col-4&quot; *ngIf&#x3D;&quot;(element.count &amp;&amp; element.count !&#x3D;&#x3D; 0)&quot;&gt;
                                        &lt;div class&#x3D;&quot;flex align-items-center cursor-pointer p-2 mb-2 hover:bg-primary-100 hover:text-primary-500 border-round-md&quot;
                                            [ngClass]&#x3D;&quot;{&#x27;bg-primary-100 text-primary-500&#x27;: item.select &#x3D;&#x3D; element.value }&quot;
                                            (click)&#x3D;&quot;loadFilterDataByApplyOrList(item, element.value)&quot;&gt;
                                            &lt;div class&#x3D;&quot;flex align-items-center&quot;&gt;
                                                &lt;div class&#x3D;&quot;cursor-pointer text-sm&quot;&gt;{{ element.label }}&lt;/div&gt;
                                                &lt;div class&#x3D;&quot;cursor-pointer text-xs ml-1 font-bold text-900&quot;&gt;
                                                    ({{ element.count }})
                                                &lt;/div&gt;
                                            &lt;/div&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                    }
                                    }
                                &lt;/div&gt;
                                }
                                @if (item.type &#x3D;&#x3D;&#x3D; &#x27;multi&#x27;) {
                                &lt;div class&#x3D;&quot;flex flex-column gap-2&quot;&gt;
                                    @for (multi of item.data; track multi.name;let iM &#x3D; $index) {
                                    @if (multi.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
                                    &lt;input pInputText [attr.aria-describedby]&#x3D;&quot;multi.name.value + &#x27;-help-&#x27; + iM&quot;
                                        [(ngModel)]&#x3D;&quot;multi.temp&quot; [placeholder]&#x3D;&quot;multi.placeholder&quot; class&#x3D;&quot;w-full&quot;
                                        (keyup)&#x3D;&quot;multi.name &#x3D;&#x3D;&#x3D; &#x27;Code&#x27; ? checkPostalCode($any($event.target).value, item) : null&quot; /&gt;
                                    }
                                    @if (multi.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27;) {
                                    &lt;p-dropdown [options]&#x3D;&quot;multi.data&quot; [placeholder]&#x3D;&quot;multi.placeholder&quot;
                                        [(ngModel)]&#x3D;&quot;multi.temp&quot; [filter]&#x3D;&quot;true&quot; filterBy&#x3D;&quot;label&quot; styleClass&#x3D;&quot;w-full&quot;&gt;
                                    &lt;/p-dropdown&gt;
                                    }
                                    }
                                &lt;/div&gt;
                                }
                                &lt;!-- error section --&gt;
                                &lt;!-- &amp;&amp; item.data[0].temp &amp;&amp; item.data[1].temp --&gt;
                                @if(item.error) {
                                &lt;div class&#x3D;&quot;flex align-items-center t-2 p-3 bg-primary-100 border-round-xl&quot;&gt;
                                    &lt;i class&#x3D;&quot;pi pi-times-circle text-primary-500 text-2xl mr-2&quot;&gt;&lt;/i&gt;
                                    &lt;div class&#x3D;&quot;text-primary-500 text-sm&quot;&gt;{{ item.error }}&lt;/div&gt;
                                &lt;/div&gt;
                                }
                                &lt;!-- footer section --&gt;
                                &lt;div class&#x3D;&quot;flex justify-content-center align-items-center w-full mt-1 filter-footer&quot;
                                    *ngIf&#x3D;&quot;!isMakeModel&quot;&gt;
                                    @if (item.button) {
                                    &lt;div class&#x3D;&quot;flex w-6 align-items-center&quot;&gt;
                                        &lt;p-button label&#x3D;&quot;Apply&quot; aria-label&#x3D;&quot;Submit&quot;
                                            (onClick)&#x3D;&quot;loadFilterDataByApplyOrList(item)&quot;
                                            styleClass&#x3D;&quot;flex button-primary w-full&quot;
                                            [style]&#x3D;&quot;{ &#x27;width&#x27;: &#x27;100%;&#x27; }&quot;&gt;&lt;/p-button&gt;
                                    &lt;/div&gt;
                                    }
                                &lt;/div&gt;
                                }
                                }
                            &lt;/div&gt;
                        &lt;/div&gt;
                        @if (item.select) {
                        &lt;div class&#x3D;&quot;flex gap-2 flex-wrap mt-1 ml-4&quot;&gt;
                            @if(item.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;multi-select&#x27; || item.type &#x3D;&#x3D;&#x3D;
                            &#x27;multi-choice&#x27;){
                            @for (chip of item.select; track chip.label; let iC &#x3D; $index) {
                            &lt;p-chip [label]&#x3D;&quot;chip.label&quot; styleClass&#x3D;&quot;text-xs bg-green-100 font-semibold text-green-800&quot;&gt;&lt;/p-chip&gt;
                            }
                            }
                            @if(item.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27;){
                            &lt;p-chip [label]&#x3D;&quot;replaceStringToCapitalize(item.select, item.name.value)&quot;
                                styleClass&#x3D;&quot;text-xs bg-green-100 font-semibold text-green-800&quot;&gt;&lt;/p-chip&gt;
                            }
                            @if(item.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27;){
                            @for (chip of item.data; track chip; let iCT &#x3D; $index) {
                            @if (chip.select &amp;&amp; chip.name) {
                            &lt;p-chip [label]&#x3D;&quot;replaceStringToCapitalize(chip.name) + &#x27;: &#x27; + chip.select&quot;
                                styleClass&#x3D;&quot;text-xs bg-green-100 font-semibold text-green-800&quot;&gt;&lt;/p-chip&gt;
                            }
                            }
                            }
                            @if(item.type &#x3D;&#x3D;&#x3D; &#x27;multi&#x27;){
                            @for (chip of item.data; track chip.name; let iCM &#x3D; $index) {
                            @if (chip.select &amp;&amp; chip.name &amp;&amp; chip.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
                            &lt;p-chip [label]&#x3D;&quot;chip.name + &#x27;: &#x27; + chip.select&quot;
                                styleClass&#x3D;&quot;text-xs bg-green-100 font-semibold text-green-800&quot;&gt;&lt;/p-chip&gt;
                            }
                            @if (chip.select &amp;&amp; chip.name &amp;&amp; chip.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27;) {
                            &lt;p-chip [label]&#x3D;&quot;chip.name + &#x27;: &#x27; + chip.select&quot;
                                styleClass&#x3D;&quot;text-xs bg-green-100 font-semibold text-green-800&quot;&gt;&lt;/p-chip&gt;
                            }
                            }
                            }
                        &lt;/div&gt;
                        }
                        @if(item.name.value &#x3D;&#x3D;&#x3D; &#x27;asking_price&#x27; &amp;&amp; isPaymenShowInSidebar) {
                        &lt;p-chip [label]&#x3D;&quot;strPaymentForShidebar()&quot;
                            styleClass&#x3D;&quot; mt-2 ml-4 text-xs bg-green-100 font-semibold text-green-800&quot;&gt;&lt;/p-chip&gt;
                        }
                    &lt;/div&gt;
                    &lt;p-divider styleClass&#x3D;&quot;m-2&quot; *ngIf&#x3D;&quot;!last&quot;&gt;&lt;/p-divider&gt;
                &lt;/div&gt;
                }
                @empty {
                &lt;div class&#x3D;&quot;flex flex-column w-full&quot;&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;p-divider styleClass&#x3D;&quot;flex w-full mt-2&quot;&gt;&lt;/p-divider&gt;
                    &lt;p-skeleton styleClass&#x3D;&quot;w-full mb-2&quot; height&#x3D;&quot;2rem&quot;&gt;&lt;/p-skeleton&gt;
                &lt;/div&gt;
                }
            &lt;/div&gt;
            &lt;!-- car list --&gt;
            &lt;!-- ipad or desktop screen --&gt;
            &lt;div *ngIf&#x3D;&quot;!isMobileScreen&quot; class&#x3D;&quot;w-full xl:w-9 ml-1&quot; id&#x3D;&quot;filter-section&quot;&gt;
                &lt;!-- alert listing --&gt;
                &lt;div
                    class&#x3D;&quot;flex flex-column mb-3 bg-white p-3 border-1 border-solid surface-border border-round-xl gap-2&quot;&gt;
                    &lt;div class&#x3D;&quot;flex flex-column&quot;&gt;
                        &lt;div class&#x3D;&quot;flex mb-1&quot;&gt;
                            &lt;div class&#x3D;&quot;mr-1 font-bold&quot;&gt;Get price alerts &lt;/div&gt;and&lt;div class&#x3D;&quot;mx-1 font-bold&quot;&gt;
                                new listings
                            &lt;/div&gt;for this search right in your inbox!
                        &lt;/div&gt;
                        &lt;div class&#x3D;&quot;text-color-secondary text-xs&quot;&gt;
                            By clicking &#x27;Subscribe&#x27;, you consent to receiving emails from Auto Credit Co. You also
                            agree
                            to our Privacy Policy and Terms of Use.
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;form class&#x3D;&quot;flex flex-column lg:flex-row gap-2 mt-1&quot; [formGroup]&#x3D;&quot;formAlertListing&quot;&gt;
                        &lt;div class&#x3D;&quot;flex flex-column w-6&quot;&gt;
                            &lt;input pInputText aria-describedby&#x3D;&quot;email address&quot; formControlName&#x3D;&quot;email&quot;
                                placeholder&#x3D;&quot;Email address&quot; class&#x3D;&quot;w-full&quot; /&gt;
                            &lt;small class&#x3D;&quot;text-xs ml-2 mt-1 text-red-500 font-bold&quot;
                                *ngIf&#x3D;&quot;formAlertListing.get(&#x27;email&#x27;)!.dirty &amp;&amp; formAlertListing.get(&#x27;email&#x27;)!.invalid&quot;&gt;
                                Email Address Required
                            &lt;/small&gt;
                        &lt;/div&gt;
                        &lt;p-button label&#x3D;&quot;Subscribe&quot; aria-label&#x3D;&quot;subscribe&quot; [disabled]&#x3D;&quot;formAlertListing.invalid&quot;
                            styleClass&#x3D;&quot;flex button-primary&quot; (onClick)&#x3D;&quot;submitFilterForAlert()&quot;&gt;&lt;/p-button&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
                &lt;!-- title &amp; pagination --&gt;
                &lt;div class&#x3D;&quot;flex flex-column lg:flex-row mb-2 align-items-center justify-content-between&quot;&gt;
                    &lt;div class&#x3D;&quot;font-medium text-lg ml-3&quot;&gt;Priority Listing&lt;/div&gt;
                    &lt;p-paginator styleClass&#x3D;&quot;surface-hover p-0 mb-2&quot; (onPageChange)&#x3D;&quot;onPageChange($event)&quot;
                        [first]&#x3D;&quot;limit * page&quot; [rows]&#x3D;&quot;limit&quot; [totalRecords]&#x3D;&quot;this.objOuterLocation.count&quot;
                        [rowsPerPageOptions]&#x3D;&quot;dataPagination&quot;&gt;&lt;/p-paginator&gt;
                &lt;/div&gt;
                @if(arrAllCar &amp;&amp; arrAllCar.data) {
                &lt;div class&#x3D;&quot;flex flex-column w-full gap-3&quot;&gt;
                    @for(car of arrAllCar.data; track car._id; let i &#x3D; $index) {
                    &lt;div (click)&#x3D;&quot;redirectToCarDetails(car._id)&quot; pAnimateOnScroll enterClass&#x3D;&quot;scalein&quot;
                        leaveClass&#x3D;&quot;fadeout&quot;
                        class&#x3D;&quot;flex hover:shadow-2 p-3 w-full border-round-xl border-1 border-solid surface-border bg-white animation-duration-1000 animation-ease-in-out relative z-0&quot;
                        [ngClass]&#x3D;&quot;{ &#x27;cursor-pointer&#x27;: !currentPopUpID}&quot;&gt;
                        &lt;div class&#x3D;&quot;flex flex-column w-10 border-animation&quot;&gt;
                            &lt;div class&#x3D;&quot;flex w-full&quot;&gt;
                                &lt;div class&#x3D;&quot;flex w-15rem h-10rem border-round relative&quot;&gt;
                                    &lt;img [src]&#x3D;&quot;car.images.url&quot; [alt]&#x3D;&quot;car.images.name&quot;
                                        class&#x3D;&quot;bg-auto bg-no-repeat bg-center w-full border-round&quot;&gt;
                                    &lt;div class&#x3D;&quot;flex gap-2 absolute ml-2 mb-2 left-0 bottom-0&quot;&gt;
                                        &lt;div
                                            class&#x3D;&quot;flex align-items-center surface-600 text-white py-1 px-2 border-round&quot;&gt;
                                            &lt;i class&#x3D;&quot;pi pi-camera mr-2&quot;&gt;&lt;/i&gt;
                                            {{ car.count_image }}
                                        &lt;/div&gt;
                                        &lt;div *ngIf&#x3D;&quot;car.count_video &gt; 0&quot;
                                            class&#x3D;&quot;flex align-items-center surface-600 text-white py-1 px-2 border-round&quot;&gt;
                                            &lt;i class&#x3D;&quot;pi pi-video&quot;&gt;&lt;/i&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;flex flex-column w-8 xl:w-9 px-2 py-0 xl:px-3&quot;&gt;
                                    &lt;div
                                        class&#x3D;&quot;text-900 text-md xl:text-lg font-semibold w-11 white-space-nowrap overflow-hidden text-overflow-ellipsis&quot;&gt;
                                        {{ car.name }}
                                    &lt;/div&gt;
                                    &lt;div
                                        class&#x3D;&quot;flex flex-wrap text-xs mt-1 row-gap-1 column-gap-3 text-color-secondary w-full&quot;&gt;
                                        @if(car.condition &#x3D;&#x3D;&#x3D; &#x27;new&#x27;) {
                                        &lt;div class&#x3D;&quot;flex align-items-center text-primary font-bold uppercase&quot;&gt;
                                            &lt;span
                                                class&#x3D;&quot;material-symbols-outlined text-primary mr-1&quot;&gt;directions_car&lt;/span&gt;
                                            {{ car.condition }}
                                        &lt;/div&gt;
                                        } @else {
                                        &lt;div class&#x3D;&quot;flex align-items-center text-red-700 font-bold uppercase&quot;&gt;
                                            &lt;span
                                                class&#x3D;&quot;material-symbols-outlined text-red-700 mr-1&quot;&gt;directions_car&lt;/span&gt;
                                            {{ car.condition }}
                                        &lt;/div&gt;
                                        }
                                        &lt;div class&#x3D;&quot;flex align-items-center&quot;&gt;
                                            &lt;span class&#x3D;&quot;material-symbols-outlined mr-1&quot;&gt;speed&lt;/span&gt;
                                            {{ car.odometer }} KM
                                        &lt;/div&gt;
                                        &lt;div class&#x3D;&quot;flex align-items-center&quot;&gt;
                                            &lt;span class&#x3D;&quot;material-symbols-outlined mr-1&quot;&gt;pin_drop&lt;/span&gt;
                                            {{ car.user.length &gt; 0 ? car.user[0].address.street :
                                            car.store.address.street }}
                                            &lt;div class&#x3D;&quot;flex ml-1&quot; *ngIf&#x3D;&quot;car.distance&quot;&gt; - {{ car.distance }} &lt;/div&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;flex text-color text-sm mt-2 flex-wrap gap-1&quot;&gt;
                                        &lt;p-chip *ngIf&#x3D;&quot;findCarServices(car.store.remote_services, &#x27;trade_in&#x27;)&quot;
                                            styleClass&#x3D;&quot;surface-hover border-200 border-1 font-semibold text-xs mb-1 mr-1&quot;
                                            label&#x3D;&quot;Trade-In Online&quot;&gt;&lt;/p-chip&gt;
                                        &lt;p-chip *ngIf&#x3D;&quot;findCarServices(car.store.remote_services, &#x27;buy_online&#x27;)&quot;
                                            styleClass&#x3D;&quot;surface-hover border-200 border-1 font-semibold text-xs mb-1 mr-1&quot;
                                            label&#x3D;&quot;Buy Online&quot;&gt;&lt;/p-chip&gt;
                                        &lt;p-chip *ngIf&#x3D;&quot;findCarServices(car.store.remote_services, &#x27;home_delivery&#x27;)&quot;
                                            styleClass&#x3D;&quot;surface-hover border-200 border-1 font-semibold text-xs mb-1 mr-1&quot;
                                            label&#x3D;&quot;Home Delivery&quot;&gt;&lt;/p-chip&gt;
                                        &lt;p-chip *ngIf&#x3D;&quot;car.store.finance_apr&quot;
                                            styleClass&#x3D;&quot;surface-hover border-200 border-1 font-semibold text-xs mb-1 mr-1&quot;
                                            label&#x3D;&quot;Payment Calculator&quot;&gt;&lt;/p-chip&gt;
                                    &lt;/div&gt;
                                    &lt;!-- &lt;div class&#x3D;&quot;text-xs text-justify mt-2 overflow-hidden w-full&quot;
                                        style&#x3D;&quot;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 3;&quot;&gt;
                                        {{ car.description }}
                                    &lt;/div&gt; --&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;flex align-items-center mt-2 p-1 w-full border-round-lg&quot;
                                *ngIf&#x3D;&quot;car.seller_type &#x3D;&#x3D;&#x3D; &#x27;dealer&#x27;&quot;&gt;
                                &lt;img class&#x3D;&quot;ml-2&quot; [src]&#x3D;&quot;car.store.logo.url&quot; [alt]&#x3D;&quot;&#x27;dealer logo&#x27; + car.store.name + i&quot;
                                    width&#x3D;&quot;50&quot; height&#x3D;&quot;30&quot; /&gt;
                                &lt;div class&#x3D;&quot;font-bold text-xs ml-2&quot;&gt;{{ car.store.name }}&lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;flex align-items-center mt-2 p-2 border-round-lg w-full&quot;
                                *ngIf&#x3D;&quot;car.seller_type !&#x3D;&#x3D; &#x27;dealer&#x27;&quot;&gt;
                                &lt;p-avatar label&#x3D;&quot;PP&quot; styleClass&#x3D;&quot;mr-2&quot; /&gt;
                                &lt;div class&#x3D;&quot;font-bold text-xs ml-1&quot;&gt;Private Person&lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;p-divider styleClass&#x3D;&quot;m-0&quot; layout&#x3D;&quot;vertical&quot;&gt;&lt;/p-divider&gt;
                        &lt;div class&#x3D;&quot;flex flex-column ml-2 w-2&quot;&gt;
                            &lt;div class&#x3D;&quot;flex text-lg lg:text-2xl font-semibold ml-1&quot;&gt;
                                {{ car.asking_price | currency:&#x27;USD&#x27;:&#x27;symbol&#x27;:&#x27;2.0&#x27; }}
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;mt-1 text-color-secondary text-xs ml-1&quot;&gt;Dealer Price&lt;/div&gt;
                            &lt;p-divider *ngIf&#x3D;&quot;car.msrp&quot;&gt;&lt;/p-divider&gt;
                            &lt;div class&#x3D;&quot;flex text-xs font-medium&quot; *ngIf&#x3D;&quot;car.msrp&quot;&gt;
                                {{ car.msrp | currency:&#x27;USD&#x27;:&#x27;symbol&#x27;:&#x27;2.0&#x27; }} MSRP
                            &lt;/div&gt;
                            &lt;p-divider *ngIf&#x3D;&quot;car.seller_type &#x3D;&#x3D;&#x3D; &#x27;dealer&#x27; &amp;&amp; car.finance&quot;&gt;&lt;/p-divider&gt;
                            &lt;div class&#x3D;&quot;flex flex-column surface-hover border-1 surface-border p-2 border-round-lg&quot;
                                *ngIf&#x3D;&quot;car.seller_type &#x3D;&#x3D;&#x3D; &#x27;dealer&#x27; &amp;&amp; car.finance&quot;&gt;
                                &lt;div class&#x3D;&quot;flex flex-column xl:flex-row xl:align-items-center&quot;&gt;
                                    &lt;div class&#x3D;&quot;font-semibold&quot;&gt;
                                        {{ car.finance.amount | currency:&#x27;USD&#x27;:&#x27;symbol&#x27;:&#x27;2.0&#x27;}}
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;text-xs ml-0 xl:ml-1&quot;&gt;
                                        {{ car.finance.frequency }}
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;text-color-secondary font-medium text-xs mt-1&quot;&gt;
                                    {{ car.finance.apr }}% APR
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    } @empty {
                    &lt;div
                        class&#x3D;&quot;flex flex-column lg:flex-row gap-2 p-5 w-full border-round-xl border-1 border-solid surface-border bg-white animation-duration-1000 animation-ease-in-out relative z-0&quot;&gt;
                        &lt;span class&#x3D;&quot;material-symbols-outlined text-7xl mr-2 text-primary&quot;&gt;
                            car_crash
                        &lt;/span&gt;
                        &lt;div class&#x3D;&quot;flex flex-column&quot;&gt;
                            &lt;div class&#x3D;&quot;font-semibold text-lg&quot;&gt;No listings match your search criteria&lt;/div&gt;
                            &lt;div class&#x3D;&quot;text-xs mt-1&quot;&gt;
                                Whoops! There are no vehicles that match your criteria in your area just yet. Get on the
                                list today to get notified when listings are available in your region.
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;flex gap-2 mt-3&quot;&gt;
                                &lt;p-button label&#x3D;&quot;Get Notified&quot; size&#x3D;&quot;small&quot;
                                    (onClick)&#x3D;&quot;submitFilterForAlertDialog()&quot;&gt;&lt;/p-button&gt;
                                &lt;p-button severity&#x3D;&quot;danger&quot; label&#x3D;&quot;Clear Filters&quot; size&#x3D;&quot;small&quot;
                                    (onClick)&#x3D;&quot;onClearFilters()&quot;&gt;&lt;/p-button&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    }
                &lt;/div&gt;
                } @else {
                &lt;div class&#x3D;&quot;flex flex-column my-3 w-full gap-3&quot;&gt;
                    &lt;div class&#x3D;&quot;border-round shadow-2 surface-border p-4 surface-card&quot;&gt;
                        &lt;p-skeleton styleClass&#x3D;&quot;w-full&quot; height&#x3D;&quot;150px&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;border-round shadow-2 surface-border p-4 surface-card&quot;&gt;
                        &lt;p-skeleton styleClass&#x3D;&quot;w-full&quot; height&#x3D;&quot;150px&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;border-round shadow-2 surface-border p-4 surface-card&quot;&gt;
                        &lt;p-skeleton styleClass&#x3D;&quot;w-full&quot; height&#x3D;&quot;150px&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;border-round shadow-2 surface-border p-4 surface-card&quot;&gt;
                        &lt;p-skeleton styleClass&#x3D;&quot;w-full&quot; height&#x3D;&quot;150px&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                }
            &lt;/div&gt;
            &lt;!-- mobile --&gt;
            &lt;div *ngIf&#x3D;&quot;isMobileScreen&quot; class&#x3D;&quot;w-full&quot; id&#x3D;&quot;filter-section&quot;&gt;
                &lt;div class&#x3D;&quot;flex flex-column mb-2 align-items-center&quot;&gt;
                    &lt;div class&#x3D;&quot;font-medium text-lg mb-3&quot;&gt;Priority Listing&lt;/div&gt;
                    &lt;p-paginator styleClass&#x3D;&quot;surface-hover p-0 mb-2&quot; (onPageChange)&#x3D;&quot;onPageChange($event)&quot; [first]&#x3D;&quot;0&quot;
                        [rows]&#x3D;&quot;15&quot; [totalRecords]&#x3D;&quot;this.objOuterLocation.count&quot;
                        [rowsPerPageOptions]&#x3D;&quot;dataPagination&quot;&gt;&lt;/p-paginator&gt;
                &lt;/div&gt;
                @if(arrAllCar &amp;&amp; arrAllCar.data) {
                &lt;div class&#x3D;&quot;flex flex-column w-full gap-3&quot;&gt;
                    @for(car of arrAllCar.data; track car._id; let i &#x3D; $index) {
                    &lt;div (click)&#x3D;&quot;redirectToCarDetails(car._id)&quot;
                        class&#x3D;&quot;flex p-3 w-full border-round border-1 border-solid surface-border shadow-1 bg-white cursor-pointer&quot;&gt;
                        &lt;div class&#x3D;&quot;flex flex-column w-full&quot;&gt;
                            &lt;div class&#x3D;&quot;flex flex-column w-full&quot;&gt;
                                &lt;div class&#x3D;&quot;flex w-full max-w-25rem h-15rem border-round relative&quot;&gt;
                                    &lt;img [src]&#x3D;&quot;car.images.url&quot; [alt]&#x3D;&quot;car.images.name&quot;
                                        class&#x3D;&quot;bg-auto bg-no-repeat bg-center w-full border-round&quot;&gt;
                                    &lt;div class&#x3D;&quot;flex gap-2 absolute ml-2 mb-2 left-0 bottom-0&quot;&gt;
                                        &lt;div
                                            class&#x3D;&quot;flex align-items-center surface-600 text-white py-1 px-2 border-round&quot;&gt;
                                            &lt;i class&#x3D;&quot;pi pi-camera mr-2&quot;&gt;&lt;/i&gt;
                                            {{ car.count_image }}
                                        &lt;/div&gt;
                                        &lt;div *ngIf&#x3D;&quot;car.count_video &gt; 0&quot;
                                            class&#x3D;&quot;flex align-items-center surface-600 text-white py-1 px-2 border-round&quot;&gt;
                                            &lt;i class&#x3D;&quot;pi pi-video&quot;&gt;&lt;/i&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;!-- &lt;img [src]&#x3D;&quot;findCarPrimaryImage(car).url&quot; [alt]&#x3D;&quot;car.name&quot;
                                    class&#x3D;&quot;bg-auto bg-no-repeat bg-center border-round max-w-25rem h-15rem w-full&quot;&gt; --&gt;
                                &lt;div class&#x3D;&quot;flex flex-column w-full&quot;&gt;
                                    &lt;div class&#x3D;&quot;flex text-xs mt-2 text-color-secondary w-full&quot;&gt;
                                        @if(car.condition &#x3D;&#x3D;&#x3D; &#x27;new&#x27;) {
                                        &lt;div class&#x3D;&quot;flex align-items-center text-primary font-bold uppercase&quot;&gt;
                                            &lt;span
                                                class&#x3D;&quot;material-symbols-outlined text-primary mr-1&quot;&gt;directions_car&lt;/span&gt;
                                            {{ car.condition }}
                                        &lt;/div&gt;
                                        } @else {
                                        &lt;div class&#x3D;&quot;flex align-items-center text-red-700 font-bold uppercase&quot;&gt;
                                            &lt;span
                                                class&#x3D;&quot;material-symbols-outlined text-red-700 mr-1&quot;&gt;directions_car&lt;/span&gt;
                                            {{ car.condition }}
                                        &lt;/div&gt;
                                        }
                                        &lt;div class&#x3D;&quot;flex align-items-center ml-3&quot;&gt;
                                            &lt;span class&#x3D;&quot;material-symbols-outlined mr-1&quot;&gt;speed&lt;/span&gt;
                                            {{ car.odometer }} KM
                                        &lt;/div&gt;
                                        &lt;div class&#x3D;&quot;flex align-items-center ml-3&quot; *ngIf&#x3D;&quot;car.distance&quot;&gt;
                                            &lt;span class&#x3D;&quot;material-symbols-outlined mr-1&quot;&gt;pin_drop&lt;/span&gt;
                                            &lt;div class&#x3D;&quot;flex ml-1&quot;&gt; {{ car.distance }} &lt;/div&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                    &lt;div
                                        class&#x3D;&quot;text-primary text-sm mt-1 font-bold white-space-nowrap overflow-hidden text-overflow-ellipsis&quot;&gt;
                                        {{ car.name }}
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;flex text-color text-sm mt-2 flex-wrap gap-1&quot;&gt;
                                        &lt;p-chip *ngIf&#x3D;&quot;findCarServices(car.store.remote_services, &#x27;trade_in&#x27;)&quot;
                                            styleClass&#x3D;&quot;font-semibold text-xs mb-1 mr-1&quot;
                                            label&#x3D;&quot;Trade-In Online&quot;&gt;&lt;/p-chip&gt;
                                        &lt;p-chip *ngIf&#x3D;&quot;findCarServices(car.store.remote_services, &#x27;buy_online&#x27;)&quot;
                                            styleClass&#x3D;&quot;font-semibold text-xs mb-1 mr-1&quot; label&#x3D;&quot;Buy Online&quot;&gt;&lt;/p-chip&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;p-divider styleClass&#x3D;&quot;my-2&quot;&gt;&lt;/p-divider&gt;
                            &lt;div class&#x3D;&quot;flex w-full align-items-center justify-content-between&quot;&gt;
                                &lt;div class&#x3D;&quot;flex w-6  align-items-center&quot;&gt;
                                    &lt;div class&#x3D;&quot;flex text-md font-semibold&quot;&gt;
                                        {{ car.asking_price | currency:&#x27;USD&#x27;:&#x27;symbol&#x27;:&#x27;2.0&#x27; }}
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;mt-1 ml-2 text-color-secondary text-xs mb-1&quot;&gt;Dealer Price&lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;flex w-6 justify-content-end align-items-center&quot;&gt;
                                    &lt;div class&#x3D;&quot;flex text-xs font-medium&quot; *ngIf&#x3D;&quot;car.msrp&quot;&gt;
                                        {{ car.msrp | currency:&#x27;USD&#x27;:&#x27;symbol&#x27;:&#x27;2.0&#x27; }}
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;mt-1 ml-2 text-color-secondary text-xs mb-1&quot;&gt;MSRP&lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;p-divider styleClass&#x3D;&quot;my-2&quot;&gt;&lt;/p-divider&gt;
                            &lt;div class&#x3D;&quot;flex align-items-center p-1 w-full&quot; *ngIf&#x3D;&quot;car.seller_type &#x3D;&#x3D;&#x3D; &#x27;dealer&#x27;&quot;&gt;
                                &lt;img class&#x3D;&quot;ml-2&quot; [src]&#x3D;&quot;car.store.logo.url&quot; [alt]&#x3D;&quot;&#x27;dealer logo&#x27; + car.store.name + i&quot;
                                    width&#x3D;&quot;50&quot; height&#x3D;&quot;30&quot; /&gt;
                                &lt;div class&#x3D;&quot;font-bold text-xs ml-2&quot;&gt;{{ car.store.name }}&lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;flex align-items-center p-1 border-round-lg w-full&quot;
                                *ngIf&#x3D;&quot;car.seller_type !&#x3D;&#x3D; &#x27;dealer&#x27;&quot;&gt;
                                &lt;p-avatar label&#x3D;&quot;PP&quot; styleClass&#x3D;&quot;mr-2&quot; /&gt;
                                &lt;div class&#x3D;&quot;font-bold text-xs ml-1&quot;&gt;Private Person&lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    }
                &lt;/div&gt;
                } @else {
                &lt;div class&#x3D;&quot;flex flex-column my-3 w-full lg:w-9 gap-3&quot;&gt;
                    &lt;div class&#x3D;&quot;border-round shadow-2 surface-border p-4 surface-card&quot;&gt;
                        &lt;p-skeleton styleClass&#x3D;&quot;w-full&quot; height&#x3D;&quot;150px&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;border-round shadow-2 surface-border p-4 surface-card&quot;&gt;
                        &lt;p-skeleton styleClass&#x3D;&quot;w-full&quot; height&#x3D;&quot;150px&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;border-round shadow-2 surface-border p-4 surface-card&quot;&gt;
                        &lt;p-skeleton styleClass&#x3D;&quot;w-full&quot; height&#x3D;&quot;150px&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;border-round shadow-2 surface-border p-4 surface-card&quot;&gt;
                        &lt;p-skeleton styleClass&#x3D;&quot;w-full&quot; height&#x3D;&quot;150px&quot;&gt;&lt;/p-skeleton&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                }
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- mobile filter button --&gt;
    &lt;div class&#x3D;&quot;flex justify-content-center xl:hidden w-full sticky absolute bottom-0&quot;&gt;
        &lt;p-button label&#x3D;&quot;Filters&quot; icon&#x3D;&quot;pi pi-filter-fill&quot; (onClick)&#x3D;&quot;isMobileFilterDialogOpen &#x3D; true&quot;
            styleClass&#x3D;&quot;border-round-2xl z-1 mb-5&quot; /&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- if mobiule screen then load filter in dialog --&gt;
@if(isMobileScreen) {
&lt;!-- mobile filter dialog --&gt;
&lt;p-dialog [modal]&#x3D;&quot;true&quot; [(visible)]&#x3D;&quot;isMobileFilterDialogOpen&quot; position&#x3D;&quot;bottom&quot; styleClass&#x3D;&quot;w-full&quot;
    [closable]&#x3D;&quot;false&quot;&gt;
    &lt;ng-template pTemplate&#x3D;&quot;header&quot;&gt;
        &lt;div class&#x3D;&quot;flex justify-content-between align-items-center w-full&quot;&gt;
            &lt;div class&#x3D;&quot;font-bold text-primary-500&quot;&gt;Filters&lt;/div&gt;
            &lt;p-button label&#x3D;&quot;Done&quot; (click)&#x3D;&quot;isMobileFilterDialogOpen &#x3D; false&quot; /&gt;
        &lt;/div&gt;
    &lt;/ng-template&gt;
    @for (item of arrFilterForm; track item._id; let i &#x3D; $index; let last &#x3D; $last) {
    &lt;p-panel ref-i styleClass&#x3D;&quot;w-full&quot; [toggleable]&#x3D;&quot;true&quot; [collapsed]&#x3D;&quot;true&quot; toggler&#x3D;&quot;header&quot;&gt;
        &lt;ng-template pTemplate&#x3D;&quot;header&quot;&gt;
            &lt;div class&#x3D;&quot;flex flex-column&quot;&gt;
                &lt;div class&#x3D;&quot;flex justify-content-between&quot;&gt;
                    &lt;div class&#x3D;&quot;font-bold text-sm mb-1&quot;&gt;{{ item.name.label }}&lt;/div&gt;
                &lt;/div&gt;
                @if (item.select) {
                &lt;div class&#x3D;&quot;flex gap-2 flex-wrap mt-2&quot;&gt;
                    @if(item.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;multi-select&#x27;){
                    @for (chip of item.select; track chip; let iC &#x3D; $index) {
                    &lt;p-chip [label]&#x3D;&quot;chip.label&quot; styleClass&#x3D;&quot;text-xs bg-primary-50 text-primary-700&quot;&gt;&lt;/p-chip&gt;
                    }
                    }
                    @if(item.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27;){
                    &lt;p-chip [label]&#x3D;&quot;replaceStringToCapitalize(item.select, item.name.value)&quot;
                        styleClass&#x3D;&quot;text-xs bg-primary-50 text-primary-700&quot;&gt;&lt;/p-chip&gt;
                    }
                    @if(item.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27;){
                    @for (chip of item.data; track chip; let iCT &#x3D; $index) {
                    @if (chip.select &amp;&amp; chip.name) {
                    &lt;p-chip [label]&#x3D;&quot;replaceStringToCapitalize(chip.name) + &#x27;: &#x27; + chip.select&quot;
                        styleClass&#x3D;&quot;text-xs bg-primary-50 text-primary-700&quot;&gt;&lt;/p-chip&gt;
                    }
                    }
                    }
                    @if(item.type &#x3D;&#x3D;&#x3D; &#x27;multi&#x27;){
                    @for (chip of item.data; track chip; let iCM &#x3D; $index) {
                    @if (chip.select &amp;&amp; chip.name &amp;&amp; chip.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
                    &lt;p-chip [label]&#x3D;&quot;chip.name + &#x27;: &#x27; + chip.select&quot;
                        styleClass&#x3D;&quot;text-xs bg-primary-50 text-primary-700&quot;&gt;&lt;/p-chip&gt;
                    }
                    @if (chip.select &amp;&amp; chip.name &amp;&amp; chip.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27;) {
                    &lt;p-chip [label]&#x3D;&quot;chip.name + &#x27;: &#x27; + chip.select&quot;
                        styleClass&#x3D;&quot;text-xs bg-primary-50 text-primary-700&quot;&gt;&lt;/p-chip&gt;
                    }
                    }
                    }
                &lt;/div&gt;
                }
            &lt;/div&gt;
        &lt;/ng-template&gt;
        &lt;!-- check query load successfully or not --&gt;
        @if(isFilterLoading) {
        @if (item.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;multi-select&#x27; || item.type &#x3D;&#x3D;&#x3D;
        &#x27;multi-choice&#x27;) {
        &lt;div class&#x3D;&quot;flex gap-2 mt-2&quot;&gt;
            &lt;p-skeleton size&#x3D;&quot;1rem&quot; /&gt;
            &lt;p-skeleton width&#x3D;&quot;15rem&quot; height&#x3D;&quot;1rem&quot; styleClass&#x3D;&quot;mb-2&quot; /&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;flex gap-2 mt-2&quot;&gt;
            &lt;p-skeleton size&#x3D;&quot;1rem&quot; /&gt;
            &lt;p-skeleton width&#x3D;&quot;15rem&quot; height&#x3D;&quot;1rem&quot; styleClass&#x3D;&quot;mb-2&quot; /&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;flex gap-2 mt-2&quot;&gt;
            &lt;p-skeleton size&#x3D;&quot;1rem&quot; /&gt;
            &lt;p-skeleton width&#x3D;&quot;15rem&quot; height&#x3D;&quot;1rem&quot; styleClass&#x3D;&quot;mb-2&quot; /&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;flex gap-2 my-2&quot;&gt;
            &lt;p-skeleton size&#x3D;&quot;1rem&quot; /&gt;
            &lt;p-skeleton width&#x3D;&quot;15rem&quot; height&#x3D;&quot;1rem&quot; styleClass&#x3D;&quot;mb-2&quot; /&gt;
        &lt;/div&gt;
        }
        @if (item.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;multi&#x27;) {
        &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
        &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
        }
        @if (item.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27;) {
        &lt;div class&#x3D;&quot;formgrid grid&quot;&gt;
            &lt;div class&#x3D;&quot;col-4&quot;&gt;
                &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;col-4&quot;&gt;
                &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;col-4&quot;&gt;
                &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;col-4&quot;&gt;
                &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;col-4&quot;&gt;
                &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;col-4&quot;&gt;
                &lt;p-skeleton height&#x3D;&quot;2rem&quot; styleClass&#x3D;&quot;my-2&quot; /&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        }
        } @else {
        @let isMake &#x3D; item.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27; &amp;&amp; !checkFilterQueryMakeExist();
        @let isMakeModel &#x3D; item.name.value &#x3D;&#x3D;&#x3D; &#x27;trim&#x27; &amp;&amp; !checkFilterQueryMakeModelExist();
        &lt;!-- body section --&gt;
        @if (item.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
        &lt;div class&#x3D;&quot;flex flex-column gap-2&quot;&gt;
            @for (element of item.data; track element;let iT &#x3D; $index) {
            &lt;input pInputText [attr.aria-describedby]&#x3D;&quot;item.name.value + &#x27;-help-&#x27; + iT&quot; [(ngModel)]&#x3D;&quot;element.temp&quot;
                [pKeyFilter]&#x3D;&quot;item.name.value &#x3D;&#x3D;&#x3D; &#x27;mileage&#x27; ? &#x27;int&#x27; : $any(item.format)&quot;
                [placeholder]&#x3D;&quot;element.placeholder&quot; class&#x3D;&quot;w-full&quot; /&gt;
            }
        &lt;/div&gt;
        }
        @if (item.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27;) {
        &lt;div class&#x3D;&quot;flex flex-column gap-2&quot;&gt;
            @for (dropdown of item.data; track dropdown;let iM &#x3D; $index) {
            &lt;p-dropdown appendTo&#x3D;&quot;body&quot;
                [options]&#x3D;&quot;item.operation &amp;&amp; iM &#x3D;&#x3D;&#x3D; 1 &amp;&amp; item.search ? sortPopupElementData(item.search) : sortPopupElementData(dropdown.data)&quot;
                [placeholder]&#x3D;&quot;dropdown.placeholder&quot; [(ngModel)]&#x3D;&quot;dropdown.temp&quot; [filter]&#x3D;&quot;true&quot; filterBy&#x3D;&quot;label&quot;
                [autoDisplayFirst]&#x3D;&quot;true&quot; styleClass&#x3D;&quot;w-full&quot;
                (onChange)&#x3D;&quot;searchByDropDownFilterOperation(iM, i, item)&quot;&gt;&lt;/p-dropdown&gt;
            }
        &lt;/div&gt;
        }
        @if (item.type &#x3D;&#x3D;&#x3D; &#x27;checkbox&#x27; || item.type &#x3D;&#x3D;&#x3D; &#x27;multi-select&#x27; || item.type &#x3D;&#x3D;&#x3D;
        &#x27;multi-choice&#x27;) {
        @if(item.name.value &#x3D;&#x3D;&#x3D; &#x27;trim&#x27; &amp;&amp; !checkFilterQueryMakeModelExist()) {
        &lt;div class&#x3D;&quot;flex justify-content-center w-full font-bold mt-2&quot;&gt;
            Please select a make and model first
        &lt;/div&gt;
        } @else {
        &lt;div class&#x3D;&quot;flex flex-wrap gap-2 max-h-20rem overflow-y-auto&quot;&gt;
            @for (element of item.data; track element.label;let iC &#x3D; $index) {
            &lt;div class&#x3D;&quot;checkbox flex align-items-center gap-2 ml-1 w-full&quot;
                *ngIf&#x3D;&quot;((element.count &amp;&amp; element.count !&#x3D;&#x3D; 0) || element.include) || (item.name.value &#x3D;&#x3D;&#x3D; &#x27;condition&#x27; || item.name.value &#x3D;&#x3D;&#x3D; &#x27;seller_type&#x27; || item.name.value &#x3D;&#x3D;&#x3D; &#x27;home_services&#x27;)&quot;&gt;
                &lt;!-- &lt;p-checkbox [binary]&#x3D;&quot;true&quot; [inputId]&#x3D;&quot;element.value&quot;
                            [(ngModel)]&#x3D;&quot;element.checked&quot; styleClass&#x3D;&quot;outline-none&quot;&gt;&lt;/p-checkbox&gt; --&gt;
                &lt;input [(ngModel)]&#x3D;&quot;element.checked&quot; [id]&#x3D;&quot;element.label + iC + i&quot; type&#x3D;&quot;checkbox&quot; /&gt;
                &lt;label class&#x3D;&quot;flex align-items-center text-sm cursor-pointer&quot; [for]&#x3D;&quot;element.label + iC + i&quot;&gt;
                    &lt;div class&#x3D;&quot;text-sm ml-2&quot;&gt;{{ element.label }}&lt;/div&gt;
                    &lt;span class&#x3D;&quot;text-xs ml-1 text-900 font-bold&quot;
                        *ngIf&#x3D;&quot;item.name.value !&#x3D;&#x3D; &#x27;condition&#x27; &amp;&amp; item.name.value !&#x3D;&#x3D; &#x27;seller_type&#x27; &amp;&amp; item.name.value !&#x3D;&#x3D; &#x27;home_services&#x27;&quot;&gt;
                        ({{ element.count }})
                    &lt;/span&gt;
                &lt;/label&gt;
            &lt;/div&gt;
            }
        &lt;/div&gt;
        }
        }
        @if (item.type &#x3D;&#x3D;&#x3D; &#x27;textbox-list&#x27;) {
        &lt;input pInputText [attr.aria-describedby]&#x3D;&quot;item.name.value + &#x27;-help&#x27;&quot; placeholder&#x3D;&quot;Search ...&quot; class&#x3D;&quot;w-full&quot;
            pKeyFilter&#x3D;&quot;alphanum&quot; *ngIf&#x3D;&quot;!isMake&quot;
            (keyup)&#x3D;&quot;seachByInputFromFilterList($any($event.target).value, item, i)&quot; /&gt;
        &lt;div class&#x3D;&quot;formgrid grid max-h-30rem overflow-y-auto&quot;&gt;
            @if((item.search ? item.search : item.data).length &#x3D;&#x3D;&#x3D; 0) {
            &lt;div class&#x3D;&quot;flex justify-content-center w-full font-bold mt-2&quot;&gt;No Data Found&lt;/div&gt;
            } @else if(item.name.value &#x3D;&#x3D;&#x3D; &#x27;model&#x27; &amp;&amp; !checkFilterQueryMakeExist()) {
            &lt;div class&#x3D;&quot;flex justify-content-center w-full font-bold mt-2&quot;&gt;Please select a make
                first&lt;/div&gt;
            } @else {
            @for (element of item.search ? sortPopupElementData(item.search) :
            sortPopupElementData(item.data); track element;let iS &#x3D; $index) {
            &lt;div class&#x3D;&quot;col-6&quot; *ngIf&#x3D;&quot;(element.count &amp;&amp; element.count !&#x3D;&#x3D; 0)&quot;&gt;
                &lt;div class&#x3D;&quot;flex align-items-center cursor-pointer p-2 mb-2 hover:bg-primary-100 hover:text-primary-500 border-round-md&quot;
                    [ngClass]&#x3D;&quot;{&#x27;bg-primary-100 text-primary-500&#x27;: item.select &#x3D;&#x3D; element.value }&quot;
                    (click)&#x3D;&quot;loadFilterDataByApplyOrList(item, element.value)&quot;&gt;
                    &lt;div class&#x3D;&quot;flex align-items-center&quot;&gt;
                        &lt;div class&#x3D;&quot;cursor-pointer text-sm&quot;&gt;{{ element.label }}&lt;/div&gt;
                        &lt;div class&#x3D;&quot;cursor-pointer text-xs ml-1 font-bold text-900&quot;&gt;
                            ({{ element.count }})
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            }
            }
        &lt;/div&gt;
        }
        @if (item.type &#x3D;&#x3D;&#x3D; &#x27;multi&#x27;) {
        &lt;div class&#x3D;&quot;flex flex-column gap-2&quot;&gt;
            @for (multi of item.data; track multi;let iM &#x3D; $index) {
            @if (multi.type &#x3D;&#x3D;&#x3D; &#x27;textbox&#x27;) {
            &lt;input pInputText [attr.aria-describedby]&#x3D;&quot;multi.name.value + &#x27;-help-&#x27; + iM&quot; [(ngModel)]&#x3D;&quot;multi.temp&quot;
                [placeholder]&#x3D;&quot;multi.placeholder&quot; class&#x3D;&quot;w-full&quot;
                (keyup)&#x3D;&quot;multi.name &#x3D;&#x3D;&#x3D; &#x27;Code&#x27; ? checkPostalCode($any($event.target).value, item) : null&quot; /&gt;
            }
            @if (multi.type &#x3D;&#x3D;&#x3D; &#x27;dropdown&#x27;) {
            &lt;p-dropdown [options]&#x3D;&quot;multi.data&quot; [placeholder]&#x3D;&quot;multi.placeholder&quot; [(ngModel)]&#x3D;&quot;multi.temp&quot;
                [filter]&#x3D;&quot;true&quot; filterBy&#x3D;&quot;label&quot; styleClass&#x3D;&quot;w-full&quot;&gt;
            &lt;/p-dropdown&gt;
            }
            }
        &lt;/div&gt;
        }
        &lt;!-- error section --&gt;
        &lt;!-- &amp;&amp; item.data[0].temp &amp;&amp; item.data[1].temp --&gt;
        @if(item.error) {
        &lt;div class&#x3D;&quot;flex align-items-center t-2 p-3 bg-primary-100 border-round-xl&quot;&gt;
            &lt;i class&#x3D;&quot;pi pi-times-circle text-primary-500 text-2xl mr-2&quot;&gt;&lt;/i&gt;
            &lt;div class&#x3D;&quot;text-primary-500 text-sm&quot;&gt;{{ item.error }}&lt;/div&gt;
        &lt;/div&gt;
        }
        &lt;!-- footer section --&gt;
        &lt;div class&#x3D;&quot;flex justify-content-center align-items-center w-full mt-1 filter-footer&quot; *ngIf&#x3D;&quot;!isMakeModel&quot;&gt;
            @if (item.button) {
            &lt;div class&#x3D;&quot;flex w-6 align-items-center mt-2&quot;&gt;
                &lt;p-button label&#x3D;&quot;Apply&quot; aria-label&#x3D;&quot;Submit&quot; (onClick)&#x3D;&quot;loadFilterDataByApplyOrList(item)&quot;
                    styleClass&#x3D;&quot;flex button-primary w-full&quot; [style]&#x3D;&quot;{ &#x27;width&#x27;: &#x27;100%;&#x27; }&quot;&gt;&lt;/p-button&gt;
            &lt;/div&gt;
            }
        &lt;/div&gt;
        }
    &lt;/p-panel&gt;
    }
&lt;/p-dialog&gt;
}

&lt;!-- alert subscribe --&gt;
&lt;p-dialog [modal]&#x3D;&quot;true&quot; [(visible)]&#x3D;&quot;isAlertSubscribeDialogOpen&quot; styleClass&#x3D;&quot;w-11 md:w-8 lg:w-5&quot;&gt;
    &lt;ng-template pTemplate&#x3D;&quot;header&quot;&gt;
        &lt;div class&#x3D;&quot;flex flex-column w-full&quot;&gt;
            &lt;div class&#x3D;&quot;font-bold text-primary-500&quot;&gt;Alert Subscribe&lt;/div&gt;
            &lt;div class&#x3D;&quot;text-xs text-color-secondary&quot;&gt;We will inform you when listings are available as per your search
                filters.&lt;/div&gt;
        &lt;/div&gt;
    &lt;/ng-template&gt;
    &lt;form class&#x3D;&quot;flex flex-column gap-2 mt-1 px-5 pb-5 w-full&quot; [formGroup]&#x3D;&quot;formAlertListing&quot;&gt;
        &lt;div class&#x3D;&quot;flex flex-column&quot;&gt;
            &lt;input pInputText aria-describedby&#x3D;&quot;email address&quot; formControlName&#x3D;&quot;email&quot; placeholder&#x3D;&quot;Email address&quot;
                class&#x3D;&quot;w-full&quot; /&gt;
            &lt;small class&#x3D;&quot;text-xs ml-2 mt-1 text-red-500 font-bold&quot;
                *ngIf&#x3D;&quot;formAlertListing.get(&#x27;email&#x27;)!.dirty &amp;&amp; formAlertListing.get(&#x27;email&#x27;)!.invalid&quot;&gt;
                Email Address Required
            &lt;/small&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;flex justify-content-center align-items-center mt-2&quot;&gt;
            &lt;p-button label&#x3D;&quot;Get Notified&quot; aria-label&#x3D;&quot;get_notified&quot; [disabled]&#x3D;&quot;formAlertListing.invalid&quot;
                (onClick)&#x3D;&quot;submitFilterForAlert()&quot;&gt;&lt;/p-button&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/p-dialog&gt;

&lt;!-- alert subscribe success dialog --&gt;
&lt;p-confirmDialog #cd&gt;
    &lt;ng-template pTemplate&#x3D;&quot;headless&quot; let-message&gt;
        &lt;div class&#x3D;&quot;flex flex-column align-items-center p-5 surface-overlay border-round&quot;&gt;
            &lt;div class&#x3D;&quot;border-circle surface-900 inline-flex justify-content-center align-items-center h-6rem w-6rem&quot;&gt;
                &lt;i class&#x3D;&quot;pi pi-check text-white text-5xl&quot;&gt;&lt;/i&gt;
            &lt;/div&gt;
            &lt;span class&#x3D;&quot;font-bold text-xl mb-1 mt-4&quot;&gt;
                Success
            &lt;/span&gt;
            &lt;div class&#x3D;&quot;text-sm&quot;&gt;
                You will receive new listing notifications for this search in your inbox.
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;flex align-items-center gap-2 mt-4&quot;&gt;
                &lt;button pButton label&#x3D;&quot;Done&quot; size&#x3D;&quot;small&quot; (click)&#x3D;&quot;cd.reject()&quot; class&#x3D;&quot;p-button-outlined w-8rem &quot;&gt;
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/ng-template&gt;
&lt;/p-confirmDialog&gt;

&lt;!-- toast notification --&gt;
&lt;p-toast&gt;&lt;/p-toast&gt;</code></pre>
    </div>


    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="relative">    <!-- main section -->    <div class="flex flex-column w-full xl:w-11 p-3 xl:p-0 mx-auto mt-1 xl:mt-3">        <!-- title serach panel -->        <div            class="flex flex-column align-items-center bg-white border-1 border-solid border-200 border-round-xl p-3 w-full">            <div class="text-lg font-bold text-black-alpha-60 w-full">                {{ objOuterLocation.count }} {{ objOuterLocation.condition }} {{ objOuterLocation.make }} for sale                {{ objOuterLocation.city }}            </div>            <div class="flex flex-column md:flex-row align-items-center md:justify-content-between w-full mt-3">                <div class="flex align-items-center w-full md:w-5">                    <span>Home Delivery</span>                    <i class="pi pi-info-circle ml-2"                        pTooltip="Only show cars that can be delivered to you at your address."                        tooltipPosition="bottom"></i>                    <p-inputSwitch styleClass="ml-5" (onChange)="onChangeHomeDelivery($event)"                        [ngModel]="stateHomeDelivery"></p-inputSwitch>                </div>                <div                    class="flex flex-column md:flex-row justify-content-start md:justify-content-end w-full md:w-7 mt-2 md:mt-0">                    <p-dropdown [options]="groupedSortDefault" placeholder="Select a sort" [filter]="true"                        filterBy="name" styleClass="w-full menu_left" [(ngModel)]="strDefaultSort"                        (onChange)="onChangeSortOption($event)">                    </p-dropdown>                </div>            </div>        </div>        <!-- body filter & car list -->        <div class="flex w-full my-3 relative text-sm xl:text-md" id="filter-body">            <!-- filter list -->            <div *ngIf="!isMobileScreen"                class="hidden xl:flex flex-column align-items-center bg-white border-1 border-solid border-200 border-round-xl p-3 w-3 mr-2 min-h-content">                <div class="flex flex-column w-full">                    <div class="flex justify-content-between align-items-center w-full">                        <div class="flex font-semibold text-xl align-items-center">                            {{ objOuterLocation.count }} <div class="ml-2 text-xs">Found</div>                        </div>                        <p-button label="Clear" [outlined]="true" [text]="true" (onClick)="onClearFilters()"                            *ngIf="arrAllCar"></p-button>                    </div>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                </div>                @for (item of arrFilterForm; track item._id; let i = $index; let last = $last) {                <div class="flex flex-column w-full justify-content-start"                    [attr.disabled]="item.default_hide ? true : null">                    <div                        [ngClass]="{ \'border-left-3 border-right-none border-top-none border-bottom-none border-solid border-primary border-round-lg\': item.select && item.select !== undefined && item.select.length !== 0 }">                        <div class="p-2 open-filter-popup" [id]="item.name.value +\'_0\' + i"                            [attr.disabled]="item.default_hide ? true : null"                            [ngClass]="{ \'text-primary surface-50 shadow-1 relative arrow-filter-popup\': item.name.value +\'_\' + i === currentPopUpID, \'opacity-50 select-none\': item.default_hide, \'hover:text-primary hover:surface-50 hover:shadow-1 border-round-md cursor-pointer\': !item.default_hide}"                            (click)="item.default_hide ? null : showFilterDialogOptions(item.name.value, item.name.value +\'_0\' + i, item.name.value +\'_\' + i)">                            {{ item.name.label }}                        </div>                        <div class="hidden animation-duration-500 absolute z-2 w-3 filter-popup"                            [id]="item.name.value +\'_\' + i" [ngClass]="item.name.value +\'_\' + i"                            [ngClass]="{ \'w-6\': item.type === \'textbox-list\' }">                            <div class="flex flex-column pl-3 pr-3 pt-1 pb-3 gap-2 w-full border-round-2xl shadow-2 bg-white"                                style="background-image: radial-gradient(circle at left top, var(--surface-ground), var(--surface-c))"                                [ngClass]="{ \'max-w-25rem\': item.type === \'checkbox\' || item.type === \'multi-select\' }">                                <!-- header section -->                                <div class="flex justify-content-between  align-items-center w-full py-2">                                    <div class="font-semibold text-lg">{{ item.name.label }}</div>                                    <div class="flex align-items-center">                                        <p-button *ngIf="item.name.value !== \'location\' && !isFilterLoading"                                            size="small" label="Clear" aria-label="clear-popup" [outlined]="true"                                            styleClass="mr-2 p-2" (onClick)="clearFilterFromPopUp(item)"></p-button>                                        <p-button icon="pi pi-times" severity="secondary" size="small" [rounded]="true"                                            [text]="true" aria-label="close-popup"                                            (onClick)="closeFilterPopUpByID(item.name.value +\'_\' + i)"></p-button>                                    </div>                                </div>                                <p-divider styleClass="-m-1"></p-divider>                                <!-- check query load successfully or not -->                                @if(isFilterLoading) {                                @if (item.type === \'checkbox\' || item.type === \'multi-select\' || item.type ===                                \'multi-choice\') {                                <div class="flex gap-2 mt-2">                                    <p-skeleton size="1rem" />                                    <p-skeleton width="15rem" height="1rem" styleClass="mb-2" />                                </div>                                <div class="flex gap-2 mt-2">                                    <p-skeleton size="1rem" />                                    <p-skeleton width="15rem" height="1rem" styleClass="mb-2" />                                </div>                                <div class="flex gap-2 mt-2">                                    <p-skeleton size="1rem" />                                    <p-skeleton width="15rem" height="1rem" styleClass="mb-2" />                                </div>                                <div class="flex gap-2 my-2">                                    <p-skeleton size="1rem" />                                    <p-skeleton width="15rem" height="1rem" styleClass="mb-2" />                                </div>                                }                                @if (item.type === \'textbox\' || item.type === \'dropdown\' || item.type === \'multi\') {                                <p-skeleton height="2rem" styleClass="my-2" />                                <p-skeleton height="2rem" styleClass="my-2" />                                }                                @if (item.type === \'textbox-list\') {                                <div class="formgrid grid">                                    <div class="col-4">                                        <p-skeleton height="2rem" styleClass="my-2" />                                    </div>                                    <div class="col-4">                                        <p-skeleton height="2rem" styleClass="my-2" />                                    </div>                                    <div class="col-4">                                        <p-skeleton height="2rem" styleClass="my-2" />                                    </div>                                    <div class="col-4">                                        <p-skeleton height="2rem" styleClass="my-2" />                                    </div>                                    <div class="col-4">                                        <p-skeleton height="2rem" styleClass="my-2" />                                    </div>                                    <div class="col-4">                                        <p-skeleton height="2rem" styleClass="my-2" />                                    </div>                                </div>                                }                                } @else {                                @if(item.name.value === \'asking_price\') {                                <div class="tab-price mt-2">                                    <p-tabView>                                        <!-- price tab section -->                                        <p-tabPanel header="Price">                                            <div class="mt-3">                                                @if (item.type === \'textbox\') {                                                <div class="flex flex-column gap-2">                                                    @for (element of item.data; track element;let iT = $index) {                                                    <input pInputText                                                        [attr.aria-describedby]="item.name.value + \'-help-\' + iT"                                                        [(ngModel)]="element.temp" [pKeyFilter]="$any(item.format)"                                                        [placeholder]="element.placeholder" class="w-full" />                                                    }                                                </div>                                                }                                                <!-- error section -->                                                @if(item.error) {                                                <div                                                    class="flex align-items-center my-2 p-3 bg-primary-100 border-round-xl">                                                    <i class="pi pi-times-circle text-primary-500 text-2xl mr-2"></i>                                                    <div class="text-primary-500 text-sm">{{ item.error }}</div>                                                </div>                                                }                                                <!-- footer section -->                                                <div                                                    class="flex justify-content-center align-items-center w-full mt-3 filter-footer">                                                    @if (item.button) {                                                    <div class="flex w-6 align-items-center">                                                        <p-button label="Apply" aria-label="Submit"                                                            (onClick)="loadFilterDataByApplyOrList(item)"                                                            styleClass="flex button-primary w-full"                                                            [style]="{ \'width\': \'100%;\' }"></p-button>                                                    </div>                                                    }                                                </div>                                            </div>                                        </p-tabPanel>                                        <!-- payment tab section -->                                        <p-tabPanel header="Payment">                                            <form [formGroup]="formPayment"                                                class="formgrid w-full mt-3 p-2 pb-3 border-round-lg surface-border border-1 surface-hover">                                                <div class="mb-2 col-12 p-0">                                                    <label for="min" class="ml-2 text-xs mb-1">Min</label>                                                    <input pInputText id="min" formControlName="min" class="w-full"                                                        type="number" />                                                </div>                                                <div class="mb-2 col-12 p-0">                                                    <label for="max" class="ml-2 text-xs mb-1">Max</label>                                                    <input pInputText id="max" formControlName="max" class="w-full"                                                        type="number" />                                                </div>                                                <div class="mb-2 col-12 p-0">                                                    <label for="frequency" class="ml-2 text-xs mb-1">Frequency</label>                                                    <p-dropdown [options]="objPaymentInfo.frequency"                                                        formControlName="frequency" inputId="frequency"                                                        styleClass="w-full"></p-dropdown>                                                </div>                                                <div class="mb-2 col-12 p-0">                                                    <label for="term" class="ml-2 text-xs mb-1">Term</label>                                                    <p-dropdown [options]="objPaymentInfo.term" formControlName="term"                                                        inputId="term" styleClass="w-full"></p-dropdown>                                                </div>                                                <div class="mb-2 col-12 p-0">                                                    <label for="down_payment" class="ml-2 text-xs mb-1">Down                                                        Payment</label>                                                    <input pInputText id="down_payment" formControlName="down_payment"                                                        class="w-full" id="down_payment" type="number" />                                                </div>                                                <div class="mb-2 col-12 p-0">                                                    <label for="apr" class="ml-2 text-xs mb-1">Apr (%)</label>                                                    <input pInputText id="apr" formControlName="apr" class="w-full"                                                        id="apr" type="number" />                                                </div>                                                <!-- footer section -->                                                <div                                                    class="flex justify-content-center align-items-center w-full mt-3 filter-footer">                                                    @if (item.button) {                                                    <div class="flex w-6 align-items-center">                                                        <p-button label="Calculate" aria-label="Submit"                                                            (onClick)="calculatePayment(true)"                                                            styleClass="flex button-primary w-full"                                                            [disabled]="formPayment.invalid"                                                            [style]="{ \'width\': \'100%;\' }"></p-button>                                                    </div>                                                    }                                                </div>                                            </form>                                        </p-tabPanel>                                    </p-tabView>                                </div>                                } @else {                                @let isMake = item.name.value === \'model\' && !checkFilterQueryMakeExist();                                @let isMakeModel = item.name.value === \'trim\' && !checkFilterQueryMakeModelExist();                                <!-- body section -->                                @if (item.type === \'textbox\') {                                <div class="flex flex-column gap-2">                                    @for (element of item.data; track element;let iT = $index) {                                    <input pInputText [attr.aria-describedby]="item.name.value + \'-help-\' + iT"                                        [(ngModel)]="element.temp"                                        [pKeyFilter]="item.name.value === \'mileage\' ? \'int\' : $any(item.format)"                                        [placeholder]="element.placeholder" class="w-full" />                                    }                                </div>                                }                                @if (item.type === \'dropdown\') {                                <div class="flex flex-column gap-2">                                    @for (dropdown of item.data; track dropdown;let iM = $index) {                                    <p-dropdown appendTo="body"                                        [options]="item.operation && iM === 1 && item.search ? sortPopupElementData(item.search) : sortPopupElementData(dropdown.data)"                                        [placeholder]="dropdown.placeholder" [(ngModel)]="dropdown.temp" [filter]="true"                                        filterBy="label" [autoDisplayFirst]="true" styleClass="w-full"                                        (onChange)="searchByDropDownFilterOperation(iM, i, item)"></p-dropdown>                                    }                                </div>                                }                                @if (item.type === \'checkbox\' || item.type === \'multi-select\' || item.type ===                                \'multi-choice\') {                                @if(item.name.value === \'trim\' && !checkFilterQueryMakeModelExist()) {                                <div class="flex justify-content-center w-full font-bold mt-2">                                    Please select a make and model first                                </div>                                } @else {                                <div class="flex flex-wrap gap-2 max-h-20rem overflow-y-auto">                                    @for (element of item.data; track element;let iC = $index) {                                    <div class="checkbox flex align-items-center gap-2 ml-1 w-full"                                        *ngIf="((element.count && element.count !== 0) || element.include) || (item.name.value === \'condition\' || item.name.value === \'seller_type\' || item.name.value === \'home_services\')">                                        <!-- <p-checkbox [binary]="true" [inputId]="element.value"                                                    [(ngModel)]="element.checked" styleClass="outline-none"></p-checkbox> -->                                        <input [(ngModel)]="element.checked" [id]="element.label + iC + i"                                            type="checkbox" />                                        <label class="flex align-items-center text-sm cursor-pointer"                                            [for]="element.label + iC + i">                                            <div class="text-sm ml-2">{{ element.label }}</div>                                            <span class="text-xs ml-1 text-900 font-bold"                                                *ngIf="item.name.value !== \'condition\' && item.name.value !== \'seller_type\' && item.name.value !== \'home_services\'">                                                ({{ element.count }})                                            </span>                                        </label>                                    </div>                                    }                                </div>                                }                                }                                @if (item.type === \'textbox-list\') {                                <input pInputText [attr.aria-describedby]="item.name.value + \'-help\'"                                    placeholder="Search ..." class="w-full" pKeyFilter="alphanum" *ngIf="!isMake"                                    (keyup)="seachByInputFromFilterList($any($event.target).value, item, i)" />                                <div class="formgrid grid max-h-30rem overflow-y-auto">                                    @if((item.search ? item.search : item.data).length === 0) {                                    <div class="flex justify-content-center w-full font-bold mt-2">No Data Found</div>                                    } @else if(item.name.value === \'model\' && !checkFilterQueryMakeExist()) {                                    <div class="flex justify-content-center w-full font-bold mt-2">Please select a make                                        first</div>                                    } @else {                                    @for (element of item.search ? sortPopupElementData(item.search) :                                    sortPopupElementData(item.data); track element;let iS = $index) {                                    <div class="col-4" *ngIf="(element.count && element.count !== 0)">                                        <div class="flex align-items-center cursor-pointer p-2 mb-2 hover:bg-primary-100 hover:text-primary-500 border-round-md"                                            [ngClass]="{\'bg-primary-100 text-primary-500\': item.select == element.value }"                                            (click)="loadFilterDataByApplyOrList(item, element.value)">                                            <div class="flex align-items-center">                                                <div class="cursor-pointer text-sm">{{ element.label }}</div>                                                <div class="cursor-pointer text-xs ml-1 font-bold text-900">                                                    ({{ element.count }})                                                </div>                                            </div>                                        </div>                                    </div>                                    }                                    }                                </div>                                }                                @if (item.type === \'multi\') {                                <div class="flex flex-column gap-2">                                    @for (multi of item.data; track multi.name;let iM = $index) {                                    @if (multi.type === \'textbox\') {                                    <input pInputText [attr.aria-describedby]="multi.name.value + \'-help-\' + iM"                                        [(ngModel)]="multi.temp" [placeholder]="multi.placeholder" class="w-full"                                        (keyup)="multi.name === \'Code\' ? checkPostalCode($any($event.target).value, item) : null" />                                    }                                    @if (multi.type === \'dropdown\') {                                    <p-dropdown [options]="multi.data" [placeholder]="multi.placeholder"                                        [(ngModel)]="multi.temp" [filter]="true" filterBy="label" styleClass="w-full">                                    </p-dropdown>                                    }                                    }                                </div>                                }                                <!-- error section -->                                <!-- && item.data[0].temp && item.data[1].temp -->                                @if(item.error) {                                <div class="flex align-items-center t-2 p-3 bg-primary-100 border-round-xl">                                    <i class="pi pi-times-circle text-primary-500 text-2xl mr-2"></i>                                    <div class="text-primary-500 text-sm">{{ item.error }}</div>                                </div>                                }                                <!-- footer section -->                                <div class="flex justify-content-center align-items-center w-full mt-1 filter-footer"                                    *ngIf="!isMakeModel">                                    @if (item.button) {                                    <div class="flex w-6 align-items-center">                                        <p-button label="Apply" aria-label="Submit"                                            (onClick)="loadFilterDataByApplyOrList(item)"                                            styleClass="flex button-primary w-full"                                            [style]="{ \'width\': \'100%;\' }"></p-button>                                    </div>                                    }                                </div>                                }                                }                            </div>                        </div>                        @if (item.select) {                        <div class="flex gap-2 flex-wrap mt-1 ml-4">                            @if(item.type === \'checkbox\' || item.type === \'multi-select\' || item.type ===                            \'multi-choice\'){                            @for (chip of item.select; track chip.label; let iC = $index) {                            <p-chip [label]="chip.label" styleClass="text-xs bg-green-100 font-semibold text-green-800"></p-chip>                            }                            }                            @if(item.type === \'textbox-list\'){                            <p-chip [label]="replaceStringToCapitalize(item.select, item.name.value)"                                styleClass="text-xs bg-green-100 font-semibold text-green-800"></p-chip>                            }                            @if(item.type === \'textbox\' || item.type === \'dropdown\'){                            @for (chip of item.data; track chip; let iCT = $index) {                            @if (chip.select && chip.name) {                            <p-chip [label]="replaceStringToCapitalize(chip.name) + \': \' + chip.select"                                styleClass="text-xs bg-green-100 font-semibold text-green-800"></p-chip>                            }                            }                            }                            @if(item.type === \'multi\'){                            @for (chip of item.data; track chip.name; let iCM = $index) {                            @if (chip.select && chip.name && chip.type === \'textbox\') {                            <p-chip [label]="chip.name + \': \' + chip.select"                                styleClass="text-xs bg-green-100 font-semibold text-green-800"></p-chip>                            }                            @if (chip.select && chip.name && chip.type === \'dropdown\') {                            <p-chip [label]="chip.name + \': \' + chip.select"                                styleClass="text-xs bg-green-100 font-semibold text-green-800"></p-chip>                            }                            }                            }                        </div>                        }                        @if(item.name.value === \'asking_price\' && isPaymenShowInSidebar) {                        <p-chip [label]="strPaymentForShidebar()"                            styleClass=" mt-2 ml-4 text-xs bg-green-100 font-semibold text-green-800"></p-chip>                        }                    </div>                    <p-divider styleClass="m-2" *ngIf="!last"></p-divider>                </div>                }                @empty {                <div class="flex flex-column w-full">                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                    <p-divider styleClass="flex w-full mt-2"></p-divider>                    <p-skeleton styleClass="w-full mb-2" height="2rem"></p-skeleton>                </div>                }            </div>            <!-- car list -->            <!-- ipad or desktop screen -->            <div *ngIf="!isMobileScreen" class="w-full xl:w-9 ml-1" id="filter-section">                <!-- alert listing -->                <div                    class="flex flex-column mb-3 bg-white p-3 border-1 border-solid surface-border border-round-xl gap-2">                    <div class="flex flex-column">                        <div class="flex mb-1">                            <div class="mr-1 font-bold">Get price alerts </div>and<div class="mx-1 font-bold">                                new listings                            </div>for this search right in your inbox!                        </div>                        <div class="text-color-secondary text-xs">                            By clicking \'Subscribe\', you consent to receiving emails from Auto Credit Co. You also                            agree                            to our Privacy Policy and Terms of Use.                        </div>                    </div>                    <form class="flex flex-column lg:flex-row gap-2 mt-1" [formGroup]="formAlertListing">                        <div class="flex flex-column w-6">                            <input pInputText aria-describedby="email address" formControlName="email"                                placeholder="Email address" class="w-full" />                            <small class="text-xs ml-2 mt-1 text-red-500 font-bold"                                *ngIf="formAlertListing.get(\'email\')!.dirty && formAlertListing.get(\'email\')!.invalid">                                Email Address Required                            </small>                        </div>                        <p-button label="Subscribe" aria-label="subscribe" [disabled]="formAlertListing.invalid"                            styleClass="flex button-primary" (onClick)="submitFilterForAlert()"></p-button>                    </form>                </div>                <!-- title & pagination -->                <div class="flex flex-column lg:flex-row mb-2 align-items-center justify-content-between">                    <div class="font-medium text-lg ml-3">Priority Listing</div>                    <p-paginator styleClass="surface-hover p-0 mb-2" (onPageChange)="onPageChange($event)"                        [first]="limit * page" [rows]="limit" [totalRecords]="this.objOuterLocation.count"                        [rowsPerPageOptions]="dataPagination"></p-paginator>                </div>                @if(arrAllCar && arrAllCar.data) {                <div class="flex flex-column w-full gap-3">                    @for(car of arrAllCar.data; track car._id; let i = $index) {                    <div (click)="redirectToCarDetails(car._id)" pAnimateOnScroll enterClass="scalein"                        leaveClass="fadeout"                        class="flex hover:shadow-2 p-3 w-full border-round-xl border-1 border-solid surface-border bg-white animation-duration-1000 animation-ease-in-out relative z-0"                        [ngClass]="{ \'cursor-pointer\': !currentPopUpID}">                        <div class="flex flex-column w-10 border-animation">                            <div class="flex w-full">                                <div class="flex w-15rem h-10rem border-round relative">                                    <img [src]="car.images.url" [alt]="car.images.name"                                        class="bg-auto bg-no-repeat bg-center w-full border-round">                                    <div class="flex gap-2 absolute ml-2 mb-2 left-0 bottom-0">                                        <div                                            class="flex align-items-center surface-600 text-white py-1 px-2 border-round">                                            <i class="pi pi-camera mr-2"></i>                                            {{ car.count_image }}                                        </div>                                        <div *ngIf="car.count_video > 0"                                            class="flex align-items-center surface-600 text-white py-1 px-2 border-round">                                            <i class="pi pi-video"></i>                                        </div>                                    </div>                                </div>                                <div class="flex flex-column w-8 xl:w-9 px-2 py-0 xl:px-3">                                    <div                                        class="text-900 text-md xl:text-lg font-semibold w-11 white-space-nowrap overflow-hidden text-overflow-ellipsis">                                        {{ car.name }}                                    </div>                                    <div                                        class="flex flex-wrap text-xs mt-1 row-gap-1 column-gap-3 text-color-secondary w-full">                                        @if(car.condition === \'new\') {                                        <div class="flex align-items-center text-primary font-bold uppercase">                                            <span                                                class="material-symbols-outlined text-primary mr-1">directions_car</span>                                            {{ car.condition }}                                        </div>                                        } @else {                                        <div class="flex align-items-center text-red-700 font-bold uppercase">                                            <span                                                class="material-symbols-outlined text-red-700 mr-1">directions_car</span>                                            {{ car.condition }}                                        </div>                                        }                                        <div class="flex align-items-center">                                            <span class="material-symbols-outlined mr-1">speed</span>                                            {{ car.odometer }} KM                                        </div>                                        <div class="flex align-items-center">                                            <span class="material-symbols-outlined mr-1">pin_drop</span>                                            {{ car.user.length > 0 ? car.user[0].address.street :                                            car.store.address.street }}                                            <div class="flex ml-1" *ngIf="car.distance"> - {{ car.distance }} </div>                                        </div>                                    </div>                                    <div class="flex text-color text-sm mt-2 flex-wrap gap-1">                                        <p-chip *ngIf="findCarServices(car.store.remote_services, \'trade_in\')"                                            styleClass="surface-hover border-200 border-1 font-semibold text-xs mb-1 mr-1"                                            label="Trade-In Online"></p-chip>                                        <p-chip *ngIf="findCarServices(car.store.remote_services, \'buy_online\')"                                            styleClass="surface-hover border-200 border-1 font-semibold text-xs mb-1 mr-1"                                            label="Buy Online"></p-chip>                                        <p-chip *ngIf="findCarServices(car.store.remote_services, \'home_delivery\')"                                            styleClass="surface-hover border-200 border-1 font-semibold text-xs mb-1 mr-1"                                            label="Home Delivery"></p-chip>                                        <p-chip *ngIf="car.store.finance_apr"                                            styleClass="surface-hover border-200 border-1 font-semibold text-xs mb-1 mr-1"                                            label="Payment Calculator"></p-chip>                                    </div>                                    <!-- <div class="text-xs text-justify mt-2 overflow-hidden w-full"                                        style="display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 3;">                                        {{ car.description }}                                    </div> -->                                </div>                            </div>                            <div class="flex align-items-center mt-2 p-1 w-full border-round-lg"                                *ngIf="car.seller_type === \'dealer\'">                                <img class="ml-2" [src]="car.store.logo.url" [alt]="\'dealer logo\' + car.store.name + i"                                    width="50" height="30" />                                <div class="font-bold text-xs ml-2">{{ car.store.name }}</div>                            </div>                            <div class="flex align-items-center mt-2 p-2 border-round-lg w-full"                                *ngIf="car.seller_type !== \'dealer\'">                                <p-avatar label="PP" styleClass="mr-2" />                                <div class="font-bold text-xs ml-1">Private Person</div>                            </div>                        </div>                        <p-divider styleClass="m-0" layout="vertical"></p-divider>                        <div class="flex flex-column ml-2 w-2">                            <div class="flex text-lg lg:text-2xl font-semibold ml-1">                                {{ car.asking_price | currency:\'USD\':\'symbol\':\'2.0\' }}                            </div>                            <div class="mt-1 text-color-secondary text-xs ml-1">Dealer Price</div>                            <p-divider *ngIf="car.msrp"></p-divider>                            <div class="flex text-xs font-medium" *ngIf="car.msrp">                                {{ car.msrp | currency:\'USD\':\'symbol\':\'2.0\' }} MSRP                            </div>                            <p-divider *ngIf="car.seller_type === \'dealer\' && car.finance"></p-divider>                            <div class="flex flex-column surface-hover border-1 surface-border p-2 border-round-lg"                                *ngIf="car.seller_type === \'dealer\' && car.finance">                                <div class="flex flex-column xl:flex-row xl:align-items-center">                                    <div class="font-semibold">                                        {{ car.finance.amount | currency:\'USD\':\'symbol\':\'2.0\'}}                                    </div>                                    <div class="text-xs ml-0 xl:ml-1">                                        {{ car.finance.frequency }}                                    </div>                                </div>                                <div class="text-color-secondary font-medium text-xs mt-1">                                    {{ car.finance.apr }}% APR                                </div>                            </div>                        </div>                    </div>                    } @empty {                    <div                        class="flex flex-column lg:flex-row gap-2 p-5 w-full border-round-xl border-1 border-solid surface-border bg-white animation-duration-1000 animation-ease-in-out relative z-0">                        <span class="material-symbols-outlined text-7xl mr-2 text-primary">                            car_crash                        </span>                        <div class="flex flex-column">                            <div class="font-semibold text-lg">No listings match your search criteria</div>                            <div class="text-xs mt-1">                                Whoops! There are no vehicles that match your criteria in your area just yet. Get on the                                list today to get notified when listings are available in your region.                            </div>                            <div class="flex gap-2 mt-3">                                <p-button label="Get Notified" size="small"                                    (onClick)="submitFilterForAlertDialog()"></p-button>                                <p-button severity="danger" label="Clear Filters" size="small"                                    (onClick)="onClearFilters()"></p-button>                            </div>                        </div>                    </div>                    }                </div>                } @else {                <div class="flex flex-column my-3 w-full gap-3">                    <div class="border-round shadow-2 surface-border p-4 surface-card">                        <p-skeleton styleClass="w-full" height="150px"></p-skeleton>                    </div>                    <div class="border-round shadow-2 surface-border p-4 surface-card">                        <p-skeleton styleClass="w-full" height="150px"></p-skeleton>                    </div>                    <div class="border-round shadow-2 surface-border p-4 surface-card">                        <p-skeleton styleClass="w-full" height="150px"></p-skeleton>                    </div>                    <div class="border-round shadow-2 surface-border p-4 surface-card">                        <p-skeleton styleClass="w-full" height="150px"></p-skeleton>                    </div>                </div>                }            </div>            <!-- mobile -->            <div *ngIf="isMobileScreen" class="w-full" id="filter-section">                <div class="flex flex-column mb-2 align-items-center">                    <div class="font-medium text-lg mb-3">Priority Listing</div>                    <p-paginator styleClass="surface-hover p-0 mb-2" (onPageChange)="onPageChange($event)" [first]="0"                        [rows]="15" [totalRecords]="this.objOuterLocation.count"                        [rowsPerPageOptions]="dataPagination"></p-paginator>                </div>                @if(arrAllCar && arrAllCar.data) {                <div class="flex flex-column w-full gap-3">                    @for(car of arrAllCar.data; track car._id; let i = $index) {                    <div (click)="redirectToCarDetails(car._id)"                        class="flex p-3 w-full border-round border-1 border-solid surface-border shadow-1 bg-white cursor-pointer">                        <div class="flex flex-column w-full">                            <div class="flex flex-column w-full">                                <div class="flex w-full max-w-25rem h-15rem border-round relative">                                    <img [src]="car.images.url" [alt]="car.images.name"                                        class="bg-auto bg-no-repeat bg-center w-full border-round">                                    <div class="flex gap-2 absolute ml-2 mb-2 left-0 bottom-0">                                        <div                                            class="flex align-items-center surface-600 text-white py-1 px-2 border-round">                                            <i class="pi pi-camera mr-2"></i>                                            {{ car.count_image }}                                        </div>                                        <div *ngIf="car.count_video > 0"                                            class="flex align-items-center surface-600 text-white py-1 px-2 border-round">                                            <i class="pi pi-video"></i>                                        </div>                                    </div>                                </div>                                <!-- <img [src]="findCarPrimaryImage(car).url" [alt]="car.name"                                    class="bg-auto bg-no-repeat bg-center border-round max-w-25rem h-15rem w-full"> -->                                <div class="flex flex-column w-full">                                    <div class="flex text-xs mt-2 text-color-secondary w-full">                                        @if(car.condition === \'new\') {                                        <div class="flex align-items-center text-primary font-bold uppercase">                                            <span                                                class="material-symbols-outlined text-primary mr-1">directions_car</span>                                            {{ car.condition }}                                        </div>                                        } @else {                                        <div class="flex align-items-center text-red-700 font-bold uppercase">                                            <span                                                class="material-symbols-outlined text-red-700 mr-1">directions_car</span>                                            {{ car.condition }}                                        </div>                                        }                                        <div class="flex align-items-center ml-3">                                            <span class="material-symbols-outlined mr-1">speed</span>                                            {{ car.odometer }} KM                                        </div>                                        <div class="flex align-items-center ml-3" *ngIf="car.distance">                                            <span class="material-symbols-outlined mr-1">pin_drop</span>                                            <div class="flex ml-1"> {{ car.distance }} </div>                                        </div>                                    </div>                                    <div                                        class="text-primary text-sm mt-1 font-bold white-space-nowrap overflow-hidden text-overflow-ellipsis">                                        {{ car.name }}                                    </div>                                    <div class="flex text-color text-sm mt-2 flex-wrap gap-1">                                        <p-chip *ngIf="findCarServices(car.store.remote_services, \'trade_in\')"                                            styleClass="font-semibold text-xs mb-1 mr-1"                                            label="Trade-In Online"></p-chip>                                        <p-chip *ngIf="findCarServices(car.store.remote_services, \'buy_online\')"                                            styleClass="font-semibold text-xs mb-1 mr-1" label="Buy Online"></p-chip>                                    </div>                                </div>                            </div>                            <p-divider styleClass="my-2"></p-divider>                            <div class="flex w-full align-items-center justify-content-between">                                <div class="flex w-6  align-items-center">                                    <div class="flex text-md font-semibold">                                        {{ car.asking_price | currency:\'USD\':\'symbol\':\'2.0\' }}                                    </div>                                    <div class="mt-1 ml-2 text-color-secondary text-xs mb-1">Dealer Price</div>                                </div>                                <div class="flex w-6 justify-content-end align-items-center">                                    <div class="flex text-xs font-medium" *ngIf="car.msrp">                                        {{ car.msrp | currency:\'USD\':\'symbol\':\'2.0\' }}                                    </div>                                    <div class="mt-1 ml-2 text-color-secondary text-xs mb-1">MSRP</div>                                </div>                            </div>                            <p-divider styleClass="my-2"></p-divider>                            <div class="flex align-items-center p-1 w-full" *ngIf="car.seller_type === \'dealer\'">                                <img class="ml-2" [src]="car.store.logo.url" [alt]="\'dealer logo\' + car.store.name + i"                                    width="50" height="30" />                                <div class="font-bold text-xs ml-2">{{ car.store.name }}</div>                            </div>                            <div class="flex align-items-center p-1 border-round-lg w-full"                                *ngIf="car.seller_type !== \'dealer\'">                                <p-avatar label="PP" styleClass="mr-2" />                                <div class="font-bold text-xs ml-1">Private Person</div>                            </div>                        </div>                    </div>                    }                </div>                } @else {                <div class="flex flex-column my-3 w-full lg:w-9 gap-3">                    <div class="border-round shadow-2 surface-border p-4 surface-card">                        <p-skeleton styleClass="w-full" height="150px"></p-skeleton>                    </div>                    <div class="border-round shadow-2 surface-border p-4 surface-card">                        <p-skeleton styleClass="w-full" height="150px"></p-skeleton>                    </div>                    <div class="border-round shadow-2 surface-border p-4 surface-card">                        <p-skeleton styleClass="w-full" height="150px"></p-skeleton>                    </div>                    <div class="border-round shadow-2 surface-border p-4 surface-card">                        <p-skeleton styleClass="w-full" height="150px"></p-skeleton>                    </div>                </div>                }            </div>        </div>    </div>    <!-- mobile filter button -->    <div class="flex justify-content-center xl:hidden w-full sticky absolute bottom-0">        <p-button label="Filters" icon="pi pi-filter-fill" (onClick)="isMobileFilterDialogOpen = true"            styleClass="border-round-2xl z-1 mb-5" />    </div></div><!-- if mobiule screen then load filter in dialog -->@if(isMobileScreen) {<!-- mobile filter dialog --><p-dialog [modal]="true" [(visible)]="isMobileFilterDialogOpen" position="bottom" styleClass="w-full"    [closable]="false">    <ng-template pTemplate="header">        <div class="flex justify-content-between align-items-center w-full">            <div class="font-bold text-primary-500">Filters</div>            <p-button label="Done" (click)="isMobileFilterDialogOpen = false" />        </div>    </ng-template>    @for (item of arrFilterForm; track item._id; let i = $index; let last = $last) {    <p-panel ref-i styleClass="w-full" [toggleable]="true" [collapsed]="true" toggler="header">        <ng-template pTemplate="header">            <div class="flex flex-column">                <div class="flex justify-content-between">                    <div class="font-bold text-sm mb-1">{{ item.name.label }}</div>                </div>                @if (item.select) {                <div class="flex gap-2 flex-wrap mt-2">                    @if(item.type === \'checkbox\' || item.type === \'multi-select\'){                    @for (chip of item.select; track chip; let iC = $index) {                    <p-chip [label]="chip.label" styleClass="text-xs bg-primary-50 text-primary-700"></p-chip>                    }                    }                    @if(item.type === \'textbox-list\'){                    <p-chip [label]="replaceStringToCapitalize(item.select, item.name.value)"                        styleClass="text-xs bg-primary-50 text-primary-700"></p-chip>                    }                    @if(item.type === \'textbox\' || item.type === \'dropdown\'){                    @for (chip of item.data; track chip; let iCT = $index) {                    @if (chip.select && chip.name) {                    <p-chip [label]="replaceStringToCapitalize(chip.name) + \': \' + chip.select"                        styleClass="text-xs bg-primary-50 text-primary-700"></p-chip>                    }                    }                    }                    @if(item.type === \'multi\'){                    @for (chip of item.data; track chip; let iCM = $index) {                    @if (chip.select && chip.name && chip.type === \'textbox\') {                    <p-chip [label]="chip.name + \': \' + chip.select"                        styleClass="text-xs bg-primary-50 text-primary-700"></p-chip>                    }                    @if (chip.select && chip.name && chip.type === \'dropdown\') {                    <p-chip [label]="chip.name + \': \' + chip.select"                        styleClass="text-xs bg-primary-50 text-primary-700"></p-chip>                    }                    }                    }                </div>                }            </div>        </ng-template>        <!-- check query load successfully or not -->        @if(isFilterLoading) {        @if (item.type === \'checkbox\' || item.type === \'multi-select\' || item.type ===        \'multi-choice\') {        <div class="flex gap-2 mt-2">            <p-skeleton size="1rem" />            <p-skeleton width="15rem" height="1rem" styleClass="mb-2" />        </div>        <div class="flex gap-2 mt-2">            <p-skeleton size="1rem" />            <p-skeleton width="15rem" height="1rem" styleClass="mb-2" />        </div>        <div class="flex gap-2 mt-2">            <p-skeleton size="1rem" />            <p-skeleton width="15rem" height="1rem" styleClass="mb-2" />        </div>        <div class="flex gap-2 my-2">            <p-skeleton size="1rem" />            <p-skeleton width="15rem" height="1rem" styleClass="mb-2" />        </div>        }        @if (item.type === \'textbox\' || item.type === \'dropdown\' || item.type === \'multi\') {        <p-skeleton height="2rem" styleClass="my-2" />        <p-skeleton height="2rem" styleClass="my-2" />        }        @if (item.type === \'textbox-list\') {        <div class="formgrid grid">            <div class="col-4">                <p-skeleton height="2rem" styleClass="my-2" />            </div>            <div class="col-4">                <p-skeleton height="2rem" styleClass="my-2" />            </div>            <div class="col-4">                <p-skeleton height="2rem" styleClass="my-2" />            </div>            <div class="col-4">                <p-skeleton height="2rem" styleClass="my-2" />            </div>            <div class="col-4">                <p-skeleton height="2rem" styleClass="my-2" />            </div>            <div class="col-4">                <p-skeleton height="2rem" styleClass="my-2" />            </div>        </div>        }        } @else {        @let isMake = item.name.value === \'model\' && !checkFilterQueryMakeExist();        @let isMakeModel = item.name.value === \'trim\' && !checkFilterQueryMakeModelExist();        <!-- body section -->        @if (item.type === \'textbox\') {        <div class="flex flex-column gap-2">            @for (element of item.data; track element;let iT = $index) {            <input pInputText [attr.aria-describedby]="item.name.value + \'-help-\' + iT" [(ngModel)]="element.temp"                [pKeyFilter]="item.name.value === \'mileage\' ? \'int\' : $any(item.format)"                [placeholder]="element.placeholder" class="w-full" />            }        </div>        }        @if (item.type === \'dropdown\') {        <div class="flex flex-column gap-2">            @for (dropdown of item.data; track dropdown;let iM = $index) {            <p-dropdown appendTo="body"                [options]="item.operation && iM === 1 && item.search ? sortPopupElementData(item.search) : sortPopupElementData(dropdown.data)"                [placeholder]="dropdown.placeholder" [(ngModel)]="dropdown.temp" [filter]="true" filterBy="label"                [autoDisplayFirst]="true" styleClass="w-full"                (onChange)="searchByDropDownFilterOperation(iM, i, item)"></p-dropdown>            }        </div>        }        @if (item.type === \'checkbox\' || item.type === \'multi-select\' || item.type ===        \'multi-choice\') {        @if(item.name.value === \'trim\' && !checkFilterQueryMakeModelExist()) {        <div class="flex justify-content-center w-full font-bold mt-2">            Please select a make and model first        </div>        } @else {        <div class="flex flex-wrap gap-2 max-h-20rem overflow-y-auto">            @for (element of item.data; track element.label;let iC = $index) {            <div class="checkbox flex align-items-center gap-2 ml-1 w-full"                *ngIf="((element.count && element.count !== 0) || element.include) || (item.name.value === \'condition\' || item.name.value === \'seller_type\' || item.name.value === \'home_services\')">                <!-- <p-checkbox [binary]="true" [inputId]="element.value"                            [(ngModel)]="element.checked" styleClass="outline-none"></p-checkbox> -->                <input [(ngModel)]="element.checked" [id]="element.label + iC + i" type="checkbox" />                <label class="flex align-items-center text-sm cursor-pointer" [for]="element.label + iC + i">                    <div class="text-sm ml-2">{{ element.label }}</div>                    <span class="text-xs ml-1 text-900 font-bold"                        *ngIf="item.name.value !== \'condition\' && item.name.value !== \'seller_type\' && item.name.value !== \'home_services\'">                        ({{ element.count }})                    </span>                </label>            </div>            }        </div>        }        }        @if (item.type === \'textbox-list\') {        <input pInputText [attr.aria-describedby]="item.name.value + \'-help\'" placeholder="Search ..." class="w-full"            pKeyFilter="alphanum" *ngIf="!isMake"            (keyup)="seachByInputFromFilterList($any($event.target).value, item, i)" />        <div class="formgrid grid max-h-30rem overflow-y-auto">            @if((item.search ? item.search : item.data).length === 0) {            <div class="flex justify-content-center w-full font-bold mt-2">No Data Found</div>            } @else if(item.name.value === \'model\' && !checkFilterQueryMakeExist()) {            <div class="flex justify-content-center w-full font-bold mt-2">Please select a make                first</div>            } @else {            @for (element of item.search ? sortPopupElementData(item.search) :            sortPopupElementData(item.data); track element;let iS = $index) {            <div class="col-6" *ngIf="(element.count && element.count !== 0)">                <div class="flex align-items-center cursor-pointer p-2 mb-2 hover:bg-primary-100 hover:text-primary-500 border-round-md"                    [ngClass]="{\'bg-primary-100 text-primary-500\': item.select == element.value }"                    (click)="loadFilterDataByApplyOrList(item, element.value)">                    <div class="flex align-items-center">                        <div class="cursor-pointer text-sm">{{ element.label }}</div>                        <div class="cursor-pointer text-xs ml-1 font-bold text-900">                            ({{ element.count }})                        </div>                    </div>                </div>            </div>            }            }        </div>        }        @if (item.type === \'multi\') {        <div class="flex flex-column gap-2">            @for (multi of item.data; track multi;let iM = $index) {            @if (multi.type === \'textbox\') {            <input pInputText [attr.aria-describedby]="multi.name.value + \'-help-\' + iM" [(ngModel)]="multi.temp"                [placeholder]="multi.placeholder" class="w-full"                (keyup)="multi.name === \'Code\' ? checkPostalCode($any($event.target).value, item) : null" />            }            @if (multi.type === \'dropdown\') {            <p-dropdown [options]="multi.data" [placeholder]="multi.placeholder" [(ngModel)]="multi.temp"                [filter]="true" filterBy="label" styleClass="w-full">            </p-dropdown>            }            }        </div>        }        <!-- error section -->        <!-- && item.data[0].temp && item.data[1].temp -->        @if(item.error) {        <div class="flex align-items-center t-2 p-3 bg-primary-100 border-round-xl">            <i class="pi pi-times-circle text-primary-500 text-2xl mr-2"></i>            <div class="text-primary-500 text-sm">{{ item.error }}</div>        </div>        }        <!-- footer section -->        <div class="flex justify-content-center align-items-center w-full mt-1 filter-footer" *ngIf="!isMakeModel">            @if (item.button) {            <div class="flex w-6 align-items-center mt-2">                <p-button label="Apply" aria-label="Submit" (onClick)="loadFilterDataByApplyOrList(item)"                    styleClass="flex button-primary w-full" [style]="{ \'width\': \'100%;\' }"></p-button>            </div>            }        </div>        }    </p-panel>    }</p-dialog>}<!-- alert subscribe --><p-dialog [modal]="true" [(visible)]="isAlertSubscribeDialogOpen" styleClass="w-11 md:w-8 lg:w-5">    <ng-template pTemplate="header">        <div class="flex flex-column w-full">            <div class="font-bold text-primary-500">Alert Subscribe</div>            <div class="text-xs text-color-secondary">We will inform you when listings are available as per your search                filters.</div>        </div>    </ng-template>    <form class="flex flex-column gap-2 mt-1 px-5 pb-5 w-full" [formGroup]="formAlertListing">        <div class="flex flex-column">            <input pInputText aria-describedby="email address" formControlName="email" placeholder="Email address"                class="w-full" />            <small class="text-xs ml-2 mt-1 text-red-500 font-bold"                *ngIf="formAlertListing.get(\'email\')!.dirty && formAlertListing.get(\'email\')!.invalid">                Email Address Required            </small>        </div>        <div class="flex justify-content-center align-items-center mt-2">            <p-button label="Get Notified" aria-label="get_notified" [disabled]="formAlertListing.invalid"                (onClick)="submitFilterForAlert()"></p-button>        </div>    </form></p-dialog><!-- alert subscribe success dialog --><p-confirmDialog #cd>    <ng-template pTemplate="headless" let-message>        <div class="flex flex-column align-items-center p-5 surface-overlay border-round">            <div class="border-circle surface-900 inline-flex justify-content-center align-items-center h-6rem w-6rem">                <i class="pi pi-check text-white text-5xl"></i>            </div>            <span class="font-bold text-xl mb-1 mt-4">                Success            </span>            <div class="text-sm">                You will receive new listing notifications for this search in your inbox.            </div>            <div class="flex align-items-center gap-2 mt-4">                <button pButton label="Done" size="small" (click)="cd.reject()" class="p-button-outlined w-8rem ">                </button>            </div>        </div>    </ng-template></p-confirmDialog><!-- toast notification --><p-toast></p-toast></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'CarListComponent', 'selector': 'app-car-list'},{'name': 'CarManageComponent', 'selector': 'app-car-manage'},{'name': 'DealerDetailComponent', 'selector': 'app-dealer-detail'},{'name': 'FavouriteVehicleComponent', 'selector': 'app-favourite-vehicle'},{'name': 'FinanceApplicationComponent', 'selector': 'app-finance-application'},{'name': 'ForgetPasswordComponent', 'selector': 'app-forget-password'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'IndexComponent', 'selector': 'app-index'},{'name': 'InquiryComponent', 'selector': 'app-inquiry'},{'name': 'LoaderComponent', 'selector': 'app-loader'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'PageNotFoundComponent', 'selector': 'app-page-not-found'},{'name': 'PrequalifyLoanComponent', 'selector': 'app-prequalify-loan'},{'name': 'PriceAlertComponent', 'selector': 'app-price-alert'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'SearchAlertComponent', 'selector': 'app-search-alert'},{'name': 'SearchComponent', 'selector': 'app-search'},{'name': 'StoreComponent', 'selector': 'app-store'},{'name': 'UserComponent', 'selector': 'app-user'},{'name': 'VehicleDetailComponent', 'selector': 'app-vehicle-detail'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'SearchComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'SearchComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
